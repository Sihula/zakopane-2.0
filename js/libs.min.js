function debugLine(e,t,i){!0===e&&(e="true"),!1===e&&(e="false");var n,o=e;if("object"==typeof e)for(name in o="",e){var r=e[name];o+=" "+name+": "+r}1!=t||i||(o+=" "+Math.random()),1==i&&((n=jQuery("#debug_line")).width(200),500<=n.height()&&n.html(""),o=n.html()+"<br> -------------- <br>"+o),jQuery("#debug_line").show().html(o)}function debugSide(e){var t="";for(name in e){var i=e[name];t+=name+" : "+i+"<br>"}jQuery("#debug_side").show().html(t)}function trace(e){"undefined"!=typeof console&&console.log(e)}function UGFunctions(){function t(e,t,i){t.addEventListener?t.addEventListener(e,i,!1):t.attachEvent?t.attachEvent("on"+e,i):t[e]=i}var o=null,S=this,s={starTime:0,arrThemes:[],isTouchDevice:-1,isRgbaSupported:-1,timeCache:{},dataCache:{},lastEventType:"",lastEventTime:0,lastTouchStartElement:null,touchThreshold:700,handle:null};this.debugVar="",this.z__________FULL_SCREEN___________=function(){},this.toFullscreen=function(e,t){if(e.requestFullscreen)e.requestFullscreen();else if(e.mozRequestFullScreen)e.mozRequestFullScreen();else if(e.webkitRequestFullscreen)e.webkitRequestFullscreen();else{if(!e.msRequestFullscreen)return!1;e.msRequestFullscreen()}return!0},this.exitFullscreen=function(){if(0==S.isFullScreen())return!1;if(document.exitFullscreen)document.exitFullscreen();else if(document.cancelFullScreen)document.cancelFullScreen();else if(document.mozCancelFullScreen)document.mozCancelFullScreen();else if(document.webkitExitFullscreen)document.webkitExitFullscreen();else{if(!document.msExitFullscreen)return!1;document.msExitFullscreen()}return!0},this.addFullScreenChangeEvent=function(e){document.webkitCancelFullScreen?t("webkitfullscreenchange",document,e):document.msExitFullscreen?t("MSFullscreenChange",document,e):document.mozCancelFullScreen?t("mozfullscreenchange",document,e):t("fullscreenchange",document,e)},this.destroyFullScreenChangeEvent=function(){jQuery(document).unbind("fullscreenChange"),jQuery(document).unbind("mozfullscreenchange"),jQuery(document).unbind("webkitfullscreenchange"),jQuery(document).unbind("MSFullscreenChange")},this.getFullScreenElement=function(){return document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement},this.isFullScreen=function(){var e=document.fullscreen||document.mozFullScreen||document.webkitIsFullScreen||document.msFullscreenElement;return!!e},this.z__________GET_PROPS___________=function(){},this.getBrowserPrefix=function(){if(null!==o)return o;var e=["webkit","Moz","ms","O"],t=document.createElement("div");for(var i in e){var n=e[i];if(n+"Transform"in t.style)return n=n.toLowerCase(),o=n}return o=""},this.getImageInsideParentDataByImage=function(e,t,i){var n=e.parent(),o=S.getImageOriginalSize(e);return S.getImageInsideParentData(n,o.width,o.height,t,i)},this.getImageInsideParentData=function(e,t,i,n,o,r,s){o=o||{};var a={};void 0===r&&(r=e.width()),void 0===s&&(s=e.height()),o.padding_left&&(r-=o.padding_left),o.padding_right&&(r-=o.padding_right),o.padding_top&&(s-=o.padding_top),o.padding_bottom&&(s-=o.padding_bottom);var l,d=null,u="100%",c=null,g=null,p="display:block;margin:0px auto;";return 0<t&&0<i&&("down"==n&&t<r&&i<s?(g=(r-(d=t))/2,c=(s-(u=i))/2):"fill"==n?(d=(u=s)*(l=t/i))<r?(u=(d=r)/l,g=0,c=Math.round((u-s)/2*-1)):(c=0,g=Math.round((d-r)/2*-1)):(c=0,g=(r-(d=(u=s)*(l=t/i)))/2,"fitvert"!=n&&r<d&&(g=0,c=(s-(u=(d=r)/l))/2)),d=Math.floor(d),u=Math.floor(u),c=Math.floor(c),g=Math.floor(g),p="position:absolute;"),o.padding_top&&(c+=o.padding_top),o.padding_left&&(g+=o.padding_left),a.imageWidth=d,a.imageHeight=u,a.imageTop=c,a.imageLeft=g,a.imageRight=g+d,a.imageBottom=0==c||"100%"==u?null:c+u,a.style=p,a},this.getElementCenterPosition=function(e,t){var i=e.parent(),n=S.getElementSize(e),o=S.getElementSize(i),r=o.width,s=o.height;t&&void 0!==t.padding_top&&(s-=t.padding_top),t&&void 0!==t.padding_bottom&&(s-=t.padding_bottom),t&&void 0!==t.padding_left&&(r-=t.padding_left),t&&void 0!==t.padding_right&&(r-=t.padding_right);var a={};return a.left=Math.round((r-n.width)/2),a.top=Math.round((s-n.height)/2),t&&void 0!==t.padding_top&&(a.top+=t.padding_top),t&&void 0!==t.padding_left&&(a.left+=t.padding_left),a},this.getElementCenterPoint=function(e,t){t=t||!1;var i=S.getElementSize(e),n={};return n.x=i.width/2,n.y=i.height/2,1==t&&(n.x+=i.left,n.y+=i.top),n.x=Math.round(n.x),n.y=Math.round(n.y),n},this.getMousePosition=function(e,t){var i,n={pageX:e.pageX,pageY:e.pageY,clientX:e.clientX,clientY:e.clientY};return e.originalEvent&&e.originalEvent.touches&&0<e.originalEvent.touches.length&&(n.pageX=e.originalEvent.touches[0].pageX,n.pageY=e.originalEvent.touches[0].pageY,n.clientX=e.originalEvent.touches[0].clientX,n.clientY=e.originalEvent.touches[0].clientY),t&&(i=t.offset(),n.mouseX=n.pageX-i.left,n.mouseY=n.pageY-i.top),n},this.getMouseElementPoint=function(e,t){var i={x:e.pageX,y:e.pageY};return S.getElementLocalPoint(i,t)},this.getElementLocalPoint=function(e,t){var i={},n=t.offset();return i.x=Math.round(e.x-n.left),i.y=Math.round(e.y-n.top),i},this.getImageOriginalSize=function(e,t,i){if(void 0!==t&&void 0!==i)return{width:t,height:i};var n=e[0];if(void 0===n)throw new Error("getImageOriginalSize error - Image not found");var o={};if(void 0!==n.naturalWidth)return o.width=n.naturalWidth,o.height=n.naturalHeight,o;if("number"==typeof e.data("naturalWidth"))return(o={}).width=e.data("naturalWidth"),o.height=e.data("naturalHeight"),o;var r=new Image;return r.src=n.src,r.complete?(o.width=r.width,o.height=r.height,e.data("naturalWidth",o.width),e.data("naturalHeight",o.height),o):{width:0,height:0}},this.getimageRatio=function(e){var t=S.getImageOriginalSize(e);return S.getElementSize(e).width/t.width},this.isImageFitParent=function(e){var t=e.parent(),i=S.getElementSize(e),n=S.getElementSize(t);return i.width<=n.width&&i.height<=n.height},this.getElementSize=function(e){if(void 0===e)throw new Error("Can't get size, empty element");var t=e.position();return t.height=e.outerHeight(),t.width=e.outerWidth(),t.left=Math.round(t.left),t.top=Math.round(t.top),t.right=t.left+t.width,t.bottom=t.top+t.height,t},this.isElementBiggerThenParent=function(e){var t=e.parent(),i=S.getElementSize(e),n=S.getElementSize(t);return i.width>n.width||i.height>n.height},this.isPointInsideElement=function(e,t){return 0!=(0<=e.x&&e.x<t.width)&&0!=(0<=e.y&&e.y<t.height)},this.getElementRelativePos=function(e,t,i,n){var o;n=n||e.parent(),o="number"==typeof e?{width:e,height:e}:S.getElementSize(e);var r=S.getElementSize(n);switch(t){case"top":case"left":t=0,i&&(t+=i);break;case"center":t=Math.round((r.width-o.width)/2),i&&(t+=i);break;case"right":t=r.width-o.width,i&&(t-=i);break;case"middle":t=Math.round((r.height-o.height)/2),i&&(t+=i);break;case"bottom":t=r.height-o.height,i&&(t-=i)}return t},this.z_________SET_ELEMENT_PROPS_______=function(){},this.zoomImageInsideParent=function(e,t,i,n,o,r,s){o=o||"fit";var a,l,d,u,c,g,p=i=i||1.2,_=e.parent(),h=S.getElementSize(e),m=S.getImageOriginalSize(e),f=!1,v=0,b=0,y=0,w=0;if(n?(l=S.getMouseElementPoint(n,e),f=S.isPointInsideElement(l,h),y=l.x,w=l.y):f=!1,0==f&&(y=(d=S.getElementCenterPoint(e)).x,w=d.y),1==t)T=h.height*p,a=h.width*p,0!=y&&(v=-(y*p-y)),0!=w&&(b=-(w*p-w));else{var T=h.height/p;if((a=h.width/p)<S.getImageInsideParentData(_,m.width,m.height,o,s).imageWidth)return S.scaleImageFitParent(e,m.width,m.height,o,s),!0;1==f&&(0!=y&&(v=-(y/p-y)),0!=w&&(b=-(w/p-w)))}if(r){var I=1;if(0!=m.width&&(I=a/m.width),r<I)return!1}return S.setElementSize(e,a,T),g=0==t&&0==f?(c=(u=S.getElementCenterPosition(e)).left,u.top):(c=h.left+v,h.top+b),S.placeElement(e,c,g),!0},this.placeElement=function(e,t,i,n,o,r){var s,a;if(0!=jQuery.isNumeric(t)&&0!=jQuery.isNumeric(i)||(r=r||e.parent(),s=S.getElementSize(e),a=S.getElementSize(r)),0==jQuery.isNumeric(t))switch(t){case"left":t=0,n&&(t+=n);break;case"center":t=Math.round((a.width-s.width)/2),n&&(t+=n);break;case"right":t=a.width-s.width,n&&(t-=n)}if(0==jQuery.isNumeric(i))switch(i){case"top":i=0,o&&(i+=o);break;case"middle":case"center":i=Math.round((a.height-s.height)/2),o&&(i+=o);break;case"bottom":i=a.height-s.height,o&&(i-=o)}var l={position:"absolute",margin:"0px"};null!==t&&(l.left=t),null!==i&&(l.top=i),e.css(l)},this.placeElementInParentCenter=function(e){S.placeElement(e,"center","middle")},this.setElementSizeAndPosition=function(e,t,i,n,o){var r={width:n+"px",height:o+"px",left:t+"px",top:i+"px",position:"absolute",margin:"0px"};e.css(r)},this.setElementSize=function(e,t,i){var n={width:t+"px"};null!=i&&(n.height=i+"px"),e.css(n)},this.cloneElementSizeAndPos=function(e,t,i,n,o){var r=e.position();if(null==r)throw new Error("Can't get size, empty element");!0===i?(r.height=e.outerHeight(),r.width=e.outerWidth()):(r.height=e.height(),r.width=e.width()),r.left=Math.round(r.left),r.top=Math.round(r.top),n&&(r.left+=n),o&&(r.top+=o),S.setElementSizeAndPosition(t,r.left,r.top,r.width,r.height)},this.placeImageInsideParent=function(e,t,i,n,o,r){var s=S.getImageInsideParentData(t,i,n,o,r),a="<img";return null!==s.imageWidth&&(a+=" width = '"+s.imageWidth+"'",s.style+="width:"+s.imageWidth+";"),null!=s.imageHeight&&("100%"==s.imageHeight?(a+=" height = '"+s.imageHeight+"'",s.style+="height:"+s.imageHeight+";"):(a+=" height = '"+s.imageHeight+"'",s.style+="height:"+s.imageHeight+"px;")),null!==s.imageTop&&(s.style+="top:"+s.imageTop+"px;"),null!==s.imageLeft&&(s.style+="left:"+s.imageLeft+"px;"),e=S.escapeDoubleSlash(e),a+=" style='"+s.style+"'",a+=' src="'+e+'"',a+=">",t.html(a),t.children("img")},this.scaleImageCoverParent=function(e,t,i){var n,o;o="number"==typeof t?(n=t,i):(n=t.outerWidth(),t.outerHeight());var r=S.getImageOriginalSize(e),s=r.width/r.height,a=o,l=a*s,d=0,u=0;l<n?(a=(l=n)/s,u=0,d=Math.round((a-o)/2*-1)):(d=0,u=Math.round((l-n)/2*-1)),l=Math.round(l),a=Math.round(a),e.css({width:l+"px",height:a+"px",left:u+"px",top:d+"px"})},this.scaleImageFitParent=function(e,t,i,n,o){var r=e.parent(),s=S.getImageInsideParentData(r,t,i,n,o),a=!1,l={};return null!==s.imageWidth&&(a=!0,e.removeAttr("width"),l.width=s.imageWidth+"px"),null!=s.imageHeight&&(a=!0,e.removeAttr("height"),l.height=s.imageHeight+"px"),null!==s.imageTop&&(a=!0,l.top=s.imageTop+"px"),null!==s.imageLeft&&(a=!0,l.left=s.imageLeft+"px"),1==a&&(l.position="absolute",l.margin="0px 0px",e.css(l)),s},this.scaleImageByHeight=function(e,t,i,n){var o=S.getImageOriginalSize(e,i,n),r=o.width/o.height,s=Math.round(t*r);t=Math.round(t),S.setElementSize(e,s,t)},this.scaleImageByWidth=function(e,t,i,n){var o=S.getImageOriginalSize(e,i,n),r=o.width/o.height,s=Math.round(t/r);t=Math.round(t),S.setElementSize(e,t,s)},this.scaleImageExactSizeInParent=function(e,t,i,n,o,r){var s=e.parent(),a=S.getElementSize(s);a.width<n&&(n=a.width),a.height<o&&(o=a.height);var l=S.getImageInsideParentData(null,t,i,r,null,n,o),d=n,u=o,c=l.imageLeft,g=l.imageLeft,p=l.imageTop,_=l.imageTop,h=Math.round((a.width-n)/2),m=Math.round((a.height-o)/2),f=n-(l.imageWidth+c+g);0!=f&&(g+=f),0!=(f=o-(l.imageHeight+p+_))&&(_+=f),e.removeAttr("width"),e.removeAttr("height");var v={position:"absolute",margin:"0px 0px"};v.width=d+"px",v.height=u+"px",v.left=h+"px",v.top=m+"px",v["padding-left"]=c+"px",v["padding-top"]=p+"px",v["padding-right"]=g+"px",v["padding-bottom"]=_+"px",e.css(v);var b={};return b.imageWidth=d,b.imageHeight=u,b},this.showElement=function(e,t,i){e.show().fadeTo(0,1),t&&t.show().fadeTo(0,1),i&&i.show().fadeTo(0,1)},this.z_________GALLERY_RELATED_FUNCTIONS_______=function(){},this.disableButton=function(e,t){t=t||"ug-button-disabled",0==S.isButtonDisabled(e,t)&&e.addClass(t)},this.convertCustomPrefixOptions=function(e,n,o){if(!n)return e;var r={};return jQuery.each(e,function(e,t){var i;0===e.indexOf(n+"_"+o+"_")?(i=e.replace(n+"_"+o+"_",o+"_"),r[i]=t):r[e]=t}),r},this.enableButton=function(e,t){t=t||"ug-button-disabled",1==S.isButtonDisabled(e,t)&&e.removeClass(t)},this.isButtonDisabled=function(e,t){return t=t||"ug-button-disabled",!!e.hasClass(t)},this.z_________MATH_FUNCTIONS_______=function(){},this.normalizeSetting=function(e,t,i,n,o,r){return o=e+(t-e)*((o-i)/(n-i)),1==(r=r||!1)&&(o<e&&(o=e),t<o&&(o=t)),o},this.getNormalizedValue=function(e,t,i,n,o){return e+(n-i)*((o-e)/(t-e))},this.getDistance=function(e,t,i,n){return Math.round(Math.sqrt(Math.abs((i-e)*(i-e)+(n-t)*(n-t))))},this.getMiddlePoint=function(e,t,i,n){var o={};return o.x=e+Math.round((i-e)/2),o.y=t+Math.round((n-t)/2),o},this.getNumItemsInSpace=function(e,t,i){return Math.floor((e+i)/(t+i))},this.getNumItemsInSpaceRound=function(e,t,i){return Math.round((e+i)/(t+i))},this.getSpaceByNumItems=function(e,t,i){return e*t+(e-1)*i},this.getItemSizeInSpace=function(e,t,i){return Math.floor((e-(t-1)*i)/t)},this.getColX=function(e,t,i){return e*(t+i)},this.getColByIndex=function(e,t){return t%e},this.getColRowByIndex=function(e,t){var i=Math.floor(e/t);return{col:Math.floor(e%t),row:i}},this.getIndexByRowCol=function(e,t,i){return e<0||t<0?-1:e*i+t},this.getPrevRowSameColIndex=function(e,t){var i=S.getColRowByIndex(e,t);return S.getIndexByRowCol(i.row-1,i.col,t)},this.getNextRowSameColIndex=function(e,t){var i=S.getColRowByIndex(e,t);return S.getIndexByRowCol(i.row+1,i.col,t)},this.z_________DATA_FUNCTIONS_______=function(){},this.setGlobalData=function(e,t){jQuery.data(document.body,e,t)},this.getGlobalData=function(e){return jQuery.data(document.body,e)},this.z_________EVENT_DATA_FUNCTIONS_______=function(){},this.handleScrollTop=function(e){if(0==S.isTouchDevice())return null;var t=S.getStoredEventData(e);if(null===t.scrollDir&&(15<Math.abs(t.diffMouseX)?t.scrollDir="hor":15<Math.abs(t.diffMouseY)&&Math.abs(t.diffMouseY)>Math.abs(t.diffMouseX)&&(t.scrollDir="vert",t.scrollStartY=t.lastMouseClientY,t.scrollOrigin=jQuery(document).scrollTop(),s.dataCache[e].scrollStartY=t.lastMouseClientY,s.dataCache[e].scrollOrigin=t.scrollOrigin),s.dataCache[e].scrollDir=t.scrollDir),"vert"!==t.scrollDir)return t.scrollDir;var i=(jQuery(document).scrollTop(),t.scrollOrigin-(t.lastMouseClientY-t.scrollStartY));return 0<=i&&jQuery(document).scrollTop(i),t.scrollDir},this.wasVerticalScroll=function(e){return"vert"===S.getStoredEventData(e).scrollDir},this.storeEventData=function(e,t,i){var n=S.getMousePosition(e),o=jQuery.now(),r={startTime:o,lastTime:o,startMouseX:n.pageX,startMouseY:n.pageY,lastMouseX:n.pageX,lastMouseY:n.pageY,startMouseClientY:n.clientY,lastMouseClientY:n.clientY,scrollTop:jQuery(document).scrollTop(),scrollDir:null};i&&(r=jQuery.extend(r,i)),s.dataCache[t]=r},this.updateStoredEventData=function(e,t,i){if(!s.dataCache[t])throw new Error("updateEventData error: must have stored cache object");var n=s.dataCache[t],o=S.getMousePosition(e);n.lastTime=jQuery.now(),void 0!==o.pageX&&(n.lastMouseX=o.pageX,n.lastMouseY=o.pageY,n.lastMouseClientY=o.clientY),i&&(n=jQuery.extend(n,i)),s.dataCache[t]=n},this.getStoredEventData=function(e,t){if(!s.dataCache[e])throw new Error("updateEventData error: must have stored cache object");var i=s.dataCache[e];return i.diffMouseX=i.lastMouseX-i.startMouseX,i.diffMouseY=i.lastMouseY-i.startMouseY,i.diffMouseClientY=i.lastMouseClientY-i.startMouseClientY,i.diffTime=i.lastTime-i.startTime,!0===t?(i.startMousePos=i.lastMouseY,i.lastMousePos=i.lastMouseY,i.diffMousePos=i.diffMouseY):(i.startMousePos=i.lastMouseX,i.lastMousePos=i.lastMouseX,i.diffMousePos=i.diffMouseX),i},this.isApproveStoredEventClick=function(e,t){if(!s.dataCache[e])return!0;var i=S.getStoredEventData(e,t),n=Math.abs(i.diffMousePos);return!(400<i.diffTime)&&!(30<n)},this.clearStoredEventData=function(e){s.dataCache[e]=null},this.z_________CHECK_SUPPORT_FUNCTIONS_______=function(){},this.isCanvasExists=function(){return"function"==typeof jQuery('<canvas width="500" height="500" > </canvas>')[0].getContext},this.isScrollbarExists=function(){return window.innerWidth>document.documentElement.clientWidth},this.isTouchDevice=function(){if(-1!==s.isTouchDevice)return s.isTouchDevice;try{document.createEvent("TouchEvent"),s.isTouchDevice=!0}catch(e){s.isTouchDevice=!1}return s.isTouchDevice},this.isRgbaSupported=function(){if(-1!==s.isRgbaSupported)return s.isRgbaSupported;var e=document.getElementsByTagName("script")[0],t=e.style.color;try{e.style.color="rgba(1,5,13,0.44)"}catch(e){}var i=e.style.color!=t;return e.style.color=t,s.isRgbaSupported=i},this.z_________GENERAL_FUNCTIONS_______=function(){},this.checkMinJqueryVersion=function(e){for(var t=jQuery.fn.jquery.split("."),i=e.split("."),n=0,o=t.length;n<o;n++){var r=parseInt(t[n]),s=parseInt(i[n]);if(void 0===i[n])return!0;if(r<s)return!1;if(s<r)return!0}return!0},this.getCssSizeParam=function(e){return jQuery.isNumeric(e)?e+"px":e},this.convertHexToRGB=function(e,t){var i=e.replace("#","");return i===e?e:(r=parseInt(i.substring(0,2),16),g=parseInt(i.substring(2,4),16),b=parseInt(i.substring(4,6),16),result="rgba("+r+","+g+","+b+","+t+")",result)},this.timestampToString=function(e){var t=new Date(e);return t.getDate()+"/"+t.getMonth()+(" "+t.getHours()+":"+t.getMinutes()+":"+t.getSeconds()+":"+t.getMilliseconds())},this.getArrTouches=function(e){var t=[];return e.originalEvent&&e.originalEvent.touches&&0<e.originalEvent.touches.length&&(t=e.originalEvent.touches),t},this.getArrTouchPositions=function(e){for(var t=[],i=0;i<e.length;i++){var n={pageX:e[i].pageX,pageY:e[i].pageY};t.push(n)}return t},this.startTimeDebug=function(){s.starTime=jQuery.now()},this.showTimeDebug=function(){debugLine({"Time Passed":jQuery.now()-s.starTime},!0)},this.initProgressIndicator=function(e,t,i){switch("bar"!=e&&0==S.isCanvasExists()&&(e="bar"),e){case"bar":(n=new UGProgressBar).putHidden(i,t);break;default:case"pie":(n=new UGProgressPie).putHidden(i,t);break;case"pie2":var n;t.type_fill=!0,(n=new UGProgressPie).putHidden(i,t)}return n},this.setButtonMobileReady=function(e){e.on("touchstart",function(e){jQuery(this).addClass("ug-nohover")}),e.on("mousedown touchend",function(e){return e.stopPropagation(),e.stopImmediatePropagation(),!1})},this.registerTheme=function(e){s.arrThemes.push(e)},this.getArrThemes=function(){return s.arrThemes},this.isThemeRegistered=function(e){return-1!==jQuery.inArray(e,s.arrThemes)},this.getFirstRegisteredTheme=function(){return 0==s.arrThemes.length?"":s.arrThemes[0]},this.isTimePassed=function(e,t){t=t||100;var i=jQuery.now();lastTime=0==s.timeCache.hasOwnProperty(e)?0:s.timeCache[e];var n=i-lastTime;return s.timeCache[e]=i,!(n<=t)},this.whenContiniousEventOver=function(e,t,i){i=i||300,1==s.timeCache.hasOwnProperty(e)&&null!=s.timeCache[e]&&(clearTimeout(s.timeCache[e]),s.timeCache[e]=null),s.timeCache[e]=setTimeout(t,i)},this.validateClickTouchstartEvent=function(e){var t=!0,i=jQuery.now()-s.lastEventTime;return"click"==e&&"touchstart"==s.lastEventType&&i<1e3&&(t=!1),s.lastEventTime=jQuery.now(),s.lastEventType=e,t},this.addClassOnHover=function(e,t){t=t||"ug-button-hover",e.hover(function(){jQuery(this).addClass(t)},function(){jQuery(this).removeClass(t)})},this.destroyButton=function(e){e.off("mouseenter"),e.off("mouseleave"),e.off("click"),e.off("touchstart"),e.off("touchend"),e.off("mousedown"),e.off("tap")},this.setButtonOnClick=function(e,t){S.setButtonMobileReady(e),e.on("click touchstart",function(e){return objThis=jQuery(this),e.stopPropagation(),e.stopImmediatePropagation(),0==S.validateClickTouchstartEvent(e.type)||void t(objThis,e)})},this.setButtonOnTap=function(e,t){e.on("tap",t),0==S.isTouchDevice()?e.on("click",function(e){var t=jQuery(this);return 0==S.validateClickTouchstartEvent(e.type)||void t.trigger("tap")}):(e.on("touchstart",function(e){jQuery(this).addClass("ug-nohover"),s.lastTouchStartElement=jQuery(this),s.lastEventTime=jQuery.now()}),e.on("touchend",function(e){var t=jQuery(this);return 0==t.is(s.lastTouchStartElement)||(!s.lastEventTime||(jQuery.now()-s.lastEventTime>s.touchThreshold||void t.trigger("tap")))}))},this.loadJs=function(e,t){!0===t&&(e=location.protocol+"//"+e);var i=document.createElement("script");i.src=e;var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(i,n)},this.loadCss=function(e,t){!0===t&&(e=location.protocol+"//"+e);var i=document.createElement("link");i.setAttribute("rel","stylesheet"),i.setAttribute("type","text/css"),i.setAttribute("href",e),document.getElementsByTagName("head")[0].appendChild(i)},this.addEvent=function(e,t,i){void 0!==e.addEventListener?e.addEventListener(t,i,!1):e.attachEvent&&e.attachEvent("on"+t,i)},this.checkImagesLoaded=function(n,i,o){function r(e,t){s++,"function"==typeof o&&setTimeout(function(){o(e,t)}),s==a&&"function"==typeof i&&setTimeout(function(){i()})}var s=0,a=n.length;return 0==a&&i?(i(),!1):void setTimeout(function(){for(var e=0;e<a;e++){var t,i=n[e];void 0!==i.naturalWidth&&0!==i.naturalWidth?r(n[e],!1):((t=jQuery("<img/>")).data("index",e),t.on("load",function(){var e=jQuery(this).data("index");r(n[e],!1)}),t.on("error",function(){var e=jQuery(this).data("index");r(n[e],!0)}),t.attr("src",i.src))}})},this.waitForWidth=function(e,t){var i=e.width();return 0!=i?(t(),!1):void(s.handle=setInterval(function(){0!=e.width()&&(clearInterval(s.handle),t())},300))},this.arrayShuffle=function(e){if("object"!=typeof e)return e;for(var t,i,n=e.length;n;t=parseInt(Math.random()*n),i=e[--n],e[n]=e[t],e[t]=i);return e},this.getObjectLength=function(e){var t=0;for(var i in e)t++;return t},this.normalizePercent=function(e){return e<0&&(e=0),1<e&&(e=1),e},this.stripTags=function(e){return e.replace(/(<([^>]+)>)/gi,"")},this.escapeDoubleSlash=function(e){return e.replace('"','"')},this.htmlentitles=function(e){return jQuery("<div/>").text(e).html()},this.z_________END_GENERAL_FUNCTIONS_______=function(){}}function UGThumbsGeneral(){function s(e,t){var i=_[e],n="";0==w.customThumbs&&(n=" ug-thumb-generated");var o,r,s="<div class='ug-thumb-wrapper"+n+"' "+("style='z-index:"+(i.index+1)+";'")+"></div>";1==y.thumb_wrapper_as_link&&(o=i.link,""==i.link&&(o="javascript:void(0)"),r="",1==y.thumb_link_newpage&&i.link&&(r=" target='_blank'"),s="<a href='"+o+"'"+r+" class='ug-thumb-wrapper"+n+"'></a>");var a,l,d=jQuery(s),u=i.objThumbImage;return 0==w.customThumbs&&(1==y.thumb_show_loader&&u&&(a="ug-thumb-loader-dark","bright"==y.thumb_loader_type&&(a="ug-thumb-loader-bright"),d.append("<div class='ug-thumb-loader "+a+"'></div>"),d.append("<div class='ug-thumb-error' style='display:none'></div>")),u&&(u.addClass("ug-thumb-image"),1==y.thumb_image_overlay_effect&&((l=u.clone().appendTo(d)).addClass("ug-thumb-image-overlay "+t).removeClass("ug-thumb-image"),l.fadeTo(0,0),i.objImageOverlay=l),d.append(u))),w.isEffectBorder&&d.append("<div class='ug-thumb-border-overlay'></div>"),w.isEffectOverlay&&d.append("<div class='ug-thumb-overlay'></div>"),h.append(d),w.customThumbs&&w.funcSetCustomThumbHtml(d,i),_[e].objThumbWrapper=d}function r(e,t,i,n){var o={width:e+"px",height:t+"px"},r={width:e-w.thumbInnerReduce+"px",height:t-w.thumbInnerReduce+"px"},s=".ug-thumb-loader, .ug-thumb-error, .ug-thumb-border-overlay, .ug-thumb-overlay";i?(!0!==n&&i.css(o),i.find(s).css(r)):(h.children(".ug-thumb-wrapper").css(o),h.find(s).css(r))}function n(e,t,i,n){n=n||!1,v.isFakeFullscreen()&&(n=!0);var o,r=e.children(".ug-thumb-border-overlay"),s={};s["border-width"]=t+"px",0!=t&&(s["border-color"]=i),n&&!0===n?(r.css(s),0==t?r.hide():r.show()):(0==t?r.stop().fadeOut(y.thumb_transition_duration):r.show().stop().fadeIn(y.thumb_transition_duration),o=s,r.stop(!0).animate(o,{duration:y.thumb_transition_duration,easing:y.thumb_transition_easing,queue:!1}))}function o(e,t,i){var n=e.children(".ug-thumb-overlay"),o=y.thumb_transition_duration;i&&!0===i&&(o=0),t?n.stop(!0).fadeTo(o,w.colorOverlayOpacity):n.stop(!0).fadeTo(o,0)}function a(e,t,i){var n=e.children("img.ug-thumb-image"),o=e.children("img.ug-thumb-image-overlay"),r=y.thumb_transition_duration;i&&!0===i&&(r=0),t?o.stop(!0).fadeTo(r,1):(n.fadeTo(0,1),o.stop(!0).fadeTo(r,0))}function t(e,t){w.isEffectBorder&&n(e,y.thumb_selected_border_width,y.thumb_selected_border_color,t),w.isEffectOverlay&&o(e,1==y.thumb_overlay_reverse,t),w.isEffectImage&&a(e,!1,t),f.trigger(m.events.SETSELECTEDSTYLE,e)}function l(e){1==u(e)?t(e,!0):m.setThumbNormalStyle(e,!0,"redraw")}function d(e,t){var i;1==y.thumb_fixed_size?b.scaleImageCoverParent(t,e):("height"==y.thumb_resize_by?b.scaleImageByHeight(t,y.thumb_height):b.scaleImageByWidth(t,y.thumb_width),i=b.getElementSize(t),b.placeElement(t,0,0),r(i.width,i.height,e)),e.children(".ug-thumb-loader").hide(),t.show(),0==y.thumb_image_overlay_effect?t.fadeTo(0,1):(1==y.thumb_image_overlay_effect&&function(e){var t=e.siblings(".ug-thumb-image-overlay");if(0==t.length)return;var i=b.getElementSize(e),n={width:i.width+"px",height:i.height+"px",left:i.left+"px",top:i.top+"px"};t.css(n),0==w.customThumbs&&t.fadeTo(0,1)}(t),t.fadeTo(0,0),l(e)),f.trigger(m.events.AFTERPLACEIMAGE,e)}function u(e){return!!e.hasClass("ug-thumb-selected")}function i(e,t){t=jQuery(t);var i=(m.getItemByThumb(t),b.getElementSize(t));r(i.width,i.height,t,!0),l(t)}function c(e,t,i){objItem=m.getItemByThumb(t),objItem.isLoaded=!0,objItem.isThumbImageLoaded=!0;var n=b.getImageOriginalSize(i);objItem.thumbWidth=n.width,objItem.thumbHeight=n.height,objItem.thumbRatioByWidth=n.width/n.height,objItem.thumbRatioByHeight=n.height/n.width,t.addClass("ug-thumb-ratio-set")}var g,p,_,h,m=this,f=jQuery(m),v=new UniteGalleryMain,b=new UGFunctions;this.type={GET_THUMBS_ALL:"all",GET_THUMBS_RATIO:"ratio",GET_THUMBS_NO_RATIO:"no_ratio",GET_THUMBS_NEW:"new"};var y={thumb_width:88,thumb_height:50,thumb_fixed_size:!0,thumb_resize_by:"height",thumb_border_effect:!0,thumb_border_width:0,thumb_border_color:"#000000",thumb_over_border_width:0,thumb_over_border_color:"#d9d9d9",thumb_selected_border_width:1,thumb_selected_border_color:"#d9d9d9",thumb_round_corners_radius:0,thumb_color_overlay_effect:!0,thumb_overlay_color:"#000000",thumb_overlay_opacity:.4,thumb_overlay_reverse:!(this.events={SETOVERSTYLE:"thumbmouseover",SETNORMALSTYLE:"thumbmouseout",SETSELECTEDSTYLE:"thumbsetselected",PLACEIMAGE:"thumbplaceimage",AFTERPLACEIMAGE:"thumb_after_place_image",IMAGELOADERROR:"thumbimageloaderror",THUMB_IMAGE_LOADED:"thumb_image_loaded"}),thumb_image_overlay_effect:!1,thumb_image_overlay_type:"bw",thumb_transition_duration:200,thumb_transition_easing:"easeOutQuad",thumb_show_loader:!0,thumb_loader_type:"dark",thumb_wrapper_as_link:!1,thumb_link_newpage:!1},w={touchEnabled:!1,num_thumbs_checking:0,customThumbs:!1,funcSetCustomThumbHtml:null,isEffectBorder:!1,isEffectOverlay:!1,isEffectImage:!1,colorOverlayOpacity:1,thumbInnerReduce:0,allowOnResize:!0,classNewThumb:"ug-new-thumb"},T="thumb_size_change";this.init=function(e,t){g=e.getObjects(),v=e,jQuery(e),p=g.g_objWrapper,_=g.g_arrItems,y=jQuery.extend(y,t),w.isEffectBorder=y.thumb_border_effect,w.isEffectOverlay=y.thumb_color_overlay_effect,w.isEffectImage=y.thumb_image_overlay_effect},this._____________EXTERNAL_SETTERS__________=function(){},this.setHtmlThumbs=function(e,t){var i;if(h=e,1==w.isEffectImage&&(i=function(){var e="",t=y.thumb_image_overlay_type.split(",");for(var i in t){switch(t[i]){case"bw":e+=" ug-bw-effect";break;case"blur":e+=" ug-blur-effect";break;case"sepia":e+=" ug-sepia-effect"}}return e}()),!0!==t)for(var n=v.getNumItems(),o=0;o<n;o++)s(o,i);else{m.getThumbs().removeClass(w.classNewThumb);var r=v.getNewAddedItemsIndexes();jQuery.each(r,function(e,t){s(t,i).addClass(w.classNewThumb)})}},this.setThumbNormalStyle=function(e,t,i){1==w.customThumbs&&e.removeClass("ug-thumb-over"),w.isEffectBorder&&n(e,y.thumb_border_width,y.thumb_border_color,t),w.isEffectOverlay&&o(e,1!=y.thumb_overlay_reverse,t),w.isEffectImage&&a(e,!0,t),f.trigger(m.events.SETNORMALSTYLE,e)},this.setThumbOverStyle=function(e){1==w.customThumbs&&e.addClass("ug-thumb-over"),w.isEffectBorder&&n(e,y.thumb_over_border_width,y.thumb_over_border_color),w.isEffectOverlay&&o(e,1==y.thumb_overlay_reverse),1==w.isEffectImage&&a(e,!1),f.trigger(m.events.SETOVERSTYLE,e)},this.setHtmlProperties=function(e){var t,i,n,o;e=e||m.getThumbs(),0==w.customThumbs&&(1==y.thumb_fixed_size&&r(y.thumb_width,y.thumb_height,e),t=e,y.thumb_round_corners_radius<=0||(i={"border-radius":y.thumb_round_corners_radius+"px"},t?(t.css(i),t.find(".ug-thumb-border-overlay").css(i)):h.find(".ug-thumb-wrapper, .ug-thumb-wrapper .ug-thumb-border-overlay").css(i))),e.each(function(){l(jQuery(this))}),w.isEffectOverlay&&y.thumb_overlay_color&&(n={},b.isRgbaSupported()?(o=b.convertHexToRGB(y.thumb_overlay_color,y.thumb_overlay_opacity),n["background-color"]=o):(n["background-color"]=y.thumb_overlay_color,w.colorOverlayOpacity=y.thumb_overlay_opacity),e.find(".ug-thumb-overlay").css(n))},this.setThumbSelected=function(e){return 1==w.customThumbs&&e.removeClass("ug-thumb-over"),1==u(e)||(e.addClass("ug-thumb-selected"),void t(e))},this.setThumbUnselected=function(e){e.removeClass("ug-thumb-selected"),m.setThumbNormalStyle(e,!1,"set unselected")},this.setOptions=function(e){y=jQuery.extend(y,e)},this.setThumbInnerReduce=function(e){w.thumbInnerReduce=e},this.setCustomThumbs=function(e,t,i){if(w.customThumbs=!0,"function"!=typeof e)throw new Error("The argument should be function");w.funcSetCustomThumbHtml=e,-1==jQuery.inArray("overlay",t)&&(w.isEffectOverlay=!1),-1==jQuery.inArray("border",t)&&(w.isEffectBorder=!1),w.isEffectImage=!1,i&&!1===i.allow_onresize&&(w.allowOnResize=!1)},this._____________EXTERNAL_GETTERS__________=function(){},this.getOptions=function(){return y},this.getNumThumbs=function(){return _.length},this.getThumbImage=function(e){return e.find(".ug-thumb-image")},this.getThumbByIndex=function(e){var t=m.getThumbs();if(e>=t.length||e<0)throw new Error("Wrong thumb index");return jQuery(t[e])},this.getThumbs=function(e){var t=".ug-thumb-wrapper",i=".ug-thumb-ratio-set";switch(e){default:case m.type.GET_THUMBS_ALL:var n=h.children(t);break;case m.type.GET_THUMBS_NO_RATIO:n=h.children(t).not(i);break;case m.type.GET_THUMBS_RATIO:n=h.children(t+i);break;case m.type.GET_THUMBS_NEW:n=h.children("."+w.classNewThumb)}return n},this.getItemByThumb=function(e){var t=e.data("index");return void 0===t&&(t=e.index()),_[t]},this.isThumbLoaded=function(e){return m.getItemByThumb(e).isLoaded},this.getGlobalThumbSize=function(){return{width:y.thumb_width,height:y.thumb_height}},this._____________EXTERNAL_OTHERS__________=function(){},this.initEvents=function(){var e=".ug-thumb-wrapper";1==w.allowOnResize&&p.on(T,i),f.on(m.events.THUMB_IMAGE_LOADED,c),h.on("touchstart",e,function(){w.touchEnabled=!0,h.off("mouseenter").off("mouseleave")}),h.on("mouseenter",e,function(e){var t,i=jQuery(this);t=i,1==w.touchEnabled?objThumbs.off("mouseenter").off("mouseleave"):0==u(t)&&m.setThumbOverStyle(t)}),h.on("mouseleave",e,function(e){var t,i=jQuery(this);t=i,1==w.touchEnabled||0==u(t)&&m.setThumbNormalStyle(t,!1)})},this.destroy=function(){var e=".ug-thumb-wrapper";h.off("touchstart",e),p.off(T),h.off("mouseenter",e),h.off("mouseleave",e),f.off(m.events.THUMB_IMAGE_LOADED)},this.loadThumbsImages=function(){var e=h.find(".ug-thumb-image");b.checkImagesLoaded(e,null,function(e,t){var i,n,o;0==t?function(e,t){t=t||!1;var i=jQuery(e),n=i.parents(".ug-thumb-wrapper");0!=n.parent().length&&(objItem=m.getItemByThumb(n),1==objItem.isLoaded&&!1===t||(m.triggerImageLoadedEvent(n,i),1==w.customThumbs?f.trigger(m.events.PLACEIMAGE,[n,i]):d(n,i,objItem)))}(e,!0):(i=jQuery(e).parent(),n=i,(o=m.getItemByThumb(n)).isLoaded=!0,o.isThumbImageLoaded=!1,1==w.customThumbs?f.trigger(m.events.IMAGELOADERROR,n):(n.children(".ug-thumb-loader").hide(),n.children(".ug-thumb-error").show()))})},this.triggerImageLoadedEvent=function(e,t){f.trigger(m.events.THUMB_IMAGE_LOADED,[e,t])},this.hideThumbs=function(){h.find(".ug-thumb-wrapper").hide()}}function UGThumbsStrip(){function o(){var e=S.getOptions();x.isNotFixedThumbs=!1===e.thumb_fixed_size,I=E.strip_vertical_type}function e(){var e,t,i,n,o;S.setHtmlProperties(),e=f.children(".ug-thumb-wrapper"),t=jQuery(e[0]),i=t.outerWidth(),n=t.outerHeight(),o=S.getOptions(),0==I?(P.thumbSize=i,1==o.thumb_fixed_size?P.thumbSecondSize=n:P.thumbSecondSize=o.thumb_height,r(m.width()),P.stripInnerSize=f.width()):(P.thumbSize=n,1==o.thumb_fixed_size?P.thumbSecondSize=i:P.thumbSecondSize=o.thumb_width,r(m.height()),P.stripInnerSize=f.height()),function(){{var e,t,i,n;0==I?(e=P.thumbSecondSize,(i={}).height=e+"px",(n={}).height=e+"px"):(t=P.thumbSecondSize,(i={}).width=t+"px",(n={}).width=t+"px")}m.css(i),f.css(n)}(),s(),0==x.isRunOnce&&(1==E.strip_control_touch&&(b=new UGTouchThumbsControl).init(y),1==E.strip_control_avia&&(v=new UGAviaControl).init(y),a(),S.loadThumbsImages(),S.initEvents(),m.find(".ug-thumb-wrapper").on("click touchend",function(e){!function(e){if(y.isTouchMotionActive()){if(1==b.isSignificantPassed())return}var t=S.getItemByThumb(e);w.selectItem(t)}(jQuery(this))}),u.on(w.events.ITEM_CHANGE,d),x.isNotFixedThumbs&&jQuery(S).on(S.events.AFTERPLACEIMAGE,l)),x.isRunOnce=!0}function r(e){P.stripSize=e,P.stripActiveSize=0==I?P.stripSize-E.strip_padding_left-E.strip_padding_right:P.stripSize-E.strip_padding_top-E.strip_padding_bottom,P.stripActiveSize<0&&(P.stripActiveSize=0)}function s(){var e,t,n=f.children(".ug-thumb-wrapper"),o=0,r=0;for(0==I&&(r=E.strip_padding_top),i=0;i<n.length;i++){var s=jQuery(n[i]);if(1==x.isNotFixedThumbs){if(objItem=S.getItemByThumb(s),0==objItem.isLoaded)continue;s.show()}T.placeElement(s,o,r),0==I?o+=s.outerWidth()+E.strip_space_between_thumbs:r+=s.outerHeight()+E.strip_space_between_thumbs}e=0==I?o-E.strip_space_between_thumbs:r-E.strip_space_between_thumbs,t=e,0==I?f.width(t):f.height(t),P.stripInnerSize=t,a(),jQuery(y).trigger(y.events.INNER_SIZE_CHANGE)}function t(e){var t=y.getInnerStripPos()+e,t=y.fixInnerStripLimits(t);y.positionInnerStrip(t,!0)}function n(e){var t,i,n,o,r,s,a,l,d,u;0!=c()&&(n={},o=y.getInnerStripPos(),n.minPosThumbs=-1*o+1,n.maxPosThumbs=-1*o+P.stripSize-1,t=n,(i=g(e)).min<t.minPosThumbs?(r=e.prev(),d=r.length?r:e,u=-1*g(d).min,u=y.fixInnerStripLimits(u),y.positionInnerStrip(u,!0)):i.max>t.maxPosThumbs&&(s=e.next(),a=s.length?s:e,l=-1*g(a).max+P.stripSize,l=y.fixInnerStripLimits(l),y.positionInnerStrip(l,!0)))}function a(){1==c()?(v&&v.enable(),b&&b.enable()):(v&&v.disable(),b&&b.disable())}function l(){clearTimeout(x.handle),x.handle=setTimeout(function(){s()},50)}function d(){var e=w.getSelectedItem();S.setThumbSelected(e.objThumbWrapper),n(e.objThumbWrapper)}function c(){return P.stripInnerSize>P.stripActiveSize}function g(e){var t={},i=e.position();return 0==I?(t.min=i.left,t.max=i.left+P.thumbSize):(t.min=i.top,t.max=i.top+P.thumbSize),t}var u,p,_,h,m,f,v,b,y=this,w=new UniteGalleryMain,T=new UGFunctions,I=!1,S=new UGThumbsGeneral,T=new UGFunctions,E={strip_vertical_type:!1,strip_thumbs_align:"left",strip_space_between_thumbs:6,strip_thumb_touch_sensetivity:15,strip_scroll_to_thumb_duration:500,strip_scroll_to_thumb_easing:"easeOutCubic",strip_control_avia:!0,strip_control_touch:!0,strip_padding_top:0,strip_padding_bottom:0,strip_padding_left:0,strip_padding_right:0},x={isRunOnce:!1,is_placed:!1,isNotFixedThumbs:!1,handle:null},P={stripSize:0,stripActiveSize:0,stripInnerSize:0,thumbSize:0,thumbSecondSize:0};this.events={STRIP_MOVE:"stripmove",INNER_SIZE_CHANGE:"size_change"};var C={strip_thumbs_align:"top",thumb_resize_by:"width"};this.setHtml=function(e){e||(e=_,null!=E.parent_container&&(e=E.parent_container)),e.append("<div class='ug-thumbs-strip'><div class='ug-thumbs-strip-inner'></div></div>"),m=e.children(".ug-thumbs-strip"),f=m.children(".ug-thumbs-strip-inner"),S.setHtmlThumbs(f),1==x.isNotFixedThumbs&&S.hideThumbs()},this.destroy=function(){var e=m.find(".ug-thumb-wrapper");e.off("click"),e.off("touchend"),u.off(w.events.ITEM_CHANGE),jQuery(S).off(S.events.AFTERPLACEIMAGE),b&&b.destroy(),v&&v.destroy(),S.destroy()},this.________EXTERNAL_GENERAL___________=function(){},this.init=function(e,t){var i,n;n=t,p=(i=e).getObjects(),(w=i).attachThumbsPanel("strip",y),u=jQuery(i),_=p.g_objWrapper,h=p.g_arrItems,E=jQuery.extend(E,n),1==(I=E.strip_vertical_type)&&(E=jQuery.extend(E,C),E=jQuery.extend(E,n),n.thumb_resize_by="width"),S.init(i,n),o()},this.run=function(){e()},this.positionInnerStrip=function(e,t){var i;void 0===t&&(t=!1),i=0==I?{left:e+"px"}:{top:e+"px"},0==t?(f.css(i),y.triggerStripMoveEvent()):(y.triggerStripMoveEvent(),f.stop(!0).animate(i,{duration:E.strip_scroll_to_thumb_duration,easing:E.strip_scroll_to_thumb_easing,queue:!1,progress:function(){y.triggerStripMoveEvent()},always:function(){y.triggerStripMoveEvent()}}))},this.triggerStripMoveEvent=function(){jQuery(y).trigger(y.events.STRIP_MOVE)},this.isTouchMotionActive=function(){return!!b&&b.isTouchActive()},this.isItemThumbVisible=function(e){var t,i,n=e.objThumbWrapper,o=n.position(),r=-1*y.getInnerStripPos();return r<=(0==I?(t=r+P.stripSize,i=o.left,o.left+n.width()):(t=r+P.stripSize,i=o.top,o.top+n.height()))&&i<=t?!0:!1},this.getInnerStripPos=function(){return 0==I?f.position().left:f.position().top},this.getInnerStripLimits=function(){var e={};return e.maxPos=0==I?E.strip_padding_left:E.strip_padding_top,e.minPos=-(P.stripInnerSize-P.stripActiveSize),e},this.fixInnerStripLimits=function(e){var t=y.getInnerStripLimits();return e>t.maxPos&&(e=t.maxPos),e<t.minPos&&(e=t.minPos),e},this.scrollForeward=function(){t(-P.stripSize)},this.scrollBack=function(){t(P.stripSize)},this.________EXTERNAL_SETTERS___________=function(){},this.setOptions=function(e){E=jQuery.extend(E,e),S.setOptions(e),o()},this.setSizeVertical=function(e){if(0==I)throw new Error("setSizeVertical error, the strip size is not vertical");var t=P.thumbSecondSize,i={};i.width=t+"px",i.height=e+"px",m.css(i),r(e);var n={};n.width=t+"px",n.left="0px",n.top="0px",f.css(n),x.is_placed=!0,a()},this.setSizeHorizontal=function(e){if(1==I)throw new Error("setSizeHorizontal error, the strip size is not horizontal");var t=P.thumbSecondSize+E.strip_padding_top+E.strip_padding_bottom,i={};i.width=e+"px",i.height=t+"px",m.css(i),r(e);var n=E.strip_padding_left,o={};o.height=t+"px",o.left=n+"px",o.top="0px",f.css(o),x.is_placed=!0,a()},this.setPosition=function(e,t,i,n){T.placeElement(m,e,t,i,n)},this.resize=function(e){var t,i;0==I?(m.width(e),P.stripActiveSize=e-E.strip_padding_left-E.strip_padding_right):(m.height(e),P.stripActiveSize=e-E.strip_padding_top-E.strip_padding_bottom),r(e),a(),0==c()||(t=y.getInnerStripPos())!=(i=y.fixInnerStripLimits(t))&&y.positionInnerStrip(i,!0),c()||(0==I?T.placeElement(f,E.strip_thumbs_align,0):T.placeElement(f,0,E.strip_thumbs_align)),function(){var e=w.getSelectedItem();if(null==e)return;var t=e.objThumbWrapper;t&&n(t)}()},this.setThumbUnselected=function(e){S.setThumbUnselected(e)},this.setCustomThumbs=function(e){S.setCustomThumbs(e)},this.________EXTERNAL_GETTERS___________=function(){},this.getObjects=function(){var e=S.getOptions(),t=jQuery.extend(E,e);return{g_gallery:w,g_objGallery:u,g_objWrapper:_,g_arrItems:h,g_objStrip:m,g_objStripInner:f,g_aviaControl:v,g_touchThumbsControl:b,isVertical:I,g_options:t,g_thumbs:S}},this.getObjThumbs=function(){return S},this.getSelectedThumb=function(){var e=w.getSelectedItemIndex();return-1==e?null:S.getThumbByIndex(e)},this.getSizeAndPosition=function(){return T.getElementSize(m)},this.getHeight=function(){return m.outerHeight()},this.getWidth=function(){return m.outerWidth()},this.getSizes=function(){return P},this.isVertical=function(){return I},this.isPlaced=function(){return x.is_placed},this.isMoveEnabled=function(){return c()}}function UGTouchThumbsControl(){function t(){var e=jQuery.now(),t={};return t.passedTime=x.lastTime-x.startTime,t.lastActiveTime=e-x.buttonReleaseTime,t.passedDistance=x.lastPos-x.startPos,t.passedDistanceAbs=Math.abs(t.passedDistance),t}function a(e){return 0==S?c.getMousePosition(e).pageX:c.getMousePosition(e).pageY}function l(){var e=jQuery.now();e-x.lastTime>=E.touch_portion_time&&(x.lastDeltaTime=e-x.lastTime,x.lastDeltaTime>E.touch_portion_time&&(x.lastDeltaTime=E.touch_portion_time),x.lastDeltaPos=x.lastPos-x.lastPortionPos,x.lastPortionPos=x.lastPos,x.lastTime=e)}function w(){x.lastPos=T.getInnerStripPos(),T.triggerStripMoveEvent()}function d(e){if(0==x.loop_active)return 1;e&&(a(e),function(){var e=E.thumb_touch_slowFactor,t=E.minDeltaTime,i=E.minPath,n=T.getInnerStripPos(),o=jQuery.now()-x.lastTime,r=n-x.lastPortionPos;o<t&&0<x.lastDeltaTime&&(o=x.lastDeltaTime,r=x.lastDeltaPos+r),o<t&&(o=t);var s=0;0<o&&(s=r/o);var a=s*s/(2*e)*(0<r?1:-1);Math.abs(a)<=i&&(a=0);var l,d=T.getInnerStripPos(),u=d+a,c=T.fixInnerStripLimits(u),g=T.getInnerStripLimits(),p=E.limitsBreakAddition,_=!1,h=c;u>g.maxPos&&(_=!0,c=u<p?u:p),u<g.minPos&&(_=!0,c=(l=g.minPos-p)<u?u:l);var m,f,v,b=c-d,y=Math.abs(Math.round(s/e));0!=a&&(y=y*b/a),d!=c&&(m=1==S?{top:c+"px"}:{left:c+"px"},I.animate(m,{duration:y,easing:E.animationEasing,queue:!0,progress:w})),1==_&&(f=E.returnAnimateSpeed,v=1==S?{top:h+"px"}:{left:h+"px"},I.animate(v,{duration:f,easing:E.returnAnimationEasing,queue:!0,progress:w}))}()),x.loop_active=!1,x.handle=clearInterval(x.handle)}function i(e){return 0==x.isControlEnabled||(x.buttonReleaseTime=jQuery.now(),0==x.touch_active?(d(e),!0):(e.preventDefault(),x.touch_active=!1,d(e),void s.removeClass("ug-dragging")))}function n(e){if(0==x.isControlEnabled)return!0;e.preventDefault(),x.touch_active=!0;var t,i,n=a(e);I.stop(!0),t=n,i=T.getInnerStripPos(),x.mousePos=t,x.innerPos=i,x.lastPortionPos=i,x.lastDeltaTime=0,x.lastDeltaPos=0,x.startTime=jQuery.now(),x.startPos=x.innerPos,x.lastTime=x.startTime,x.lastPos=x.startPos,x.speed=0,1==x.loop_active||(x.loop_active=!0,x.handle=setInterval(l,10)),s.addClass("ug-dragging")}function o(e){if(0==x.isControlEnabled)return!0;if(0==x.touch_active)return!0;if(e.preventDefault(),0==e.buttons)return x.touch_active=!1,d(e),!0;var t,i,n,o,r,s=a(e);x.lastPos=T.getInnerStripPos(),t=s,n=x.mousePos-t,o=x.innerPos-n,r=T.getInnerStripLimits(),o>r.maxPos&&(i=o-r.maxPos,o=r.maxPos+i/3),o<r.minPos&&(i=r.minPos-o,o=r.minPos-i/3),T.positionInnerStrip(o),l()}var T,r,s,I,u,S,c=new UGFunctions,E={touch_portion_time:200,thumb_touch_slowFactor:0,minDeltaTime:70,minPath:10,limitsBreakAddition:30,returnAnimateSpeed:500,animationEasing:"easeOutCubic",returnAnimationEasing:"easeOutCubic"},x={touch_active:!1,loop_active:!1,mousePos:0,innerPos:0,startPos:0,startTime:0,lastTime:0,buttonReleaseTime:0,lastPos:0,lastPortionPos:0,lastDeltaTime:0,lastDeltaPos:0,speed:0,handle:"",touchEnabled:!1,isControlEnabled:!0};this.enable=function(){x.isControlEnabled=!0},this.disable=function(){x.isControlEnabled=!1},this.init=function(e){r=(T=e).getObjects(),r.g_gallery,r.g_objGallery,s=r.g_objStrip,I=r.g_objStripInner,u=r.g_options,S=r.isVertical,E.thumb_touch_slowFactor=c.normalizeSetting(5e-5,.01,1,100,u.strip_thumb_touch_sensetivity,!0),s.bind("mousedown touchstart",n),jQuery(window).add("body").bind("mouseup touchend",i),jQuery("body").bind("mousemove touchmove",o)},this.isSignificantPassed=function(){var e=t();return 300<e.passedTime||30<e.passedDistanceAbs},this.isTouchActive=function(){return 1==x.touch_active||(1==I.is(":animated")||t().lastActiveTime<50)},this.destroy=function(){s.unbind("mousedown"),s.unbind("touchstart"),jQuery(window).add("body").unbind("mouseup").unbind("touchend"),jQuery("body").unbind("mousemove").unbind("touchmove")}}function UGPanelsBase(){function i(e,t){switch(r.orientation){case"right":case"left":var i={left:e+"px"};break;case"top":case"bottom":i={top:e+"px"}}a.stop(!0).animate(i,{duration:300,easing:"easeInOutQuad",queue:!1,complete:function(){t&&t()}})}function n(e){switch(r.orientation){case"right":case"left":p.placeElement(a,e,null);break;case"top":case"bottom":p.placeElement(a,null,e)}}function o(){d.trigger(s.events.FINISH_MOVE)}var r,s,a,l,d,t,u,c=new UniteGalleryMain,g=this,p=new UGFunctions;this.init=function(e,t,i,n,o){r=t,s=i,c=e,l=n,d=o,u=jQuery(c)},this.setHtml=function(e){a=e,1==("strip"==r.panelType?l.strippanel_enable_handle:l.gridpanel_enable_handle)&&((t=new UGPanelHandle).init(s,a,l,r.panelType,c),t.setHtml()),!0===r.isDisabledAtStart&&(a.append("<div class='ug-overlay-disabled'></div>"),setTimeout(function(){a.children(".ug-overlay-disabled").hide()},r.disabledAtStartTimeout))},this.placeElements=function(){t&&t.placeHandle()},this.initEvents=function(){t&&(t.initEvents(),u.on(c.events.SLIDER_ACTION_START,function(){t.hideHandle()}),u.on(c.events.SLIDER_ACTION_END,function(){t.showHandle()}))},this.destroy=function(){t&&(t.destroy(),u.off(c.events.SLIDER_ACTION_START),u.off(c.events.SLIDER_ACTION_END))},this.openPanel=function(e){return e=e||!1,!a.is(":animated")&&(0!=r.isClosed&&(r.isClosed=!1,d.trigger(s.events.OPEN_PANEL),void(!1===e?i(r.originalPos,o):(n(r.originalPos),o()))))},this.closePanel=function(e){if(e=e||!1,a.is(":animated"))return!1;if(1==r.isClosed)return!1;var t=g.getClosedPanelDest();r.isClosed=!0,d.trigger(s.events.CLOSE_PANEL),!1===e?i(t,o):(n(t),o())},this.setClosedState=function(e){r.originalPos=e,d.trigger(s.events.CLOSE_PANEL),r.isClosed=!0},this.setOpenedState=function(e){d.trigger(s.events.OPEN_PANEL),r.isClosed=!1},this.getClosedPanelDest=function(){var e=p.getElementSize(a);switch(r.orientation){case"left":r.originalPos=e.left,t=-r.panelWidth;break;case"right":r.originalPos=e.left;var t=c.getSize().width;break;case"top":r.originalPos=e.top,t=-r.panelHeight;break;case"bottom":r.originalPos=e.top,t=c.getSize().height}return t},this.isPanelClosed=function(){return r.isClosed},this.setDisabledAtStart=function(e){return!(e<=0)&&(r.isDisabledAtStart=!0,void(r.disabledAtStartTimeout=e))}}function UGPanelHandle(){function e(){i.removeClass("ug-button-hover")}function t(e){return e.stopPropagation(),e.stopImmediatePropagation(),0==n.validateClickTouchstartEvent(e.type)||void(a.isPanelClosed()?a.openPanel():a.closePanel())}var s,a,i,n=new UGFunctions,l={panel_handle_align:"top",panel_handle_offset:0,panel_handle_skin:0};this.init=function(e,t,i,n,o){switch(a=e,s=t,n){case"grid":l.panel_handle_align=i.gridpanel_handle_align,l.panel_handle_offset=i.gridpanel_handle_offset,l.panel_handle_skin=i.gridpanel_handle_skin;break;case"strip":l.panel_handle_align=i.strippanel_handle_align,l.panel_handle_offset=i.strippanel_handle_offset,l.panel_handle_skin=i.strippanel_handle_skin;break;default:throw new Error("Panel handle error: wrong panel type: "+n)}var r=o.getOptions().gallery_skin;""==l.panel_handle_skin&&(l.panel_handle_skin=r)},this.setHtml=function(){var e="ug-panel-handle-tip";switch(a.getOrientation()){case"right":e+=" ug-handle-tip-left";break;case"left":e+=" ug-handle-tip-right";break;case"bottom":e+=" ug-handle-tip-top";break;case"top":e+=" ug-handle-tip-bottom"}s.append("<div class='"+e+" ug-skin-"+l.panel_handle_skin+"'></div>"),i=s.children(".ug-panel-handle-tip")},this.initEvents=function(){n.addClassOnHover(i),i.bind("click touchstart",t),jQuery(a).on(a.events.OPEN_PANEL,function(){e(),i.removeClass("ug-button-closed")}),jQuery(a).on(a.events.CLOSE_PANEL,function(){e(),i.addClass("ug-button-closed")})},this.destroy=function(){n.destroyButton(i),jQuery(a).off(a.events.OPEN_PANEL),jQuery(a).off(a.events.CLOSE_PANEL)},this.placeHandle=function(){var e=n.getElementSize(i);!function(){switch(a.getOrientation()){case"right":case"left":"top"!=l.panel_handle_align&&"bottom"!=l.panel_handle_align&&(l.panel_handle_align="top");break;case"bottom":"left"!=l.panel_handle_align&&"right"!=l.panel_handle_align&&(l.panel_handle_align="left");break;case"top":"left"!=l.panel_handle_align&&"right"!=l.panel_handle_align&&(l.panel_handle_align="right")}}();var t=a.getOrientation();switch(t){case"left":n.placeElement(i,"right",l.panel_handle_align,-e.width);break;case"right":n.placeElement(i,-e.width,l.panel_handle_align,0,l.panel_handle_offset);break;case"top":n.placeElement(i,l.panel_handle_align,"bottom",l.panel_handle_offset,-e.height);break;case"bottom":n.placeElement(i,l.panel_handle_align,"top",l.panel_handle_offset,-e.height);break;default:throw new Error("Wrong panel orientation: "+t)}},this.hideHandle=function(){1==i.is(":visible")&&i.hide()},this.showHandle=function(){0==i.is(":visible")&&i.show()}}function UGStripPanel(){function e(){return(1!=I.isFirstRun||0!=function(){if(0==y.strippanel_vertical_type){if(0==I.panelWidth)throw new Error("Strip panel error: The width not set, please set width")}else if(0==I.panelHeight)throw new Error("Strip panel error: The height not set, please set height");if(null==I.orientation)throw new Error("Wrong orientation, please set panel orientation before run");return!0}())&&(v.run(),i(),n(),function(){if(1==I.isEventsInited)return;{I.isEventsInited=!0,g&&(f.addClassOnHover(g,"ug-button-hover"),f.addClassOnHover(p,"ug-button-hover"),f.setButtonOnClick(p,r),f.setButtonOnClick(g,o),"advance_item"!=y.strippanel_buttons_role?(jQuery(v).on(v.events.STRIP_MOVE,a),jQuery(v).on(v.events.INNER_SIZE_CHANGE,s),d.on(m.events.SIZE_CHANGE,s)):0==m.getOptions().gallery_carousel&&jQuery(m).on(m.events.ITEM_CHANGE,l))}b.initEvents()}(),I.isFirstRun=!1,void s())}function t(e){var t,i;(e=e||u).append("<div class='ug-strip-panel'></div>"),c=e.children(".ug-strip-panel"),1==y.strippanel_enable_buttons&&(t="ug-strip-arrow-left",i="ug-strip-arrow-right",1==y.strippanel_vertical_type&&(t="ug-strip-arrow-up",i="ug-strip-arrow-down"),c.append("<div class='ug-strip-arrow "+t+" ug-skin-"+y.strippanel_buttons_skin+"'><div class='ug-strip-arrow-tip'></div></div>"),c.append("<div class='ug-strip-arrow "+i+" ug-skin-"+y.strippanel_buttons_skin+"'><div class='ug-strip-arrow-tip'></div></div>")),b.setHtml(c),v.setHtml(c),1==y.strippanel_enable_buttons&&(p=c.children("."+t),g=c.children("."+i)),""!=y.strippanel_background_color&&c.css("background-color",y.strippanel_background_color)}function i(){(0==y.strippanel_vertical_type?function(){var e,t,i=v.getHeight(),n=I.panelWidth;g&&(p.height(i),g.height(i),e=p.children(".ug-strip-arrow-tip"),f.placeElement(e,"center","middle"),t=g.children(".ug-strip-arrow-tip"),f.placeElement(t,"center","middle"));var o=i+y.strippanel_padding_top+y.strippanel_padding_bottom;c.width(n),c.height(o),I.panelHeight=o;var r=n-y.strippanel_padding_left-y.strippanel_padding_right;g&&(r=r-2*g.outerWidth()-2*y.strippanel_padding_buttons),v.resize(r)}:function(){var e,t,i=v.getWidth(),n=I.panelHeight;g&&(p.width(i),g.width(i),e=p.children(".ug-strip-arrow-tip"),f.placeElement(e,"center","middle"),t=g.children(".ug-strip-arrow-tip"),f.placeElement(t,"center","middle"));var o=i+y.strippanel_padding_left+y.strippanel_padding_right;c.width(o),c.height(n),I.panelWidth=o;var r=n-y.strippanel_padding_top-y.strippanel_padding_bottom;g&&(r=r-2*g.outerHeight()-2*y.strippanel_padding_buttons),v.resize(r)})()}function n(){(0==y.strippanel_vertical_type?function(){g&&(f.placeElement(p,"left","top",y.strippanel_padding_left,y.strippanel_padding_top),f.placeElement(g,"right","top",y.strippanel_padding_right,y.strippanel_padding_top));var e=y.strippanel_padding_left;g&&(e+=g.outerWidth()+y.strippanel_padding_buttons),v.setPosition(e,y.strippanel_padding_top)}:function(){g&&(f.placeElement(p,"left","top",y.strippanel_padding_left,y.strippanel_padding_top),f.placeElement(g,"left","bottom",y.strippanel_padding_left,y.strippanel_padding_bottom));var e=y.strippanel_padding_top;g&&(e+=g.outerHeight()+y.strippanel_padding_buttons),v.setPosition(y.strippanel_padding_left,e)})(),b.placeElements()}function o(e){return!!f.isButtonDisabled(e)||void("advance_item"==y.strippanel_buttons_role?m.nextItem():v.scrollForeward())}function r(e){return!!f.isButtonDisabled(e)||void("advance_item"==y.strippanel_buttons_role?m.prevItem():v.scrollBack())}function s(){if(!g)return!0;if(0==v.isMoveEnabled())return f.disableButton(p),f.disableButton(g),!0;var e=v.getInnerStripLimits(),t=v.getInnerStripPos();t>=e.maxPos?f.disableButton(p):f.enableButton(p),t<=e.minPos?f.disableButton(g):f.enableButton(g)}function a(){s()}function l(){m.isLastItem()?f.disableButton(g):f.enableButton(g),m.isFirstItem()?f.disableButton(p):f.enableButton(p)}var d,u,c,g,p,_=this,h=jQuery(this),m=new UniteGalleryMain,f=new UGFunctions,v=new UGThumbsStrip,b=new UGPanelsBase,y={strippanel_vertical_type:!(this.events={FINISH_MOVE:"gridpanel_move_finish",OPEN_PANEL:"open_panel",CLOSE_PANEL:"close_panel"}),strippanel_padding_top:8,strippanel_padding_bottom:8,strippanel_padding_left:0,strippanel_padding_right:0,strippanel_enable_buttons:!0,strippanel_buttons_skin:"",strippanel_padding_buttons:2,strippanel_buttons_role:"scroll_strip",strippanel_enable_handle:!0,strippanel_handle_align:"top",strippanel_handle_offset:0,strippanel_handle_skin:"",strippanel_background_color:""},w={strip_vertical_type:!0,strippanel_padding_left:8,strippanel_padding_right:8,strippanel_padding_top:0,strippanel_padding_bottom:0},T={strippanel_padding_left:8,strippanel_padding_right:8,strippanel_padding_top:8,strippanel_padding_bottom:8},I={panelType:"strip",panelWidth:0,panelHeight:0,isEventsInited:!1,isClosed:!1,orientation:null,originalPos:null,isFirstRun:!0};this.destroy=function(){g&&(f.destroyButton(g),f.destroyButton(p),jQuery(v).off(v.events.STRIP_MOVE),jQuery(m).off(m.events.ITEM_CHANGE),jQuery(m).off(m.events.SIZE_CHANGE)),b.destroy(),v.destroy()},this.getOrientation=function(){return I.orientation},this.setOrientation=function(e){I.orientation=e},this.init=function(e,t){!function(e,t){m=e,d=jQuery(m);var i=!1;1==(y=jQuery.extend(y,t)).strippanel_vertical_type&&(y=jQuery.extend(y,w),i=!0),0==y.strippanel_enable_buttons&&(y=jQuery.extend(y,T),i=!0),1==i&&(y=jQuery.extend(y,t));var n=m.getOptions().gallery_skin;""==y.strippanel_buttons_skin&&(y.strippanel_buttons_skin=n),u=m.getElement(),b.init(m,I,_,y,h),(v=new UGThumbsStrip).init(m,y)}(e,t)},this.run=function(){e()},this.setHtml=function(e){t(e)},this.getElement=function(){return c},this.getSize=function(){return f.getElementSize(c)},this.setWidth=function(e){I.panelWidth=e},this.setHeight=function(e){I.panelHeight=e},this.resize=function(e){_.setWidth(e),i(),n()},this.__________Functions_From_Base_____=function(){},this.isPanelClosed=function(){return b.isPanelClosed()},this.getClosedPanelDest=function(){return b.getClosedPanelDest()},this.openPanel=function(e){b.openPanel(e)},this.closePanel=function(e){b.closePanel(e)},this.setOpenedState=function(e){b.setOpenedState(e)},this.setClosedState=function(e){b.setClosedState(e)},this.setCustomThumbs=function(e){v.setCustomThumbs(e)},this.setDisabledAtStart=function(e){b.setDisabledAtStart(e)}}function UGGridPanel(){function o(){if(null==v.orientation)throw new Error("Wrong orientation, please set panel orientation before run")}function e(){var e;o(),"center"==m.gridpanel_grid_align&&(m.gridpanel_grid_align="middle"),h.run(),function(){var e=!1;{(1==m.gridpanel_arrows_always_on||1<h.getNumPanes())&&(e=!0)}1==e?(g.show().fadeTo(0,1),p.show().fadeTo(0,1),v.arrowsVisible=!0):(g.hide(),p.hide(),v.arrowsVisible=!1)}(),e=h.getSize(),1==v.isHorType?v.panelHeight=e.height+m.gridpanel_padding_border_top+m.gridpanel_padding_border_bottom:v.panelWidth=e.width+m.gridpanel_padding_border_left+m.gridpanel_padding_border_right,_.setElementSize(n,v.panelWidth,v.panelHeight),(0==v.isHorType?1==m.gridpanel_vertical_scroll?1==v.arrowsVisible?function(){var e,t,i,n,o=_.getElementSize(p),r=h.getSize();switch(m.gridpanel_grid_align){default:case"top":e=m.gridpanel_padding_border_top+o.height+m.gridpanel_arrows_padding_vert;break;case"middle":e="middle";break;case"bottom":e=v.panelHeight-r.height-o.height-m.gridpanel_padding_border_bottom-m.gridpanel_arrows_padding_vert}var s=c(),a=h.getElement();_.placeElement(a,s,e);r=h.getSize();switch(m.gridpanel_arrows_align_vert){default:case"center":case"middle":t=(r.top-o.height)/2,i=r.bottom+(v.panelHeight-r.bottom-o.height)/2,n=0;break;case"grid":t=r.top-o.height-m.gridpanel_arrows_padding_vert_vert,i=r.bottom+m.gridpanel_arrows_padding_vert,n=0;break;case"border":case"borders":t=m.gridpanel_padding_border_top,i="bottom",n=m.gridpanel_padding_border_bottom}_.placeElement(p,"center",t),_.placeElement(g,"center",i,0,n)}:i:1==v.arrowsVisible?function(){var e,t,i,n=_.getElementSize(p),o=h.getSize(),r=m.gridpanel_padding_border_top;switch(m.gridpanel_grid_align){case"middle":switch(m.gridpanel_arrows_align_vert){default:var s=o.height+m.gridpanel_arrows_padding_vert+n.height;r=(v.panelHeight-s)/2;break;case"border":case"borders":var a=v.panelHeight-n.height-m.gridpanel_padding_border_bottom;r=(a-o.height)/2}break;case"bottom":s=o.height+n.height+m.gridpanel_arrows_padding_vert;r=v.panelHeight-s-m.gridpanel_padding_border_bottom}var l=h.getElement(),d=c();_.placeElement(l,d,r);o=h.getSize();switch(m.gridpanel_arrows_align_vert){default:case"center":case"middle":e=o.bottom+(v.panelHeight-o.bottom-n.height)/2,i=0;break;case"grid":e=o.bottom+m.gridpanel_arrows_padding_vert,i=0;break;case"border":case"borders":e="bottom",i=m.gridpanel_padding_border_bottom}t=-n.width/2-m.gridpanel_space_between_arrows/2,_.placeElement(p,"center",e,t,i);var u=Math.abs(t);_.placeElement(g,"center",e,u,i)}:i:1==v.arrowsVisible?function(){var e,t,i,n,o=_.getElementSize(p),r=h.getSize();switch(m.gridpanel_grid_align){default:case"left":e=m.gridpanel_padding_border_left+m.gridpanel_arrows_padding_hor+o.width;break;case"middle":case"center":e="center";break;case"right":e=v.panelWidth-r.width-o.width-m.gridpanel_padding_border_right-m.gridpanel_arrows_padding_hor}var s=h.getElement();switch(_.placeElement(s,e,m.gridpanel_padding_border_top),r=h.getSize(),m.gridpanel_arrows_align_vert){default:case"center":case"middle":n=(r.height-o.height)/2+r.top;break;case"top":n=m.gridpanel_padding_border_top+m.gridpanel_arrows_padding_vert;break;case"bottom":n=v.panelHeight-m.gridpanel_padding_border_bottom-m.gridpanel_arrows_padding_vert-o.height}switch(m.gridpanel_arrows_align_hor){default:case"borders":t=m.gridpanel_padding_border_left,i=v.panelWidth-m.gridpanel_padding_border_right-o.width;break;case"grid":t=r.left-m.gridpanel_arrows_padding_hor-o.width,i=r.right+m.gridpanel_arrows_padding_hor;break;case"center":t=(r.left-o.width)/2,i=r.right+(v.panelWidth-r.right-o.width)/2}_.placeElement(p,t,n),_.placeElement(g,i,n)}:function(){var e,t=h.getSize();switch(m.gridpanel_grid_align){default:case"left":e=m.gridpanel_padding_border_left;break;case"middle":case"center":e="center";break;case"right":e=v.panelWidth-t.width-m.gridpanel_padding_border_right}var i=h.getElement();_.placeElement(i,e,m.gridpanel_padding_border_top)})(),d.placeElements(),1!=v.isEventsInited&&(v.isEventsInited=!0,p&&(_.addClassOnHover(p),h.attachPrevPaneButton(p)),g&&(_.addClassOnHover(g),h.attachNextPaneButton(g)),d.initEvents())}function t(){r.append("<div class='ug-grid-panel'></div>"),n=r.children(".ug-grid-panel"),g=v.isHorType?(n.append("<div class='grid-arrow grid-arrow-left-hortype ug-skin-"+m.gridpanel_arrows_skin+"'></div>"),n.append("<div class='grid-arrow grid-arrow-right-hortype ug-skin-"+m.gridpanel_arrows_skin+"'></div>"),p=n.children(".grid-arrow-left-hortype"),n.children(".grid-arrow-right-hortype")):0==m.gridpanel_vertical_scroll?(n.append("<div class='grid-arrow grid-arrow-left ug-skin-"+m.gridpanel_arrows_skin+"'></div>"),n.append("<div class='grid-arrow grid-arrow-right ug-skin-"+m.gridpanel_arrows_skin+"'></div>"),p=n.children(".grid-arrow-left"),n.children(".grid-arrow-right")):(n.append("<div class='grid-arrow grid-arrow-up ug-skin-"+m.gridpanel_arrows_skin+"'></div>"),n.append("<div class='grid-arrow grid-arrow-down ug-skin-"+m.gridpanel_arrows_skin+"'></div>"),p=n.children(".grid-arrow-up"),n.children(".grid-arrow-down")),d.setHtml(n),p.fadeTo(0,0),g.fadeTo(0,0),h.setHtml(n),""!=m.gridpanel_background_color&&n.css("background-color",m.gridpanel_background_color)}function c(){return m.gridpanel_padding_border_left}function i(){var e=m.gridpanel_grid_align,t=0;switch(e){case"top":t=m.gridpanel_padding_border_top;break;case"bottom":t=m.gridpanel_padding_border_bottom}var i=c(),n=h.getElement();_.placeElement(n,i,e,0,t)}var r,n,g,p,s=this,a=jQuery(this),l=new UniteGalleryMain,_=new UGFunctions,h=new UGThumbsGrid,d=new UGPanelsBase,m={gridpanel_vertical_scroll:!0,gridpanel_grid_align:"middle",gridpanel_padding_border_top:10,gridpanel_padding_border_bottom:4,gridpanel_padding_border_left:10,gridpanel_padding_border_right:10,gridpanel_arrows_skin:"",gridpanel_arrows_align_vert:"middle",gridpanel_arrows_padding_vert:4,gridpanel_arrows_align_hor:"center",gridpanel_arrows_padding_hor:10,gridpanel_space_between_arrows:20,gridpanel_arrows_always_on:!(this.events={FINISH_MOVE:"gridpanel_move_finish",OPEN_PANEL:"open_panel",CLOSE_PANEL:"close_panel"}),gridpanel_enable_handle:!0,gridpanel_handle_align:"top",gridpanel_handle_offset:0,gridpanel_handle_skin:"",gridpanel_background_color:""},u={gridpanel_grid_align:"middle",gridpanel_padding_border_top:2,gridpanel_padding_border_bottom:2},f={gridpanel_grid_align:"center"},v={panelType:"grid",isHorType:!1,arrowsVisible:!1,panelHeight:0,panelWidth:0,originalPosX:null,isEventsInited:!1,isClosed:!1,orientation:null};this.destroy=function(){p&&_.destroyButton(p),g&&_.destroyButton(g),d.destroy(),h.destroy()},this.getOrientation=function(){return v.orientation},this.setOrientation=function(e){switch(v.orientation=e){case"right":case"left":v.isHorType=!1;break;case"top":case"bottom":v.isHorType=!0;break;default:throw new Error("Wrong grid panel orientation: "+e)}},this.setHeight=function(e){if(1==v.isHorType)throw new Error("setHeight is not appliable to this orientatio ("+v.orientation+"). Please use setWidth");v.panelHeight=e;var t,i,n=(t=m.gridpanel_padding_border_top+m.gridpanel_padding_border_bottom,i=v.panelHeight-t,0==m.gridpanel_arrows_always_on&&1==h.getNumPanesEstimationByHeight(i)?i:(t=_.getElementSize(g).height+m.gridpanel_arrows_padding_vert,1==m.gridpanel_vertical_scroll&&(t*=2),t+=m.gridpanel_padding_border_top+m.gridpanel_padding_border_bottom,v.panelHeight-t));h.setMaxHeight(n)},this.setWidth=function(e){if(0==v.isHorType)throw new Error("setWidth is not appliable to this orientatio ("+v.orientation+"). Please use setHeight");v.panelWidth=e;var t,i,n=(t=m.gridpanel_padding_border_left+m.gridpanel_padding_border_right,i=v.panelWidth-t,0==m.gridpanel_arrows_always_on&&1==h.getNumPanesEstimationByWidth(i)?i:(t+=2*(_.getElementSize(g).width+m.gridpanel_arrows_padding_hor),v.panelWidth-t));h.setMaxWidth(n)},this.init=function(e,t){!function(e,t){l=e,o(),t&&t.vertical_scroll&&(m.gridpanel_vertical_scroll=t.vertical_scroll),m=jQuery.extend(m,t),1==v.isHorType?(m=jQuery.extend(m,f),m=jQuery.extend(m,t)):1==m.gridpanel_vertical_scroll&&(m=jQuery.extend(m,u),(m=jQuery.extend(m,t)).grid_panes_direction="bottom");var i=l.getOptions().gallery_skin;""==m.gridpanel_arrows_skin&&(m.gridpanel_arrows_skin=i);var n=e.getObjects();r=n.g_objWrapper,d.init(l,v,s,m,a),(h=new UGThumbsGrid).init(l,m)}(e,t)},this.setHtml=function(){t()},this.run=function(){e()},this.getElement=function(){return n},this.getSize=function(){return _.getElementSize(n)},this.__________Functions_From_Base_____=function(){},this.isPanelClosed=function(){return d.isPanelClosed()},this.getClosedPanelDest=function(){return d.getClosedPanelDest()},this.openPanel=function(e){d.openPanel(e)},this.closePanel=function(e){d.closePanel(e)},this.setOpenedState=function(e){d.setOpenedState(e)},this.setClosedState=function(e){d.setClosedState(e)},this.setDisabledAtStart=function(e){d.setDisabledAtStart(e)}}function UGThumbsGrid(){function n(e,t,i){var n,o;w=e.getObjects(),(C=e).attachThumbsPanel("grid",x),y=jQuery(e),T=w.g_objWrapper,I=w.g_arrItems,!0===i&&(O.isTilesMode=!0),O.numThumbs=I.length,o=t,M=jQuery.extend(M,o),A.setOptions(o),O.isNavigationVertical="top"==M.grid_panes_direction||"bottom"==M.grid_panes_direction,O.spaceBetweenCols=M.grid_space_between_cols,O.spaceBetweenRows=M.grid_space_between_rows,1==O.isTilesMode?(k.setFixedMode(),k.setApproveClickFunction(_),k.init(e,M),n=k.getOptions(),O.tileMaxHeight=n.tile_height,O.tileMaxWidth=n.tile_width,A=k.getObjThumbs()):(t.thumb_fixed_size=!0,A.init(e,t))}function e(){var e,t=C.getSelectedItem();(function(){if(0==O.isHorizontal){if(0==O.gridHeight)throw new Error("You must set height before run.")}else if(0==O.gridWidth)throw new Error("You must set width before run.")})(),1==O.isFirstTimeRun?(function(){{0==O.isTilesMode?(A.initEvents(),S.find(".ug-thumb-wrapper").on("click touchend",h),y.on(C.events.ITEM_CHANGE,b)):k.initEvents()}S.bind("mousedown touchstart",m),jQuery("body").bind("mousemove touchmove",f),jQuery(window).add("body").bind("mouseup touchend",v)}(),1==O.isTilesMode?(o(),r(),k.run()):(A.setHtmlProperties(),r(),A.loadThumbsImages())):1==O.isTilesMode&&1==o()&&(r(),k.run()),(0==O.isHorizontal?O.isNavigationVertical?function(){var e=E.children(".ug-thumb-wrapper"),t=0,n=0,o=0,r=0,s=0,a=0;O.innerWidth=0,O.numPanes=1,O.arrPanes=[],O.numThumbsInPane=0,O.arrPanes.push(s);var l=e.length;for(i=0;i<l;i++){var d=jQuery(e[i]);j.placeElement(d,t,n);var u=d.outerWidth(),c=d.outerHeight();t+=u+O.spaceBetweenCols;var g=n+c;o<g&&(o=g),++r>=M.grid_num_cols&&(n+=c+O.spaceBetweenRows,t=s,r=0),1==O.numPanes&&O.numThumbsInPane++,g=n+c;var p=a+O.gridHeight;p<g&&(1==O.isMaxHeight&&1==O.numPanes&&(O.gridHeight=o,S.height(O.gridHeight),p=O.gridHeight),n=p+O.spaceBetweenRows,a=n,t=s=0,r=0,i<l-1&&(O.numPanes++,O.arrPanes.push(n)))}E.height(o),O.innerHeight=o,1==O.isMaxHeight&&1==O.numPanes&&(O.gridHeight=o,S.height(o))}:function(){var e=E.children(".ug-thumb-wrapper"),t=0,n=0,o=0,r=0,s=0,a=0;O.innerWidth=0,O.numPanes=1,O.arrPanes=[],O.numThumbsInPane=0,O.arrPanes.push(r);var l=e.length;for(i=0;i<l;i++){var d=jQuery(e[i]);j.placeElement(d,t,n);var u=d.outerWidth(),c=d.outerHeight();s<t&&(s=t);var g=n+c;a<g&&(a=g);var p=s+u;p>O.innerWidth&&(O.innerWidth=p),t+=u+O.spaceBetweenCols,++o>=M.grid_num_cols&&(n+=c+O.spaceBetweenRows,t=r,o=0),1==O.numPanes&&O.numThumbsInPane++,n+c>O.gridHeight&&(n=0,r=O.innerWidth+O.spaceBetweenCols,t=r,o=0,1==O.isMaxHeight&&1==O.numPanes&&(O.gridHeight=a,S.height(O.gridHeight)),i<l-1&&(O.numPanes++,O.arrPanes.push(r)))}E.width(O.innerWidth),1==O.isMaxHeight&&1==O.numPanes&&(O.gridHeight=a,S.height(a))}:function(){var e=E.children(".ug-thumb-wrapper"),t=M.grid_padding,n=M.grid_padding,o=n,r=t,s=0,a=0,l=0,d=0,u=0;O.innerWidth=0,O.numPanes=1,O.arrPanes=[],O.numThumbsInPane=0,O.arrPanes.push(t-M.grid_padding);var c=e.length;for(i=0;i<c;i++){var g=jQuery(e[i]),p=g.outerWidth(),_=g.outerHeight();r-t+p>O.gridWidth&&(o=0,++u>=M.grid_num_rows?(t=r,o=n,l=u=0,1==O.numPanes&&(O.gridWidth=s+M.grid_padding,S.width(O.gridWidth),O.gridHeight=d+M.grid_padding,S.height(O.gridHeight)),O.numPanes++,O.arrPanes.push(t-M.grid_padding)):(r=t,o=l+O.spaceBetweenRows)),j.placeElement(g,r,o);var h=r+p;s<h&&(s=h);var m=o+_;l<m&&(l=m),d<m&&(d=m),a<m&&(a=m),(h=s+p)>O.innerWidth&&(O.innerWidth=h),r+=p+O.spaceBetweenCols,1==O.numPanes&&O.numThumbsInPane++}O.innerWidth=s+M.grid_padding,O.innerHeight=d+M.grid_padding,E.width(O.innerWidth),E.height(O.innerHeight),1==O.numPanes&&(O.gridWidth=s+M.grid_padding,O.gridHeight=d+M.grid_padding,S.width(O.gridWidth),S.height(O.gridHeight))})(),1==O.isFirstTimeRun&&O.isTilesMode&&((e=A.getThumbs()).each(function(e,t){T.trigger(O.eventSizeChange,jQuery(t))}),e.fadeTo(0,1)),null!=t&&a(t.index),P.trigger(x.events.PANE_CHANGE,O.currentPane),O.isFirstTimeRun=!1}function s(){return 1==O.isTilesMode?k.getGlobalTileSize():A.getGlobalThumbSize()}function o(){if(0==O.isTilesMode)throw new Error("Dynamic size can be set only in tiles mode");var e=!1,t=C.isMobileMode(),i=O.spaceBetweenCols;1==t?(O.spaceBetweenCols=M.grid_space_between_mobile,O.spaceBetweenRows=M.grid_space_between_mobile):(O.spaceBetweenCols=M.grid_space_between_cols,O.spaceBetweenRows=M.grid_space_between_rows),O.spaceBetweenCols!=i&&(e=!0);var n=s().width,o=O.tileMaxWidth;return j.getNumItemsInSpace(O.gridWidth,O.tileMaxWidth,O.spaceBetweenCols)<M.grid_min_cols&&(o=j.getItemSizeInSpace(O.gridWidth,M.grid_min_cols,O.spaceBetweenCols)),k.setTileSizeOptions(o),o!=n&&(e=!0),e}function r(){var e,t,i,n,o,r;0==O.isHorizontal?(n=s().width,o=M.grid_num_cols*n+(M.grid_num_cols-1)*O.spaceBetweenCols+2*M.grid_padding,r=O.gridHeight,O.gridWidth=o,j.setElementSize(S,o,r),j.setElementSize(E,o,r),O.innerWidth=o,O.innerHeight=r):(e=s().height,t=O.gridWidth,i=M.grid_num_rows*e+(M.grid_num_rows-1)*O.spaceBetweenRows+2*M.grid_padding,O.gridHeight=i,j.setElementSize(S,t,i),j.setElementSize(E,t,i),O.innerWidth=t,O.innerHeight=i)}function a(e){var t=g(e);return-1!=t&&void x.gotoPane(t,"scroll")}function l(e){var t=u(e);return 0!=t&&void E.stop(!0).animate(t,{duration:M.grid_transition_duration,easing:M.grid_transition_easing,queue:!1})}function d(){l(-O.arrPanes[O.currentPane])}function u(e){var t={};return 1==O.isNavigationVertical?t.top=e+"px":t.left=e+"px",t}function c(){var e=j.getElementSize(E);return 1==O.isNavigationVertical?e.top:e.left}function g(e){return 0==function(e){if(e<0||e>=O.numThumbs)throw new Error("Thumb not exists: "+e);return!0}(e)?-1:Math.floor(e/O.numThumbsInPane)}function p(){var e=j.getStoredEventData(O.storedEventID),t=c();diffPos=Math.abs(e.startInnerPos-t);var i=1==O.isNavigationVertical?O.gridHeight:O.gridWidth,n=Math.round(3*i/8);return diffPos>=n||e.diffTime<300&&25<diffPos}function _(){return 1==O.numPanes||j.isApproveStoredEventClick(O.storedEventID,O.isNavigationVertical)}function h(e){if(1==function(){if(1==O.numPanes)return!1;var e=j.getStoredEventData(O.storedEventID),t=e.diffTime,i=c(),n=Math.abs(i-e.startInnerPos);return 30<n||5<n&&300<t}())return!0;var t=jQuery(this),i=A.getItemByThumb(t);C.selectItem(i)}function m(e){if(1==O.numPanes)return!0;if(1==O.touchActive)return!0;0==O.isTilesMode&&e.preventDefault(),O.touchActive=!0;var t={startInnerPos:c()};j.storeEventData(e,O.storedEventID,t)}function f(e){if(0==O.touchActive)return!0;e.preventDefault(),j.updateStoredEventData(e,O.storedEventID);var t=j.getStoredEventData(O.storedEventID,O.isNavigationVertical);if(0!=M.grid_vertical_scroll_ondrag&&1!=O.isNavigationVertical&&"vert"===j.handleScrollTop(O.storedEventID))return!0;var i,n=t.diffMousePos,o=t.startInnerPos+n,r=0<n?"prev":"next",s=O.arrPanes[O.numPanes-1];0==M.grid_carousel&&0<o&&"prev"==r&&(o/=3),0==M.grid_carousel&&o<-s&&"next"==r&&(o=t.startInnerPos+n/3),0!=(i=u(o))&&E.css(i)}function v(e){if(0==O.touchActive)return!0;j.updateStoredEventData(e,O.storedEventID);var t=j.getStoredEventData(O.storedEventID,O.isNavigationVertical);if(O.touchActive=!1,0==p())return d(),!0;"next"==(0<c()-t.startInnerPos?"prev":"next")?0==M.grid_carousel&&x.isLastPane()?d():x.nextPane():0==M.grid_carousel&&x.isFirstPane()?d():x.prevPane()}function b(){var e=C.getSelectedItem();A.setThumbSelected(e.objThumbWrapper),a(e.index)}var y,w,T,I,S,E,x=this,P=jQuery(this),C=new UniteGalleryMain,j=new UGFunctions,A=new UGThumbsGeneral,k=new UGTileDesign,M={grid_panes_direction:"left",grid_num_cols:2,grid_min_cols:2,grid_num_rows:2,grid_space_between_cols:10,grid_space_between_rows:10,grid_space_between_mobile:10,grid_transition_duration:300,grid_transition_easing:"easeInOutQuad",grid_carousel:!1,grid_padding:0,grid_vertical_scroll_ondrag:!1},O={eventSizeChange:"thumb_size_change",isHorizontal:!(this.events={PANE_CHANGE:"pane_change"}),isMaxHeight:!1,isMaxWidth:!1,gridHeight:0,gridWidth:0,innerWidth:0,innerHeight:0,numPanes:0,arrPanes:0,numThumbs:0,currentPane:0,numThumbsInPane:0,isNavigationVertical:!1,touchActive:!1,startScrollPos:0,isFirstTimeRun:!0,isTilesMode:!1,storedEventID:"thumbsgrid",tileMaxWidth:null,tileMaxHeight:null,spaceBetweenCols:null,spaceBetweenRows:null};this.destroy=function(){var e;0==O.isTilesMode?((e=S.find(".ug-thumb-wrapper")).off("click"),e.off("touchend"),y.on(C.events.ITEM_CHANGE),A.destroy()):k.destroy(),S.unbind("mousedown"),S.unbind("touchstart"),jQuery("body").unbind("mousemove"),jQuery("body").unbind("touchmove"),jQuery(window).add("body").unbind("touchend"),jQuery(window).add("body").unbind("mouseup"),P.off(x.events.PANE_CHANGE)},this.__________EXTERNAL_GENERAL_________=function(){},this.setThumbUnselected=function(e){A.setThumbUnselected(e)},this.isItemThumbVisible=function(e){return g(e.index)==O.currentPane},this.__________EXTERNAL_API_________=function(){},this.getNumPanesEstimationByHeight=function(e){var t;t=1==O.isTilesMode?M.tile_height:A.getOptions().thumb_height;var i=A.getNumThumbs(),n=Math.ceil(i/M.grid_num_cols),o=n*t+(n-1)*O.spaceBetweenRows;return Math.ceil(o/e)},this.getNumPanesEstimationByWidth=function(e){var t;t=O.isTilesMode?M.tile_width:A.getOptions().thumb_width;var i=A.getNumThumbs(),n=Math.ceil(i/M.grid_num_rows),o=n*t+(n-1)*O.spaceBetweenCols;return Math.ceil(o/e)},this.getHeightEstimationByWidth=function(e){if(0==O.isTilesMode)throw new Error("This function works only with tiles mode");var t=A.getNumThumbs(),i=j.getNumItemsInSpace(e,M.tile_width,O.spaceBetweenCols),n=Math.ceil(t/i);return n>M.grid_num_rows&&(n=M.grid_num_rows),j.getSpaceByNumItems(n,M.tile_height,O.spaceBetweenRows)+2*M.grid_padding},this.getElement=function(){return S},this.getSize=function(){return j.getElementSize(S)},this.getNumPanes=function(){return O.numPanes},this.isFirstPane=function(){return 0==O.currentPane},this.isLastPane=function(){return O.currentPane==O.numPanes-1},this.getPaneInfo=function(){return{pane:O.currentPane,total:O.numPanes}},this.getPane=function(){return O.currentPane},this.setWidth=function(e){O.gridWidth=e,O.isHorizontal=!0},this.setMaxWidth=function(e){O.gridWidth=e,O.isMaxWidth=!0,O.isHorizontal=!0},this.setHeight=function(e){O.gridHeight=e,O.isHorizontal=!1},this.setMaxHeight=function(e){O.gridHeight=e,O.isMaxHeight=!0,O.isHorizontal=!1},this.gotoPane=function(e,t){if(0==function(e){if(e>=O.numPanes||e<0)throw new Error("Pane "+index+" doesn't exists.");return!0}(e))return!1;if(e==O.currentPane)return!1;var i=-O.arrPanes[e];O.currentPane=e,l(i),P.trigger(x.events.PANE_CHANGE,e)},this.nextPane=function(){var e=O.currentPane+1;if(e>=O.numPanes){if(0==M.grid_carousel)return!0;e=0}x.gotoPane(e,"next")},this.prevPane=function(){var e=O.currentPane-1;return!(e<0&&(e=O.numPanes-1,0==M.grid_carousel))&&void x.gotoPane(e,"prev")},this.attachNextPaneButton=function(e){return j.setButtonOnClick(e,x.nextPane),1==M.grid_carousel||(x.isLastPane()&&e.addClass("ug-button-disabled"),void P.on(x.events.PANE_CHANGE,function(){x.isLastPane()?e.addClass("ug-button-disabled"):e.removeClass("ug-button-disabled")}))},this.attachPrevPaneButton=function(e){return j.setButtonOnClick(e,x.prevPane),1==M.grid_carousel||(x.isFirstPane()&&e.addClass("ug-button-disabled"),void P.on(x.events.PANE_CHANGE,function(){x.isFirstPane()?e.addClass("ug-button-disabled"):e.removeClass("ug-button-disabled")}))},this.attachBullets=function(i){i.setActive(O.currentPane),jQuery(i).on(i.events.BULLET_CLICK,function(e,t){x.gotoPane(t,"theme"),i.setActive(t)}),jQuery(x).on(x.events.PANE_CHANGE,function(e,t){i.setActive(t)})},this.getObjTileDesign=function(){return k},this.init=function(e,t,i){n(e,t,i)},this.run=function(){e()},this.setHtml=function(e){var t;(t=e||T).append("<div class='ug-thumbs-grid'><div class='ug-thumbs-grid-inner'></div></div>"),S=t.children(".ug-thumbs-grid"),E=S.children(".ug-thumbs-grid-inner"),1==O.isTilesMode?k.setHtml(E):A.setHtmlThumbs(E)}}function UGTiles(){function i(e,t){g_objects=e.getObjects(),N=e,A=jQuery(e),k=g_objects.g_objWrapper,g_objects.g_arrItems,(Q=jQuery.extend(Q,t)).tiles_min_columns<1&&(Q.tiles_min_columns=1),0!=Q.tiles_max_columns&&Q.tiles_max_columns<Q.tiles_min_columns&&(Q.tiles_max_columns=Q.tiles_min_columns),D.init(e,Q),G=D.getObjThumbs()}function s(){var e;M.addClass("ug-tiles-rest-mode"),B.isTransInited=!0,1==Q.tiles_enable_transition&&(M.addClass("ug-tiles-transit"),1==(e=D.getOptions()).tile_enable_image_effect&&0==e.tile_image_effect_reverse&&M.addClass("ug-tiles-transit-overlays"),B.isTransActive=!0)}function v(){return R.getElementSize(M).width}function c(){return 0!=B.isTransInited&&(M.addClass("ug-tiles-transition-active"),M.removeClass("ug-tiles-rest-mode"),0!=B.isTransActive&&void D.disableEvents())}function e(){return 0!=B.isTransInited&&(M.removeClass("ug-tiles-transition-active"),void M.addClass("ug-tiles-rest-mode"))}function g(){1==B.isTransActive?(setTimeout(function(){D.enableEvents(),D.triggerSizeChangeEventAllTiles(),e()},800),B.handle&&clearTimeout(B.handle),B.handle=setTimeout(function(){e(),D.triggerSizeChangeEventAllTiles(),B.handle=null},2e3)):(D.triggerSizeChangeEventAllTiles(),e())}function n(){W.colWidth=(W.availWidth-W.colGap*(W.numCols-1))/W.numCols,W.colWidth=Math.floor(W.colWidth),W.totalWidth=R.getSpaceByNumItems(W.numCols,W.colWidth,W.colGap)}function a(){var e;switch(W.colWidth=Q.tiles_col_width,W.minCols=Q.tiles_min_columns,W.maxCols=Q.tiles_max_columns,0==N.isMobileMode()?W.colGap=Q.tiles_space_between_cols:W.colGap=Q.tiles_space_between_cols_mobile,W.galleryWidth=v(),W.availWidth=W.galleryWidth,1==Q.tiles_include_padding&&(W.availWidth=W.galleryWidth-2*W.colGap),1==Q.tiles_exact_width?(W.numCols=R.getNumItemsInSpace(W.availWidth,W.colWidth,W.colGap),0<W.maxCols&&W.numCols>W.maxCols&&(W.numCols=W.maxCols),W.numCols<W.minCols?(W.numCols=W.minCols,n()):W.totalWidth=W.numCols*(W.colWidth+W.colGap)-W.colGap):((e=R.getNumItemsInSpaceRound(W.availWidth,W.colWidth,W.colGap))<W.minCols?e=W.minCols:0!=W.maxCols&&e>W.maxCols&&(e=W.maxCols),W.numCols=e,n()),Q.tiles_align){case"center":default:W.addX=Math.round((W.galleryWidth-W.totalWidth)/2);break;case"left":W.addX=0;break;case"right":W.addX=W.galleryWidth-W.totalWidth}for(W.arrPosx=[],col=0;col<W.numCols;col++){var t=R.getColX(col,W.colWidth,W.colGap);W.arrPosx[col]=t+W.addX}}function l(){W.maxColHeight=0,W.colHeights=[0]}function d(e,t,i,n){null==n&&(n=function(){var e=0,t=999999999;for(col=0;col<W.numCols;col++){if(null==W.colHeights[col]||0==W.colHeights[col])return col;W.colHeights[col]<t&&(e=col,t=W.colHeights[col])}return e}());var o=0;if(void 0!==W.colHeights[n]&&(o=W.colHeights[n]),null===(r=D.getTileHeightByWidth(W.colWidth,e))){if(1==Q.tiles_enable_transition)throw new Error("Can't know tile height, please turn off transition");var r=R.getElementSize(e).height}var s=W.arrPosx[n];R.placeElement(e,s,o);var a=o+r;W.colHeights[n]=a+W.colGap,W.maxColHeight<a&&(W.maxColHeight=a),1==t&&e.show().fadeTo(0,1),1==i&&M.height(W.maxColHeight)}function u(e){e=e||!1,a(),l();var t=G.getThumbs(G.type.GET_THUMBS_RATIO);c(),D.resizeAllTiles(W.colWidth,D.resizemode.VISIBLE_ELEMENTS,t);for(var i=0;i<t.length;i++){var n=jQuery(t[i]),o=void 0;1==Q.tiles_keep_order&&(o=R.getColByIndex(W.numCols,i)),d(n,e,!1,o)}g();var r=M.height();1==B.isTransActive&&r>W.maxColHeight?setTimeout(function(){M.height(W.maxColHeight)},700):M.height(W.maxColHeight)}function p(e,t){if(!0!==t&&0==function(e){var t=e.index();if(!0===N.getItem(t).ordered_placed)return!1;var i=R.getPrevRowSameColIndex(t,W.numCols);return i<0||!0===N.getItem(i).ordered_placed}(e))return;var i=e.index(),n=R.getColByIndex(W.numCols,i),o=N.getItem(i);D.resizeTile(e,W.colWidth),d(e,!0,!0,n),o.ordered_placed=!0;var r,s,a=N.getNumItems(),l=R.getNextRowSameColIndex(i,W.numCols);a<=l||(r=G.getThumbByIndex(l),s=N.getItem(l),G.isThumbLoaded(r),G.isThumbLoaded(r)&&!s.ordered_placed&&p(r,!0))}function o(){var e,t,i,n,o,r=G.getThumbs(G.type.GET_THUMBS_NO_RATIO);r&&0!=r.length&&(B.isAllLoaded=!1,1==B.isFirstPlaced&&(a(),l(),e=Math.abs(W.galleryWidth-W.totalWidth),1==Q.tiles_set_initial_height&&0==R.isScrollbarExists()&&e<25&&(t=(r.length,Math.ceil(r.length/W.numCols))*Q.tiles_col_width*.75,M.height(t),a())),r.fadeTo(0,0),i=r.find("img.ug-thumb-image"),n=W.numCols,o=W.galleryWidth,R.checkImagesLoaded(i,function(){a(),n==W.numCols&&o==W.galleryWidth||u(!1),s(),L.trigger(H.events.ALL_TILES_LOADED)},function(e,t){var i,n;1==B.isFirstPlaced&&N.triggerEvent(H.events.TILES_FIRST_PLACED),i=e,1!=t&&(i=jQuery(i),n=jQuery(i).parent(),G.triggerImageLoadedEvent(n,i),1==Q.tiles_keep_order?p(n):(D.resizeTile(n,W.colWidth),d(n,!0,!0)))}))}function t(){var u=v(),e=G.getThumbs(!0),c=Q.tiles_justified_row_height,g=[],o=0,p=Q.tiles_justified_space_between,t=e.length;jQuery.each(e,function(e,t){t=jQuery(t);var i=G.getItemByThumb(t),n=i.thumbWidth;i.thumbHeight!==c&&(n=Math.floor(i.thumbRatioByWidth*c)),g[e]=n,o+=n});var i=Math.ceil(o/u);t<i&&(i=t);var n=o/i,r=[],s=0,_=[],a=[],l=0,d=0;jQuery.each(e,function(e,t){var i=g[e];(d+1)*n<l+i/2&&(_[r.length]=s,r.push(a),a=[],s=0,d++),l+=i,s+=i,a.push(t)}),_[r.length]=s,r.push(a);var h=[],m=[],f=0;return jQuery.each(r,function(e,t){var i=(t.length,_[e]),n=(t.length-1)*p,o=(u-n)/i,r=Math.round(c*o);f+=r,0<e&&(f+=p),m.push(r);var s=r/c,a=[],l=n;jQuery.each(t,function(e,t){var i=jQuery(t).index(),n=g[i],o=Math.round(n*s);a[e]=o,l+=o});var d=l-u;jQuery.each(a,function(e,t){return 0!=d&&(d<0?(a[e]=t+1,d++):(a[e]=t-1,d--),void(e==a.length-1&&0!=d&&(a[e]-=d)))}),h[e]=a}),{arrRows:r,arrRowWidths:h,arrRowHeights:m,gap:p,totalHeight:f}}function r(a){a=a||!1;var e=v(),l=t();M.height(l.totalHeight),v()!=e&&(l=t()),c();var d=0,u=0;jQuery.each(l.arrRows,function(e,t){var o=l.arrRowWidths[e],r=l.arrRowHeights[e],s=0;jQuery.each(t,function(e,t){var i=jQuery(t),n=o[e];D.resizeTile(i,n,r,D.resizemode.VISIBLE_ELEMENTS),R.placeElement(i,s,d),u<(s+=n)&&(u=s),s+=l.gap,1==a&&jQuery(t).show()}),d+=r+l.gap}),g()}function _(){var e=v();switch(F.galleryWidth=e,O={},F.colWidth=Q.tiles_nested_col_width,F.optimalTileWidth=Q.tiles_nested_optimal_tile_width,F.currentGap=Q.tiles_space_between_cols,1==N.isMobileMode()&&(F.currentGap=Q.tiles_space_between_cols_mobile),null==F.colWidth?F.colWidth=Math.floor(F.optimalTileWidth/F.nestedOptimalCols):F.optimalTileWidth>F.colWidth?F.nestedOptimalCols=Math.ceil(F.optimalTileWidth/F.colWidth):F.nestedOptimalCols=1,F.maxColumns=R.getNumItemsInSpace(e,F.colWidth,F.currentGap),F.colWidth=R.getItemSizeInSpace(e,F.maxColumns,F.currentGap),F.gridY=0,z=[],G.getThumbs(!0).each(function(){var e,t,i,n,o,r,s,a,l,d,u,c,g=jQuery(this),p=(e=g,n={},o=F.colWidth,r=F.currentGap,s=D.getTileImageSize(e),a=e.index(),l=Math.ceil(function(e){return Math.abs(Math.sin(Math.abs(1e3*Math.sin(e))))}(a)*(F.nestedOptimalCols/3)+2*F.nestedOptimalCols/3),d=s.width,u=s.height,c=d/u,u<d?(t=l,0==(i=Math.round(t/c))&&(i=1)):(i=l,0==(t=Math.round(i*c))&&(t=1)),n.dimWidth=t,n.dimHeight=i,n.width=t*o+r*(t-1),n.height=i*o+r*(i-1),n.imgWidth=d,n.imgHeight=u,n.left=0,n.top=0,n);z.push(p)}),F.optimalTileWidth>F.colWidth?F.nestedOptimalCols=Math.ceil(F.optimalTileWidth/F.colWidth):F.nestedOptimalCols=1,F.totalWidth=F.maxColumns*(F.colWidth+F.currentGap)-F.currentGap,Q.tiles_align){case"center":default:F.addX=Math.round((F.galleryWidth-F.totalWidth)/2);break;case"left":F.addX=0;break;case"right":F.addX=F.galleryWidth-F.totalWidth}F.maxGridY=0}function h(e){var t=v();_(),m();var i=F.maxGridY*(F.colWidth+F.currentGap)-F.currentGap;M.height(i),v()!=t&&(_(),m()),0==Q.tiles_nested_debug&&function(e){{e=e||!1}c();for(var t=0;t<z.length;t++)P(t,e);M.height(F.maxColHeight),g()}(e)}function m(e){if(1==Q.tiles_nested_debug)return void 0===e&&(e=!0),function(e){if(0==e){for(var t=F.currentItem;t<z.length;t++)f(t);F.currentItem=z.length-1}else f(F.currentItem);for(t=0;t<=F.currentItem;t++)P(t,!0);F.currentItem++}(e),0;for(var t=0;t<z.length;t++)f(t)}function f(e){F.maxColHeight=0;for(var t=R.getObjectLength(O),i=F.gridY;i<=t+1;i++){for(var n=0;n<F.maxColumns;n++)if(0==S(F.gridY)||0==x(F.gridY,n)){return function(e,t,i){var n=jQuery.extend(!0,{},z[e]),o=n.dimWidth,r=t-n.dimWidth,s=F.nestedOptimalCols;if(t<=n.dimWidth||r<=.33*s||t<=s)y(e,t);else if(r<=s)4<=s?1==I(Math.floor(t/2),i)?y(e,Math.floor(t/2)+1):y(e,Math.floor(t/2)):y(objImage,t);else if(1==I(o,i))switch(s<=o){case!0:y(e,o-1);break;case!1:y(e,o+1)}n=jQuery.extend(!0,{},z[e]);var a=function(e,t,i){var n=F.gridY-1,o=0,r=0,s=1,a=[],l=[];if(a.push(e),0<=n){for(r=0;0<=n;){if(o=O[n][i],void 0!==O[n][i-1]&&O[n][i-1]==O[n][i]||void 0!==O[n][i+t]&&O[n][i+t-1]==O[n][i+t]||O[n][i]!=O[n][i+t-1])return l.push(s),l.push(a),l;r!=o&&(s++,a.push(o)),n--,r=o}return l.push(s),l.push(a),l}return[0,[]]}(e,n.dimWidth,i);if(F.columnsValueToEnableHeightResize<=a[0]&&F.maxColumns>=2*F.nestedOptimalCols){var l=function(e,t){var i=0,n=0,o=t.dimWidth,r=t.dimHeight,s=0,a=0,l=jQuery.map(O,function(e,t){return[e]});if(void 0===l[F.gridY]||void 0===l[F.gridY][e-1])n=0;else for(var d=0;void 0!==O[F.gridY+d]&&-1!=O[F.gridY+d][e-1];)s=O[F.gridY+d][e-2],d++,n++;if(void 0===l[F.gridY]||void 0===l[F.gridY][e+o])i=0;else for(d=0;void 0!==O[F.gridY+d]&&-1!=O[F.gridY+d][e+o];)a=O[F.gridY+d][e+o+1],d++,i++;var u=0,c=0;return Math.abs(r-n)<Math.abs(r-i)&&0!=n?(u=n,c=s):0!=i?(u=i,c=a):u=r,{newHeight:u,idToResize:c}}(i,n),d=w(e,l.newHeight,!0);z[e].dimHeight=d.dimHeight;var u=function(e,t){for(var i=0,n=0,o=[],r=0,s=0,a=0;a<e[1].length;a++){var l,d=e[1][a],u=z[e[1][a]];n+=u.dimHeight,0!=a?(i+=u.dimHeight,o.push([d,u.dimHeight])):(l=y(d,t,!0),i+=l.dimHeight,o.push([e[1][a],l.dimHeight]))}r=u.left,s=u.top;for(var c=n,g=[],a=o.length-1;0<=a;a--){var p,d=o[a][0];0!=a?(p=Math.max(Math.round(n/3),Math.floor(o[a][1]*(n/i))),c-=p,(l=w(d,p,!0)).left=r,l.top=s,g.push({tileID:d,sizes:l}),s+=l.dimHeight):((l=w(d,p=c,!0)).left=r,l.top=s,g.push({tileID:d,sizes:l}))}return g}(a,d.dimWidth),c=2<=function(e){for(var t=0,i=0,n=0;n<e.length-1;n++){var o=e[n].sizes,r=-1,s=-1;S(o.top+o.dimHeight)&&F.maxColumns>o.left+o.dimWidth&&(r=O[o.top+o.dimHeight-1][o.left+o.dimWidth],s=O[o.top+o.dimHeight][o.left+o.dimWidth]),r!=s&&t++}for(n=0;n<e.length-1;n++){o=e[n].sizes,r=-1,s=-1;S(o.top+o.dimHeight)&&0<=o.left-1&&(r=O[o.top+o.dimHeight-1][o.left-1],s=O[o.top+o.dimHeight][o.left-1]),r!=s&&i++}return Math.max(i,t)}(u)?!0:!1;l.newHeight>=n.dimHeight&&(n=w(e,l.newHeight,!0));var g=function(e,t,i){var n=z[e],o=n.dimHeight,r=(n.dimWidth,n.left),s=n.top,a=(parseInt(s/(F.colWidth+F.currentGap)),parseInt(r/(F.colWidth+F.currentGap)),o-t+i),l=w(e,a,!0),d=[];return d.push({tileID:e,sizes:l}),d}(l.idToResize,l.newHeight,n.dimHeight);n.top=F.gridY,n.left=i,g.push({tileID:e,sizes:n});var p=T(g),_=T(u);return p<_||1==c?b(g):b(u)}n.left=i,n.top=F.gridY,z[e]=n,E(e,n,i,F.gridY),F.maxGridY=n.top+n.dimHeight}(e,function(e){var t=e,i=0;if(1==S(F.gridY))for(;0==x(F.gridY,t);)i++,t++;else i=F.maxColumns;return i}(n),n),0}F.gridY++}}function b(e){for(var t=0;t<e.length;t++){var i=e[t].sizes,n=e[t].tileID;z[n]=jQuery.extend(!0,{},i),E(n,i,i.left,i.top)}}function y(e,t,i){i=i||!1;var n=F.colWidth,o=F.currentGap,r=z[e],s=r.imgWidth/r.imgHeight;if(dimWidth=t,dimHeight=Math.round(dimWidth/s),1==i){var a=jQuery.extend(!0,{},r);return a.dimWidth=dimWidth,a.dimHeight=dimHeight,a.width=dimWidth*n+o*(dimWidth-1),a.height=dimHeight*n+o*(dimHeight-1),a}r.dimWidth=dimWidth,r.dimHeight=dimHeight,r.width=dimWidth*n+o*(dimWidth-1),r.height=dimHeight*n+o*(dimHeight-1)}function w(e,t,i){i=i||!1;var n=z[e],o=n.dimWidth,r=F.colWidth,s=F.currentGap;if(1==i){var a=jQuery.extend(!0,{},n);return a.dimHeight=t,a.width=o*r+s*(o-1),a.height=t*r+s*(t-1),a}n.dimHeight=t,n.width=o*r+s*(o-1),n.height=t*r+s*(t-1)}function T(e){for(var t=0,i=0,n=0;n<e.length;n++){var o=z[e[n].tileID];if(0==o.dimHeight||0==o.height)return;resizeVal=o.dimWidth/o.dimHeight/(o.imgWidth/o.imgHeight),resizeVal<1&&(resizeVal=1/resizeVal),t+=resizeVal,i++}return t/i}function I(e,t){var i=F.gridY-1;return!(i<=0||0==S(i))&&O[i][t+e-1]!=O[i][t+e]}function S(e){return void 0!==O[e]}function E(e,t,i,n){for(var o,r,s=0;s<t.dimHeight;s++)for(var a=0;a<t.dimWidth;a++)0==S(n+s)&&function(e){O[e]=new Object;for(var t=0;t<F.maxColumns;t++)O[e][t]=-1}(n+s),o=i+a,r=e,O[n+s][o]=r}function x(e,t){return-1!=O[e][t]}function P(e,t){var i=G.getThumbByIndex(e),n=z[e],o=n.top*(F.colWidth+F.currentGap),r=F.addX+n.left*(F.colWidth+F.currentGap);D.resizeTile(i,n.width,n.height,D.resizemode.VISIBLE_ELEMENTS),R.placeElement(i,r,o),o+n.height>F.maxColHeight&&(F.maxColHeight=o+n.height),1==t&&i.fadeTo(0,1)}function C(){if(1==B.isFirstTimeRun)return!0;if(0==B.isAllLoaded)return!1;switch(Q.tiles_type){case"columns":u(!1);break;case"justified":r(!1);break;case"nested":(1==N.isMobileMode()?u:h)(!1)}}function j(){switch(k.children(".ug-tile").show(),1==B.isFirstTimeRun&&(L.on(H.events.ALL_TILES_LOADED,function(){B.isAllLoaded=!0}),A.on(N.events.SIZE_CHANGE,C),A.on(H.events.TILES_FIRST_PLACED,function(){B.isFirstPlaced=!1}),D.initEvents()),D.run(),Q.tiles_type){default:case"columns":o();break;case"justified":i=jQuery(k).find("img.ug-thumb-image"),n=G.getThumbs(),B.isAllLoaded=!1,n.fadeTo(0,0),R.checkImagesLoaded(i,function(){setTimeout(function(){r(!0),n.fadeTo(0,1),N.triggerEvent(H.events.TILES_FIRST_PLACED),s(),L.trigger(H.events.ALL_TILES_LOADED)})},function(e,t){e=jQuery(e);var i=jQuery(e).parent();G.triggerImageLoadedEvent(i,e)});break;case"nested":e=jQuery(k).find("img.ug-thumb-image"),t=G.getThumbs(),B.isAllLoaded=!1,t.fadeTo(0,0),R.checkImagesLoaded(e,function(){(1==N.isMobileMode()?u:h)(!0),N.triggerEvent(H.events.TILES_FIRST_PLACED),s(),L.trigger(H.events.ALL_TILES_LOADED)},function(e,t){e=jQuery(e);var i=jQuery(e).parent();G.triggerImageLoadedEvent(i,e)})}var e,t,i,n;B.isFirstTimeRun=!1}var A,k,M,O,z,H=this,L=jQuery(this),N=new UniteGalleryMain,R=new UGFunctions,D=new UGTileDesign,G=new UGThumbsGeneral,W={},Q={tiles_type:"columns",tiles_col_width:250,tiles_align:"center",tiles_exact_width:!1,tiles_space_between_cols:3,tiles_space_between_cols_mobile:3,tiles_include_padding:!0,tiles_min_columns:2,tiles_max_columns:0,tiles_keep_order:!1,tiles_set_initial_height:!0,tiles_justified_row_height:150,tiles_justified_space_between:3,tiles_nested_optimal_tile_width:250,tiles_nested_col_width:null,tiles_nested_debug:!1,tiles_enable_transition:!0},B={isFirstTimeRun:!0,handle:null,isTransActive:!(this.events={THUMB_SIZE_CHANGE:"thumb_size_change",TILES_FIRST_PLACED:"tiles_first_placed",ALL_TILES_LOADED:"all_tiles_loaded"}),isTransInited:!1,isFirstPlaced:!0,isAllLoaded:!1},F={colWidth:null,nestedOptimalCols:5,gridY:0,maxColumns:0,columnsValueToEnableHeightResize:3,resizeLeftRightToColumn:!0,currentItem:0,currentGap:null,optimalTileWidth:null,maxGridY:0};this.destroy=function(){A.off(N.events.SIZE_CHANGE),D.destroy(),A.off(H.events.TILES_FIRST_PLACED)},this.init=function(e,t){i(e,t)},this.setHtml=function(e){!function(e){M=e=e||(M||k);var t=Q.tiles_type;e.addClass("ug-tiletype-"+t),D.setHtml(e),e.children(".ug-thumb-wrapper").hide()}(e)},this.getObjTileDesign=function(){return D},this.run=function(){j()},this.runNewItems=function(){if(!M)throw new Error("Can't run new items - parent not set");switch(D.setHtml(M,!0),D.run(!0),Q.tiles_type){case"columns":o();break;default:case"justified":case"nested":throw new Error("Tiles type: "+Q.tiles_type+" not support load more yet")}}}function UGTileDesign(){function n(e,t){A=e,jQuery(e);var i=A.getObjects();P=i.g_objWrapper,A.getArrItems(),O=jQuery.extend(O,z),O=jQuery.extend(O,t),function(){if(1==O.tile_enable_overlay?(O.thumb_overlay_opacity=O.tile_overlay_opacity,O.thumb_overlay_color=O.tile_overlay_color):0==O.tile_enable_icons?O.thumb_color_overlay_effect=!1:O.thumb_overlay_opacity=0,O.tile_as_link&&(O.thumb_wrapper_as_link=!0,O.thumb_link_newpage=O.tile_link_newpage),1==O.tile_enable_outline&&0==O.tile_enable_border&&(O.tile_enable_outline=!1),H.tileInnerReduce=0,O.tile_enable_border&&(H.tileInnerReduce=2*O.tile_border_width,M.setThumbInnerReduce(H.tileInnerReduce)),H.isSaparateIcons=!k.isRgbaSupported(),1==O.tile_enable_textpanel){switch(O.tile_textpanel_position){case"top":O.tile_textpanel_align="top";case"bottom":H.isTextpanelOutside=!0,O.tile_textpanel_always_on=!0,O.tile_textpanel_offset=0;break;case"inside_top":O.tile_textpanel_align="top";break;case"middle":O.tile_textpanel_align="middle",O.tile_textpanel_appear_type="fade"}0==O.tile_textpanel_always_on&&(H.isSaparateIcons=!0)}0!=O.tile_textpanel_offset&&(O.tile_textpanel_appear_type="fade",O.tile_textpanel_margin=O.tile_textpanel_offset),"title_and_desc"==O.tile_textpanel_source&&(O.tile_textpanel_enable_description=!0,O.tile_textpanel_desc_style_as_title=!0)}(),M.init(e,O);var n=["overlay"];H.funcCustomTileHtml&&(n=[]),M.setCustomThumbs(s,n,{allow_onresize:!1});var o=M.getOptions();O=jQuery.extend(O,o),H.ratioByWidth=O.tile_width/O.tile_height,H.ratioByHeight=O.tile_height/O.tile_width,O.tile_size_by==C.sizeby.GLOBAL_RATIO&&H.isTextpanelOutside&&(H.hasImageContainer=!0)}function r(){var e=A.isMobileMode();switch(H.isTextPanelHidden=!1,1==e&&0==O.tile_textpanel_always_on&&(H.isTextPanelHidden=!0),H.isVideoplayIconAlwaysOn=O.tile_videoplay_icon_always_on,O.tile_videoplay_icon_always_on){case"always":H.isVideoplayIconAlwaysOn=!0;break;case"never":H.isVideoplayIconAlwaysOn=!1;break;case"mobile_only":H.isVideoplayIconAlwaysOn=1==e;break;case"desktop_only":H.isVideoplayIconAlwaysOn=0==e}}function s(e,t){if(e.addClass("ug-tile"),H.funcCustomTileHtml)return H.funcCustomTileHtml(e,t),!1;var i="";1==H.hasImageContainer&&(i+="<div class='ug-image-container ug-trans-enabled'>");var n="ug-thumb-image";0!=O.tile_enable_image_effect&&1!=O.tile_image_effect_reverse||(n+=" ug-trans-enabled");var o=k.stripTags(t.title),o=k.htmlentitles(o);i+='<img src="'+k.escapeDoubleSlash(t.urlThumb)+"\" alt='"+o+"' class='"+n+"'>",1==H.hasImageContainer&&(i+="</div>"),e.append(i),O.tile_size_by==C.sizeby.GLOBAL_RATIO&&e.fadeTo(0,0);var r,s={};1==O.tile_enable_background&&(s["background-color"]=O.tile_background_color),1==O.tile_enable_border&&(s["border-width"]=O.tile_border_width+"px",s["border-style"]="solid",s["border-color"]=O.tile_border_color,O.tile_border_radius&&(s["border-radius"]=O.tile_border_radius+"px")),1==O.tile_enable_outline&&(s.outline="1px solid "+O.tile_outline_color),1==O.tile_enable_shadow&&(r=O.tile_shadow_h+"px ",r+=O.tile_shadow_v+"px ",r+=O.tile_shadow_blur+"px ",r+=O.tile_shadow_spread+"px ",r+=O.tile_shadow_color,s["box-shadow"]=r),e.css(s);var a,l,d,u,c,g,p,_,h,m="";if(O.tile_enable_icons?(0==O.tile_as_link&&1==O.tile_enable_action&&(a="ug-button-play ug-icon-zoom","image"!=t.type&&(a="ug-button-play ug-icon-play"),m+="<div class='ug-tile-icon "+a+"' style='display:none'></div>"),(t.link&&1==O.tile_show_link_icon||1==O.tile_as_link)&&(0==O.tile_as_link?(l="",1==O.tile_link_newpage&&(l=" target='_blank'"),m+="<a href='"+t.link+"'"+l+" class='ug-tile-icon ug-icon-link'></a>"):m+="<div class='ug-tile-icon ug-icon-link' style='display:none'></div>"),0==(d=H.isSaparateIcons)&&"image"!=t.type&&1==H.isVideoplayIconAlwaysOn&&(d=!0),(u=d?e:e.children(".ug-thumb-overlay")).append(m),0==(c=u.children("."+a)).length?c=null:c.hide(),0==(g=u.children(".ug-icon-link")).length?g=null:g.hide(),g||1!=O.tile_enable_action||e.addClass("ug-tile-clickable")):1==O.tile_enable_action&&e.addClass("ug-tile-clickable"),1==O.tile_enable_image_effect&&(p="",0==O.tile_image_effect_reverse&&(p=" ug-trans-enabled"),_="<div class='ug-tile-image-overlay"+p+"' >",h=" ug-"+O.tile_image_effect_type+"-effect",_+='<img src="'+k.escapeDoubleSlash(t.urlThumb)+"\" alt='"+t.title+"' class='"+h+p+"'>",_+="</div>",e.append(_),1==O.tile_image_effect_reverse&&e.children(".ug-tile-image-overlay").fadeTo(0,0)),1==O.tile_enable_textpanel){var f=new UGTextPanel;f.init(A,O,"tile");var v="";1!=O.tile_textpanel_always_on&&1!=H.isTextpanelOutside||(v="ug-trans-enabled"),f.appendHTML(e,v);var b,y,w=t.title,T="";switch(O.tile_textpanel_source){case"desc":case"description":w=t.description;break;case"desc_title":""!=t.description&&(w=t.description);break;case"title_and_desc":w=t.title,T=t.description}f.setTextPlain(w,T),0==O.tile_textpanel_always_on&&f.getElement().fadeTo(0,0),e.data("objTextPanel",f),1==O.tile_textpanel_always_on&&I(e).css("z-index",2),1==H.isTextpanelOutside&&(e.append("<div class='ug-tile-cloneswrapper'></div>"),b=e.children(".ug-tile-cloneswrapper"),(y=new UGTextPanel).init(A,O,"tile"),y.appendHTML(b),y.setTextPlain(w,T),e.data("objTextPanelClone",y))}null!==t.addHtml&&e.append(t.addHtml)}function g(e){return e.children(".ug-tile-image-overlay")}function l(e){return e.data("objTextPanel")}function I(e){return e.children(".ug-textpanel")}function f(e){var t;return(t=(1==H.isTextpanelOutside?function(e){var t=e.find(".ug-tile-cloneswrapper .ug-textpanel");if(0==t.length)throw new Error("text panel cloned element not found");return t}:I)(e))?k.getElementSize(t).height:0}function v(e){var t=e.find(".ug-icon-link");return 0==t.length?null:t}function b(e){var t=e.find(".ug-button-play");return 0==t.length?null:t}function o(e){return!!e.hasClass("ug-thumb-over")}function a(e){return e.hasClass("ug-tile-clickable")}function d(e){return 1==O.tile_enable_icons&&1==H.isVideoplayIconAlwaysOn&&"image"!=e.type}function y(e,t,i,n){var o=g(e),r=C.getTileImage(e),s=e.find(".ug-tile-image-overlay img");t-=H.tileInnerReduce,i-=H.tileInnerReduce;var a,l,d,u,c=null;1==H.isTextpanelOutside&&(i-=a=f(e),"top"==O.tile_textpanel_position&&(c=a),1==H.hasImageContainer&&(d=e,l=0==H.hasImageContainer?null:d.children(".ug-image-container"),k.setElementSize(l,t,i),null!==c&&k.placeElement(l,0,c))),0==O.tile_enable_image_effect?(k.scaleImageCoverParent(r,t,i),0==H.hasImageContainer&&null!==c&&k.placeElement(r,0,c)):(u="nothing",!0===n&&0==H.isTextpanelOutside&&(u=1==O.tile_image_effect_reverse?"effect":"image"),"effect"!=u&&(k.setElementSize(o,t,i),null!==c&&k.placeElement(o,0,c),k.scaleImageCoverParent(s,t,i)),"image"!=u&&(1==H.hasImageContainer?k.scaleImageCoverParent(r,t,i):"effect"==u?(k.scaleImageCoverParent(r,t,i),null!==c&&k.placeElement(r,0,c)):k.cloneElementSizeAndPos(s,r,!1,null,c)))}function w(e,t,i,n){var o=null;if(i&&(o=i-H.tileInnerReduce),n&&(n-=H.tileInnerReduce),"clone"==t)return e.data("objTextPanelClone").refresh(!0,!0,o),C.getItemByTile(e).textPanelCloneSizeSet=!0,0;var r,s,a=l(e);a&&(r=null,1==H.isTextpanelOutside&&(r=f(e)),a.refresh(!1,!0,o,r),1!=O.tile_textpanel_always_on&&"fade"!=O.tile_textpanel_appear_type||(1==H.isTextpanelOutside&&n&&"bottom"==O.tile_textpanel_position?(s=n-r,a.positionPanel(s)):a.positionPanel()))}function u(e){var t=(C.getItemByTile(e),b(e)),i=v(e),n=k.getElementSize(e);y(e,n.width,n.height),1==O.tile_enable_textpanel&&w(e,"regular",n.width,n.height);var o,r=n.width-H.tileInnerReduce,s=n.height-H.tileInnerReduce,a=0;1==H.isTextpanelOutside&&(s-=o=f(e),"top"==O.tile_textpanel_position&&(a=o));var l,d,u,c,g,p,_,h,m=e.children(".ug-thumb-overlay");k.setElementSizeAndPosition(m,0,a,r,s),(t||i)&&(l=0,1==O.tile_enable_textpanel&&0==H.isTextPanelHidden&&0==H.isTextpanelOutside&&(d=I(e),0<(u=k.getElementSize(d)).height&&(l=Math.floor(u.height/2*-1)))),t&&i?(c=k.getElementSize(t),g=k.getElementSize(i),p=O.tile_space_between_icons,_=c.width+p+g.width,(h=Math.floor((n.width-_)/2))<p&&(p=Math.floor((n.width-c.width-g.width)/3),_=c.width+p+g.width,h=Math.floor((n.width-_)/2)),k.placeElement(t,h,"middle",0,l),k.placeElement(i,h+c.width+p,"middle",0,l)):(t&&k.placeElement(t,"center","middle",0,l),i&&k.placeElement(i,"center","middle",0,l)),t&&t.show(),i&&i.show()}function c(e,t){var i,n=(C.getItemByTile(e),g(e)),o=O.thumb_transition_duration;0==O.tile_image_effect_reverse?(i=C.getTileImage(e),t?(i.fadeTo(0,1),n.stop(!0).fadeTo(o,0)):n.stop(!0).fadeTo(o,1)):t?n.stop(!0).fadeTo(o,1):n.stop(!0).fadeTo(o,0)}function p(e,t){var i=O.thumb_transition_duration,n=I(e);if(!n)return 1;if("slide"==O.tile_textpanel_appear_type){var o=k.getElementSize(n);if(0==o.width)return;var r=-o.height,s={},a={},l="bottom";"inside_top"==O.tile_textpanel_position&&(l="top"),s[l]=r+"px",a[l]="0px",1==t?(n.fadeTo(0,1),0==n.is(":animated")&&n.css(s),a.opacity=1,n.stop(!0).animate(a,i)):n.stop(!0).animate(s,i)}else 1==t?n.stop(!0).fadeTo(i,1):n.stop(!0).fadeTo(i,0)}function _(e,t,i){var n=O.thumb_transition_duration;i&&!0===i&&(n=0);var o=b(e),r=v(e),s=t?1:0;o&&o.stop(!0).fadeTo(n,s),r&&r.stop(!0).fadeTo(n,s)}function e(e,t){var i;t=jQuery(t),O.tile_enable_image_effect&&c(t,!0),1==O.tile_enable_textpanel&&0==O.tile_textpanel_always_on&&0==H.isTextPanelHidden&&p(t,!0),H.isSaparateIcons&&1==O.tile_enable_icons&&(i=1==O.thumb_overlay_reverse,0==d(C.getItemByTile(t))&&_(t,i,!1))}function t(e,t){var i;t=jQuery(t),O.tile_enable_image_effect&&c(t,!1),1==O.tile_enable_textpanel&&0==O.tile_textpanel_always_on&&p(t,!1),1==H.isSaparateIcons&&1==O.tile_enable_icons&&(i=1!=O.thumb_overlay_reverse,0==d(C.getItemByTile(t))?_(t,i,!1):_(t,!0,!0))}function i(e,t,i){return t=jQuery(t),1==O.tile_visible_before_image&&!0!==t.data("image_placed")&&!0!==i||(u(t),void M.setThumbNormalStyle(t))}function h(e,t,i){u(t),i.fadeTo(0,1),t.data("image_placed",!0)}function m(e){return 1==a(e)?(j.trigger(C.events.TILE_CLICK,e),1):void(0==o(e)&&(t=e,M.getThumbs().not(t).each(function(e,t){M.setThumbNormalStyle(jQuery(t))}),M.setThumbOverStyle(e)));var t}function T(e){var t=jQuery(this),i=t.prop("tagName").toLowerCase(),n=!0;if(H.funcParentApproveClick&&0==H.funcParentApproveClick()&&(n=!1),"a"==i)0==n&&e.preventDefault();else if(0==o(t))1==n&&m(t);else{if(0==a(t))return!0;1==n&&j.trigger(C.events.TILE_CLICK,t)}}function S(e){e.stopPropagation();var t=jQuery(this).parents(".ug-tile"),i=!0;return H.funcParentApproveClick&&0==H.funcParentApproveClick()&&(i=!1),0==o(t)?(m(t),!0):1==i?(j.trigger(C.events.TILE_CLICK,t),!1):void 0}function E(e){var t=jQuery(this).parents(".ug-tile");H.funcParentApproveClick&&0==H.funcParentApproveClick()&&e.preventDefault(),0==o(t)&&0==O.tile_as_link&&(e.preventDefault(),m(t))}var x,P,C=this,j=jQuery(this),A=new UniteGalleryMain,k=new UGFunctions,M=new UGThumbsGeneral;this.resizemode={FULL:"full",WRAPPER_ONLY:"wrapper_only",VISIBLE_ELEMENTS:"visible_elements"},this.sizeby={GLOBAL_RATIO:"global_ratio",TILE_RATIO:"tile_ratio",IMAGE_RATIO:"image_ratio",CUSTOM:"custom"},this.events={TILE_CLICK:"tile_click"};var O={tile_width:250,tile_height:200,tile_size_by:C.sizeby.IMAGE_RATIO,tile_visible_before_image:!1,tile_enable_background:!0,tile_background_color:"#F0F0F0",tile_enable_border:!1,tile_border_width:3,tile_border_color:"#F0F0F0",tile_border_radius:0,tile_enable_outline:!1,tile_outline_color:"#8B8B8B",tile_enable_shadow:!1,tile_shadow_h:1,tile_shadow_v:1,tile_shadow_blur:3,tile_shadow_spread:2,tile_shadow_color:"#8B8B8B",tile_enable_action:!0,tile_as_link:!1,tile_link_newpage:!0,tile_enable_overlay:!0,tile_overlay_opacity:.4,tile_overlay_color:"#000000",tile_enable_icons:!0,tile_show_link_icon:!1,tile_videoplay_icon_always_on:"never",tile_space_between_icons:26,tile_enable_image_effect:!1,tile_image_effect_type:"bw",tile_image_effect_reverse:!1,tile_enable_textpanel:!1,tile_textpanel_source:"title",tile_textpanel_always_on:!1,tile_textpanel_appear_type:"slide",tile_textpanel_position:"inside_bottom",tile_textpanel_offset:0},z={thumb_color_overlay_effect:!0,thumb_overlay_reverse:!0,thumb_image_overlay_effect:!1,tile_textpanel_enable_description:!1,tile_textpanel_bg_opacity:.6,tile_textpanel_padding_top:8,tile_textpanel_padding_bottom:8},H={ratioByHeight:0,ratioByWidth:0,eventSizeChange:"thumb_size_change",funcCustomTileHtml:null,funcCustomPositionElements:null,funcParentApproveClick:null,isSaparateIcons:!1,tileInnerReduce:0,isTextpanelOutside:!1,hasImageContainer:!1,isVideoplayIconAlwaysOn:!1,isTextPanelHidden:!1};this.loadTileImage=function(i){var e=C.getTileImage(i);k.checkImagesLoaded(e,null,function(e,t){h(0,i,jQuery(e))})},this.setHtml=function(e,t){x=e,!0!==t&&r(),M.setHtmlThumbs(e,t)},this.initEvents=function(){M.initEvents(),jQuery(M).on(M.events.SETOVERSTYLE,e),jQuery(M).on(M.events.SETNORMALSTYLE,t),jQuery(M).on(M.events.PLACEIMAGE,h),P.on(H.eventSizeChange,i),x.on("click",".ug-tile",T),x.on("click",".ug-tile .ug-button-play",S),x.on("click",".ug-tile .ug-icon-link",E)},this.destroy=function(){var e;x.off("click",".ug-tile"),x.off("click",".ug-tile .ug-button-play"),x.off("click",".ug-tile .ug-icon-link"),jQuery(M).off(M.events.SETOVERSTYLE),jQuery(M).off(M.events.SETNORMALSTYLE),jQuery(M).off(M.events.PLACEIMAGE),P.off(H.eventSizeChange),1==O.tile_enable_textpanel&&(e=M.getThumbs(),jQuery.each(e,function(e,t){var i=l(jQuery(t));i&&i.destroy()})),M.destroy()},this.init=function(e,t,i){n(e,t)},this.setFixedMode=function(){O.tile_size_by=C.sizeby.GLOBAL_RATIO,O.tile_visible_before_image=!0},this.setApproveClickFunction=function(e){H.funcParentApproveClick=e},this.resizeTile=function(e,t,i,n){switch(1==H.isTextpanelOutside&&w(e,"clone",t),i=t?i||C.getTileHeightByWidth(t,e):(t=O.tile_width,O.tile_height),k.setElementSize(e,t,i),n){default:case C.resizemode.FULL:C.triggerSizeChangeEvent(e,!0);break;case C.resizemode.WRAPPER_ONLY:return!0;case C.resizemode.VISIBLE_ELEMENTS:if(H.funcCustomTileHtml)return C.triggerSizeChangeEvent(e,!0),!0;y(e,t,i,!0),1==O.tile_enable_textpanel&&1==O.tile_textpanel_always_on&&t&&w(e,"regular",t,i)}},this.resizeAllTiles=function(i,n,e){r();var o=null;O.tile_size_by==C.sizeby.GLOBAL_RATIO&&(o=C.getTileHeightByWidth(i)),(e=e||M.getThumbs()).each(function(e,t){C.resizeTile(jQuery(t),i,o,n)})},this.triggerSizeChangeEvent=function(e,t){if(!e)return!1;t=t||!1,P.trigger(H.eventSizeChange,[e,t])},this.triggerSizeChangeEventAllTiles=function(t){M.getThumbs().each(function(){var e=jQuery(this);C.triggerSizeChangeEvent(e,t)})},this.disableEvents=function(){M.getThumbs().css("pointer-events","none")},this.enableEvents=function(){M.getThumbs().css("pointer-events","auto")},this.setOptions=function(e){O=jQuery.extend(O,e),M.setOptions(e)},this.setTileSizeOptions=function(e){if(O.tile_size_by!==C.sizeby.GLOBAL_RATIO)throw new Error("setNewTileOptions works with global ration only");O.tile_width=e,O.tile_height=Math.floor(e*H.ratioByHeight)},this.setCustomFunctions=function(e,t){H.funcCustomTileHtml=e,H.funcCustomPositionElements=t},this.run=function(e){var t=M.type.GET_THUMBS_ALL;!0===e&&(t=M.type.GET_THUMBS_NEW);var i=M.getThumbs(t);O.tile_size_by==C.sizeby.GLOBAL_RATIO&&C.resizeAllTiles(O.tile_width,C.resizemode.WRAPPER_ONLY,i),1==O.tile_enable_image_effect&&0==O.tile_image_effect_reverse&&i.children(".ug-thumb-image").fadeTo(0,0),M.setHtmlProperties(i),1==O.tile_visible_before_image&&(i.children(".ug-thumb-image").fadeTo(0,0),M.loadThumbsImages())},this._____________EXTERNAL_GETTERS____________=function(){},this.getObjThumbs=function(){return M},this.getOptions=function(){return O},this.getTileImage=function(e){return e.find("img.ug-thumb-image")},this.getItemByTile=function(e){return M.getItemByThumb(e)},this.getTileHeightByWidth=function(e,t){var i=function(e){var t=H.ratioByHeight;switch(O.tile_size_by){default:t=H.ratioByHeight;break;case C.sizeby.IMAGE_RATIO:if(!e)throw new Error("tile should be given for tile ratio");var i=C.getItemByTile(e);if(void 0!==i.thumbRatioByHeight){if(0==i.thumbRatioByHeight)throw trace(i),new Error("the item ratio not inited yet");t=i.thumbRatioByHeight}break;case C.sizeby.CUSTOM:return null}return t}(t);if(null===i)return null;var n=Math.floor((e-H.tileInnerReduce)*i)+H.tileInnerReduce;return t&&1==H.isTextpanelOutside&&O.tile_size_by==C.sizeby.IMAGE_RATIO&&(n+=f(t)),n},this.getTileImageSize=function(e){var t=C.getItemByTile(e);if(!t.thumbWidth||!t.thumbHeight)throw new Error("Can't get image size - image not inited.");return{width:t.thumbWidth,height:t.thumbHeight}},this.getGlobalTileSize=function(){if(O.tile_size_by!=C.sizeby.GLOBAL_RATIO)throw new Error("The size has to be global ratio");return{width:O.tile_width,height:O.tile_height}}}function UGAviaControl(){function t(){jQuery("body").on("touchstart",function(e){return 0==d.isControlEnabled||void(d.touchEnabled=!0)}),jQuery("body").mousemove(function(e){if(0==d.isControlEnabled)return!0;if(1==d.touchEnabled)return jQuery("body").off("mousemove"),!0;d.isMouseInsideStrip=u.ismouseover();var t,i,n,o=a.isTouchMotionActive();1==d.isMouseInsideStrip&&0==o?(n=e,t=0==l?n.pageX:n.pageY,null!==(i=function(e){return(0==l?function(e){var t=g.strip_padding_left,i=g.strip_padding_right,n=u.width()-t-i,o=c.width();if(o<n)return null;var r=u.offset().left,s=e-r-t,a=g.thumb_width,l=n-g.thumb_width;s<a&&(s=a),l<s&&(s=l);var d=(s-a)/(l-a)*(o-n);return d=-1*Math.round(d)+t}:function(e){var t=g.strip_padding_top,i=(g.strip_padding_bottom,u.height()),n=c.height();if(n<i)return null;var o=u.offset().top,r=e-o-t;if(r<0)return null;var s=g.thumb_height,a=i-g.thumb_height;r<s&&(r=s),a<r&&(r=a);var l=(r-s)/(a-s)*(n-i);return l=-1*Math.round(l)+t})(e)}(t))&&(d.is_strip_moving=!0,d.strip_finalPos=i,1!=d.isStripMoving&&(d.isStripMoving=!0,d.handle_timeout=setInterval(r,10)))):s()})}function r(){if(0==d.is_strip_moving)return!1;var e=a.getInnerStripPos();Math.floor(e)==Math.floor(d.strip_finalPos)&&s();var t,i=Math.abs(d.strip_finalPos-e);i<1?t=i:0<(t=i/4)&&t<1&&(t=1),d.strip_finalPos<e&&(t*=-1);var n=e+t;a.positionInnerStrip(n)}function s(){return 0!=d.isStripMoving&&(d.isStripMoving=!1,void(d.handle_timeout=clearInterval(d.handle_timeout)))}var a,i,u,c,g,l,d={touchEnabled:!1,isMouseInsideStrip:!1,strip_finalPos:0,handle_timeout:"",isStripMoving:!1,isControlEnabled:!0};this.enable=function(){d.isControlEnabled=!0},this.disable=function(){d.isControlEnabled=!1},this.init=function(e){i=(a=e).getObjects(),i.g_gallery,u=i.g_objStrip,c=i.g_objStripInner,g=i.g_options,l=i.isVertical,t()},this.destroy=function(){jQuery("body").off("touchstart"),jQuery("body").off("mousemove")}}function UGSlider(){function n(e,t,i){ie=e,i&&(J=i,t=ae.convertCustomPrefixOptions(t,J,"slider")),W=jQuery(e);var n,o,r,s=ie.getObjects();Q=s.g_objWrapper,s.g_objThumbs,t.hasOwnProperty("slider_progress_indicator_type")&&(ue.slider_progress_indicator_type=t.slider_progress_indicator_type),"bar"==ue.slider_progress_indicator_type&&(ue=jQuery.extend(ue,ce)),t&&ee.setOptions(t),o=ie.getOptions(),r=o.gallery_skin,""==ue.slider_bullets_skin&&(ue.slider_bullets_skin=r),""==ue.slider_arrows_skin&&(ue.slider_arrows_skin=r),""==ue.slider_zoompanel_skin&&(ue.slider_zoompanel_skin=r),""==ue.slider_play_button_skin&&(ue.slider_play_button_skin=r),""==ue.slider_fullscreen_button_skin&&(ue.slider_fullscreen_button_skin=r),ue.video_enable_closebutton=ue.slider_video_enable_closebutton,"zoom"!=o.gallery_mousewheel_role&&(ue.slider_zoom_mousewheel=!1),1==ue.slider_enable_bullets&&(re=new UGBullets,n={bullets_skin:ue.slider_bullets_skin,bullets_space_between:ue.slider_bullets_space_between},re.init(ie,n)),ue.slider_enable_text_panel&&(de=new UGTextPanel).init(ie,ue,"slider"),ue.slider_enable_zoom_panel&&(K=new UGZoomButtonsPanel).init(ee,ue);var a=ie.getGalleryID();se.init(ue,!1,a)}function e(){var e;1!=ge.isRunOnce&&(ge.isRunOnce=!0,ue.slider_background_color?(e=ue.slider_background_color,1!=ue.slider_background_opacity&&(e=ae.convertHexToRGB(e,ue.slider_background_opacity)),B.css("background-color",e)):1!=ue.slider_background_opacity&&(e=ae.convertHexToRGB("#000000",ue.slider_background_opacity),B.css("background-color",e)),1==ue.slider_control_swipe&&(q=new UGTouchSliderControl).init(ee,ue),1==ue.slider_control_zoom&&(Z=new UGZoomSliderControl).init(ee,ue),de&&de.run(),W.on(ie.events.ITEM_IMAGE_UPDATED,z),W.on(ie.events.ITEM_CHANGE,S),re&&jQuery(re).on(re.events.BULLET_CLICK,E),1==ue.slider_enable_arrows&&(ae.addClassOnHover(X,"ug-arrow-hover"),ae.addClassOnHover(V,"ug-arrow-hover"),ie.setNextButton(X),ie.setPrevButton(V)),0==ue.slider_controls_always_on&&B.hover(j,A),B.on("touchend click",x),te.on(ee.events.CLICK,P),de&&1==ge.isTextPanelSaparateHover&&B.hover(a,s),ne&&(ae.addClassOnHover(ne,"ug-button-hover"),ie.setPlayButton(ne)),oe&&(ae.addClassOnHover(oe,"ug-button-hover"),ie.setFullScreenToggleButton(oe)),Z&&te.on(ee.events.ZOOM_CHANGE,C),K&&K.initEvents(),se.initEvents(),jQuery(se).on(se.events.SHOW,M),jQuery(se).on(se.events.HIDE,O),L(Y),L($),L(U),te.on(ee.events.AFTER_PUT_IMAGE,H),B.on("mouseenter",".ug-item-wrapper img",function(e){te.trigger(ee.events.IMAGE_MOUSEENTER)}),B.on("mouseleave",".ug-item-wrapper img",function(e){0==ee.isMouseInsideSlideImage(e)&&te.trigger(ee.events.IMAGE_MOUSELEAVE)}))}function o(e,t){var i="ug-type-square";"round"==ue.slider_videoplay_button_type&&(i="ug-type-round");var n="";return n+="<div class='ug-slide-wrapper ug-slide"+t+"'>",n+="<div class='ug-item-wrapper'></div>",n+="<div class='ug-slider-preloader "+e+"'></div>",(n+="<div class='ug-button-videoplay "+i+"' style='display:none'></div>")+"</div>"}function t(e){e&&(Q=e);var t=function(){var e;switch(ue.slider_loader_type){default:case 1:e="ug-loader1";break;case 2:e="ug-loader2";break;case 3:e="ug-loader3";break;case 4:e="ug-loader4";break;case 5:e="ug-loader5";break;case 6:e="ug-loader6";break;case 7:e="ug-loader7";break;case 8:e="ug-loader8";break;case 9:e="ug-loader9"}return"black"==ue.slider_loader_color&&(e+=" ug-loader-black"),e}(),i=(ie.getOptions(),"<div class='ug-slider-wrapper'>");i+="<div class='ug-slider-inner'>",i+=o(t,1),i+=o(t,2),i+=o(t,3),i+="</div>",1==ue.slider_enable_arrows&&(i+="<div class='ug-slider-control ug-arrow-left ug-skin-"+ue.slider_arrows_skin+"'></div>",i+="<div class='ug-slider-control ug-arrow-right ug-skin-"+ue.slider_arrows_skin+"'></div>"),1==ue.slider_enable_play_button&&(i+="<div class='ug-slider-control ug-button-play ug-skin-"+ue.slider_play_button_skin+"'></div>"),1==ue.slider_enable_fullscreen_button&&(i+="<div class='ug-slider-control ug-button-fullscreen ug-skin-"+ue.slider_fullscreen_button_skin+"'></div>"),i+="</div>",Q.append(i),B=Q.children(".ug-slider-wrapper"),F=B.children(".ug-slider-inner"),Y=F.children(".ug-slide1"),$=F.children(".ug-slide2"),U=F.children(".ug-slide3"),Y.data("slidenum",1),$.data("slidenum",2),U.data("slidenum",3),re&&re.appendHTML(B),1==ue.slider_enable_arrows&&(V=B.children(".ug-arrow-left"),X=B.children(".ug-arrow-right")),1==ue.slider_enable_play_button&&(ne=B.children(".ug-button-play")),1==ue.slider_enable_fullscreen_button&&(oe=B.children(".ug-button-fullscreen")),1==ue.slider_enable_progress_indicator&&("bar"==(le=ae.initProgressIndicator(ue.slider_progress_indicator_type,ue,B)).getType()&&"pie"==ue.slider_progress_indicator_type&&(ue.slider_progress_indicator_type="bar",ue=jQuery.extend(ue,ce)),ie.setProgressIndicator(le)),1==ue.slider_enable_text_panel&&(de.appendHTML(B),0==ue.slider_textpanel_always_on)&&(de.getElement().hide().data("isHidden",!0),ge.isTextPanelSaparateHover=!0),1==ue.slider_enable_zoom_panel&&K.appendHTML(B),se.setHtml(F)}function i(e){var t=R(e);ae.placeElementInParentCenter(t);var i=D(e);ae.placeElementInParentCenter(i)}function u(){var e,t;re&&(objBullets=re.getElement(),ae.placeElement(objBullets,ue.slider_bullets_align_hor,ue.slider_bullets_align_vert,ue.slider_bullets_offset_hor,ue.slider_bullets_offset_vert),ae.placeElement(objBullets,ue.slider_bullets_align_hor,ue.slider_bullets_align_vert,ue.slider_bullets_offset_hor,ue.slider_bullets_offset_vert)),1==ue.slider_enable_arrows&&(ae.placeElement(V,ue.slider_arrow_left_align_hor,ue.slider_arrow_left_align_vert,ue.slider_arrow_left_offset_hor,ue.slider_arrow_left_offset_vert),ae.placeElement(X,ue.slider_arrow_right_align_hor,ue.slider_arrow_left_align_vert,ue.slider_arrow_right_offset_hor,ue.slider_arrow_right_offset_vert)),0==ue.slider_controls_always_on&&T(!0),le&&(e=le.getElement(),"bar"==ue.slider_progress_indicator_type?(t=B.width(),le.setSize(t),ae.placeElement(e,"left",ue.slider_progress_indicator_align_vert,0,ue.slider_progress_indicator_offset_vert)):ae.placeElement(e,ue.slider_progress_indicator_align_hor,ue.slider_progress_indicator_align_vert,ue.slider_progress_indicator_offset_hor,ue.slider_progress_indicator_offset_vert)),de&&de.positionPanel(),function(){{var e;ne&&ae.placeElement(ne,ue.slider_play_button_align_hor,ue.slider_play_button_align_vert,ue.slider_play_button_offset_hor,ue.slider_play_button_offset_vert),oe&&ae.placeElement(oe,ue.slider_fullscreen_button_align_hor,ue.slider_fullscreen_button_align_vert,ue.slider_fullscreen_button_offset_hor,ue.slider_fullscreen_button_offset_vert),K&&(e=K.getElement(),ae.placeElement(e,ue.slider_zoompanel_align_hor,ue.slider_zoompanel_align_vert,ue.slider_zoompanel_offset_hor,ue.slider_zoompanel_offset_vert))}}(),i(Y),i($),i(U),ie.isMobileMode()?(1==ue.slider_fullscreen_button_mobilehide&&oe&&oe.hide(),1==ue.slider_play_button_mobilehide&&ne&&ne.hide(),1==ue.slider_zoompanel_mobilehide&&K&&K.getElement().hide()):(1==ue.slider_fullscreen_button_mobilehide&&oe&&oe.show(),1==ue.slider_play_button_mobilehide&&ne&&ne.show(),1==ue.slider_zoompanel_mobilehide&&K&&K.getElement().show())}function c(){var e,t,i=ee.getSlidesReference(),n=0,o=ee.isSlideHasItem(i.objNextSlide),r=ee.isSlideHasItem(i.objPrevSlide);r?(n=i.objPrevSlide.outerWidth(),i.objPrevSlide.css("z-index",1)):i.objPrevSlide.hide(),e=t=n+i.objCurrentSlide.outerWidth(),o?(e=t+i.objNextSlide.outerWidth(),i.objPrevSlide.css("z-index",2)):i.objNextSlide.hide(),i.objCurrentSlide.css("z-index",3),ae.placeElement(i.objCurrentSlide,n,0),F.css({left:-n+"px",width:e+"px"}),r&&(ae.placeElement(i.objPrevSlide,0,0),ae.showElement(i.objPrevSlide)),o&&(ae.showElement(i.objNextSlide),ae.placeElement(i.objNextSlide,t,0))}function g(e){var t=e.data("index");if(void 0!==t&&null!=t){var i=ie.getItem(t);return i&&void m(e,i)}}function p(e){e.stop(!0).hide(100)}function _(e,t,i){var n,o={};1==ue.slider_image_border&&(o["border-style"]="solid",n=function(e,t){if((s=ue.slider_image_border_width)<=10)return s;var i=ae.getElementSize(e),n=i.width,o=i.height;if(t&&(t.hasOwnProperty("imageWidth")&&(n=t.imageWidth),t.hasOwnProperty("imageHeight")&&(o=t.imageHeight)),n<=0)return s;var r=n<o?n:o;if(2*s/r<ue.slider_image_border_maxratio)return s;var s=r*ue.slider_image_border_maxratio/2;return Math.round(s)}(e,i),o["border-width"]=n+"px",o["border-color"]=ue.slider_image_border_color,o["border-radius"]=ue.slider_image_border_radius),"image"!=t&&1==ue.slider_video_constantsize&&(o["background-color"]="#000000"),1==ue.slider_image_shadow&&(o["box-shadow"]="3px 3px 10px 0px #353535"),e.css(o)}function h(e,t){var i=ue.slider_video_constantsize_width,n=ue.slider_video_constantsize_height,o=ue.slider_video_constantsize_scalemode;return ae.scaleImageExactSizeInParent(e,t.imageWidth,t.imageHeight,i,n,o)}function r(e,t,i){var n=e.children(".ug-item-wrapper"),o=R(e);if(void 0===t.urlImage||""==t.urlImage)throw new Error("The slide don't have big image defined ( data-image='imageurl' ). Please check gallery items.","showbig");var r=t.urlImage,s=e.data("urlImage");e.data("urlImage",r);var a,l,d=ee.getScaleMode(e),u=ee.getSlideType(e);objPadding=ee.getObjImagePadding(),s==r&&!0!==i?(a=n.children("img"),0!=t.imageWidth&&0!=t.imageHeight||ie.checkFillImageSize(a,t),l={},_(a,u,l="image"!=u&&1==ue.slider_video_constantsize?h(a,t):ae.scaleImageFitParent(a,t.imageWidth,t.imageHeight,d,objPadding)),te.trigger(ee.events.AFTER_PUT_IMAGE,e)):(a=ae.placeImageInsideParent(r,n,t.imageWidth,t.imageHeight,d,objPadding),1==t.isBigImageLoaded?(a.fadeTo(0,1),p(o),l="image"!=u&&1==ue.slider_video_constantsize?h(a,t):ae.getImageInsideParentData(n,t.imageWidth,t.imageHeight,d,objPadding),a.css("width",l.imageWidth+"px"),_(a,u,l),te.trigger(ee.events.AFTER_PUT_IMAGE,e)):(a.fadeTo(0,0),o.stop(!0).show(100),e.data("isLoading",!0),ee.isSlideCurrent(e)&&te.trigger(ee.events.CURRENTSLIDE_LOAD_START),a.data("itemIndex",t.index),a.on("load",function(){var e=jQuery(this),t=e.data("itemIndex");e.fadeTo(0,1);var i=e.parent().parent(),n=ee.getSlideType(i),o=R(i),r=ee.getObjImagePadding(),s=ee.getScaleMode(i);p(o),i.data("isLoading",!1),ee.isSlideCurrent(i)&&te.trigger(ee.events.CURRENTSLIDE_LOAD_END),ie.onItemBigImageLoaded(null,e);var a=ie.getItem(t),l={};"image"!=n&&1==ue.slider_video_constantsize?h(e,a):l=ae.scaleImageFitParent(e,a.imageWidth,a.imageHeight,s,r),e.fadeTo(0,1),_(e,n,l),te.trigger(ee.events.AFTER_PUT_IMAGE,i)})))}function m(e,t){try{var i=e.children(".ug-item-wrapper");if(null==t)return i.html(""),e.removeData("index"),e.removeData("type"),e.removeData("urlImage"),!1;e.data("index"),e.data("index",t.index),e.data("type",t.type),1==ue.slider_enable_links&&"image"==t.type&&(t.link?e.addClass("ug-slide-clickable"):e.removeClass("ug-slide-clickable")),r(e,t);var n=D(e);switch(t.type){case"image":n.hide();break;default:n.show()}}catch(e){throw void 0!==e.fileName&&"showbig"==e.fileName&&ie.showErrorMessageReplaceGallery(e.message),i.html(""),new Error(e)}}function s(){if(!de)return!1;if(1==l())return!1;var e=de.getElement(),t=0;1!=ge.isTextPanelSaparateHover&&1!=ue.slider_textpanel_always_on||(t=ue.slider_controls_appear_duration),e.stop().fadeTo(t,0),e.data("isHidden",!0)}function a(){if(!de)return!1;if(0==l())return!1;var e=de.getElement(),t=0;1!=ge.isTextPanelSaparateHover&&1!=ue.slider_textpanel_always_on||(e.show(),de.positionElements(),t=ue.slider_controls_appear_duration),e.stop().show().fadeTo(t,1),e.data("isHidden",!1)}function l(){return!1!==de.getElement().data("isHidden")}function f(){var e,t=ee.getCurrentSlide(),i=ee.getSlideImage(t),n=ae.getElementSize(t),o=n.left,r=n.top;1==ue.slider_video_constantsize?(o+=(e=ae.getElementSize(i)).left,r+=e.top):(o+=ue.slider_video_padding_left,r+=ue.slider_video_padding_top),se.setPosition(o,r)}function v(){var e=ue.slider_video_constantsize_width,t=ue.slider_video_constantsize_height;se.setSize(e,t),_(se.getObject(),"video")}function d(e,t,i){te.trigger(ee.events.TRANSITION_START);var n=ue.slider_transition;switch(i&&(n=i),ee.stopSlideAction(null,!0),n){default:case"fade":y(t);break;case"slide":!function r(e,t){var i=ee.isAnimating();if(1==i)return ge.itemWaiting=t,!0;null!=ge.itemWaiting&&(ge.itemWaiting=null);var n=ee.getSlidesReference();switch(e){case"right":m(n.objPrevSlide,t),c();var o=ae.getElementSize(n.objPrevSlide),s=-o.left;ee.switchSlideNums("right");break;case"left":m(n.objNextSlide,t),c();var a=ae.getElementSize(n.objNextSlide),s=-a.left;ee.switchSlideNums("left");break;default:throw new Error("wrong direction: "+e)}var l=ue.slider_transition_speed,d=ue.slider_transition_easing,u={duration:l,easing:d,queue:!1,always:function(){var e,t,i,n,o;ee.stopSlideAction(),se.hide(),null!=ge.itemWaiting?(t=ge.itemWaiting,i=ee.getSlidesReference(),n=i.objCurrentSlide.data("index"),o=t.index,e=o<n?"right":"left",r(e,ge.itemWaiting)):(ee.placeNabourItems(),te.trigger(ee.events.TRANSITION_END))}};F.animate({left:s+"px"},u)}(e,t);break;case"lightbox_open":y(t,!1,!0)}}function b(e,t,i){i?e.fadeTo(ue.slider_transition_speed,t,i):e.fadeTo(ue.slider_transition_speed,t)}function y(e,t,i){t=t||!1;var n=ee.getSlidesReference();m(n.objNextSlide,e);var o=ae.getElementSize(n.objCurrentSlide);ae.placeElement(n.objNextSlide,o.left,o.top);var r=ge.numCurrent;ge.numCurrent=ge.numNext,ge.numNext=r,te.trigger(ee.events.ITEM_CHANGED),n.objNextSlide.stop(!0),n.objCurrentSlide.stop(!0),1==t?(n.objCurrentSlide.fadeTo(0,0),n.objNextSlide.fadeTo(0,1),ee.placeNabourItems(),te.trigger(ee.events.TRANSITION_END),!0!==i&&se.hide()):(n.objNextSlide.fadeTo(0,0),b(n.objCurrentSlide,0,function(){ee.placeNabourItems(),te.trigger(ee.events.TRANSITION_END),!0!==i&&se.hide()}),1==se.isVisible()&&b(se.getObject(),0),b(n.objNextSlide,1))}function w(){return B.children(".ug-slider-control")}function T(e){var t;0!=ae.isTimePassed("sliderControlsToggle")&&0!=ge.isControlsVisible&&(e=e||!1,t=w(),!0===e?t.stop().fadeTo(0,0).hide():t.stop().fadeTo(ue.slider_controls_appear_duration,0,function(){t.hide()}),ge.isControlsVisible=!1)}function I(e){if(0!=ae.isTimePassed("sliderControlsToggle")){if(1==ge.isControlsVisible)return 1;e=e||!1;var t=w();!0===e?t.stop().show():(t.stop().show().fadeTo(0,0),t.fadeTo(ue.slider_controls_appear_duration,1)),ge.isControlsVisible=!0}}function S(e,t,i){var n=ie.getSelectedItem();ee.setItem(n,!1,i);var o=n.index;re&&re.setActive(o),de&&0==ge.isTextPanelSaparateHover&&a(),function(e){if(e!=ge.currentControlsMode){switch(e){case"image":K&&K.getElement().show();break;case"video":K&&K.getElement().hide();break;default:throw new Error("wrong controld mode: "+e)}ge.currentControlsMode=e}}("image"==n.type?"image":"video")}function E(e,t){ie.selectItem(t)}function x(e){return!(!q||0!=q.isTapEventOccured(e))||void te.trigger(ee.events.CLICK,e)}function P(){var e=ee.getCurrentSlide().hasClass("ug-slide-clickable"),t=ee.getCurrentItem();return e?(0==ue.slider_links_newpage?location.href=t.link:window.open(t.link,"_blank"),!0):void(0==ue.slider_controls_always_on&&1==ue.slider_controls_appear_ontap&&1==ee.isCurrentSlideType("image")&&((0==ge.isControlsVisible?I:T)(),de&&1==ue.slider_textpanel_always_on&&ee.isCurrentSlideType("image")&&ee.isCurrentSlideImageFit()&&a()))}function C(e){de&&ee.isCurrentSlideType("image")&&0==ee.isCurrentSlideImageFit()&&s()}function j(){I()}function A(){T()}function k(e){var t=e.parent();ee.startSlideAction(t)}function M(){ie.isPlayMode()&&ie.pausePlaying(),te.trigger(ee.events.ACTION_START)}function O(){ie.isPlayMode()&&ie.continuePlaying(),te.trigger(ee.events.ACTION_END)}function z(e,t,i){Y.data("index")==t&&(objItem=ie.getItem(t),r(Y,objItem,!0)),$.data("index")==t&&(objItem=ie.getItem(t),r($,objItem,!0)),U.data("index")==t&&(objItem=ie.getItem(t),r(U,objItem,!0))}function H(e,t){t=jQuery(t);var i=ee.getSlideImage(t),n=D(t),o=ae.getElementSize(i);ae.placeElement(n,"center","middle",o.left,o.top,i)}function L(e){var t=D(e);ae.addClassOnHover(t),ae.setButtonOnClick(t,k)}function N(e){switch(e){case 1:return Y;case 2:return $;case 3:return U;default:throw new Error("wrong num: "+e)}}function R(e){return(e=e||ee.getCurrentSlide()).children(".ug-slider-preloader")}function D(e){return e.children(".ug-button-videoplay")}function G(e){var t=(e=e||ee.getCurrentSlide()).data("index");return null==t?null:ie.getItem(t)}var W,Q,B,F,Y,$,U,V,X,q,Z,K,J,ee=this,te=jQuery(ee),ie=new UniteGalleryMain,ne=null,oe=null,re=null,se=new UGVideoPlayer,ae=new UGFunctions,le=null,de=null,ue={slider_scale_mode:"fill",slider_scale_mode_media:"fill",slider_scale_mode_fullscreen:"down",slider_item_padding_top:0,slider_item_padding_bottom:0,slider_item_padding_left:0,slider_item_padding_right:0,slider_background_color:"",slider_background_opacity:1,slider_image_padding_top:0,slider_image_padding_bottom:0,slider_image_padding_left:0,slider_image_padding_right:0,slider_image_border:!(this.events={ITEM_CHANGED:"item_changed",BEFORE_SWITCH_SLIDES:"before_switch",BEFORE_RETURN:"before_return",AFTER_RETURN:"after_return",ZOOM_START:"slider_zoom_start",ZOOM_END:"slider_zoom_end",ZOOMING:"slider_zooming",ZOOM_CHANGE:"slider_zoom_change",START_DRAG:"start_drag",AFTER_DRAG_CHANGE:"after_drag_change",ACTION_START:"action_start",ACTION_END:"action_end",CLICK:"slider_click",TRANSITION_START:"slider_transition_start",TRANSITION_END:"slider_transition_end",AFTER_PUT_IMAGE:"after_put_image",IMAGE_MOUSEENTER:"slider_image_mouseenter",IMAGE_MOUSELEAVE:"slider_image_mouseleave",CURRENTSLIDE_LOAD_START:"slider_current_loadstart",CURRENTSLIDE_LOAD_END:"slider_current_loadend"}),slider_image_border_width:10,slider_image_border_color:"#ffffff",slider_image_border_radius:0,slider_image_border_maxratio:.35,slider_image_shadow:!1,slider_video_constantsize:!1,slider_video_constantsize_scalemode:"fit",slider_video_constantsize_width:854,slider_video_constantsize_height:480,slider_video_padding_top:0,slider_video_padding_bottom:0,slider_video_padding_left:0,slider_video_padding_right:0,slider_video_enable_closebutton:!0,slider_transition:"slide",slider_transition_speed:300,slider_transition_easing:"easeInOutQuad",slider_control_swipe:!0,slider_control_zoom:!0,slider_zoom_mousewheel:!0,slider_vertical_scroll_ondrag:!1,slider_loader_type:1,slider_loader_color:"white",slider_enable_links:!0,slider_links_newpage:!1,slider_enable_bullets:!1,slider_bullets_skin:"",slider_bullets_space_between:-1,slider_bullets_align_hor:"center",slider_bullets_align_vert:"bottom",slider_bullets_offset_hor:0,slider_bullets_offset_vert:10,slider_enable_arrows:!0,slider_arrows_skin:"",slider_arrow_left_align_hor:"left",slider_arrow_left_align_vert:"middle",slider_arrow_left_offset_hor:20,slider_arrow_left_offset_vert:0,slider_arrow_right_align_hor:"right",slider_arrow_right_align_vert:"middle",slider_arrow_right_offset_hor:20,slider_arrow_right_offset_vert:0,slider_enable_progress_indicator:!0,slider_progress_indicator_type:"pie",slider_progress_indicator_align_hor:"right",slider_progress_indicator_align_vert:"top",slider_progress_indicator_offset_hor:10,slider_progress_indicator_offset_vert:10,slider_enable_play_button:!0,slider_play_button_skin:"",slider_play_button_align_hor:"left",slider_play_button_align_vert:"top",slider_play_button_offset_hor:40,slider_play_button_offset_vert:8,slider_play_button_mobilehide:!1,slider_enable_fullscreen_button:!0,slider_fullscreen_button_skin:"",slider_fullscreen_button_align_hor:"left",slider_fullscreen_button_align_vert:"top",slider_fullscreen_button_offset_hor:11,slider_fullscreen_button_offset_vert:9,slider_fullscreen_button_mobilehide:!1,slider_enable_zoom_panel:!0,slider_zoompanel_skin:"",slider_zoompanel_align_hor:"left",slider_zoompanel_align_vert:"top",slider_zoompanel_offset_hor:12,slider_zoompanel_offset_vert:92,slider_zoompanel_mobilehide:!1,slider_controls_always_on:!1,slider_controls_appear_ontap:!0,slider_controls_appear_duration:300,slider_enable_text_panel:!0,slider_textpanel_always_on:!0,slider_videoplay_button_type:"square"},ce={slider_progress_indicator_align_hor:"left",slider_progress_indicator_align_vert:"bottom",slider_progress_indicator_offset_hor:0,slider_progress_indicator_offset_vert:0},ge={isRunOnce:!1,isTextPanelSaparateHover:!1,numPrev:1,numCurrent:2,numNext:3,isControlsVisible:!0,currentControlsMode:"image"};this.switchSlideNums=function(e){switch(te.trigger(ee.events.BEFORE_SWITCH_SLIDES),e){case"left":var t=ge.numCurrent;ge.numCurrent=ge.numNext,ge.numNext=ge.numPrev,ge.numPrev=t;break;case"right":t=ge.numCurrent;ge.numCurrent=ge.numPrev,ge.numPrev=ge.numNext,ge.numNext=t;break;default:throw new Error("wrong direction: "+e)}te.trigger(ee.events.ITEM_CHANGED)},this.destroy=function(){te.off(ee.events.AFTER_PUT_IMAGE),W.off(ie.events.ITEM_IMAGE_UPDATED),W.off(ie.events.ITEM_CHANGE),re&&jQuery(re).on(re.events.BULLET_CLICK),B.off("mouseenter"),B.off("mouseleave"),B.off("touchend"),B.off("click"),te.off(ee.events.CLICK),Z&&te.off(ee.events.ZOOM_CHANGE),te.off(ee.events.BEFORE_SWITCH_SLIDES),jQuery(se).off(se.events.SHOW),jQuery(se).off(se.events.HIDE),se.destroy(),B.off("mouseenter",".ug-item-wrapper img"),B.off("mouseleave",".ug-item-wrapper img")},this.________EXTERNAL_GENERAL___________=function(){},this.init=function(e,t,i){n(e,t,i)},this.getSlideImage=function(e){return(e=e||ee.getCurrentSlide()).find(".ug-item-wrapper img")},this.setHtml=function(e){t(e)},this.run=function(){e()},this.isInnerInPlace=function(){var e=ee.getSlidesReference();return-ae.getElementSize(e.objCurrentSlide).left==ae.getElementSize(F).left},this.isAnimating=function(){return F.is(":animated")},this.isSlideCurrent=function(e){var t=e.data("slidenum");return ge.numCurrent==t},this.isSlideHasItem=function(e){var t=e.data("index");return null!=t},this.getObjImagePadding=function(){return{padding_top:ue.slider_image_padding_top,padding_bottom:ue.slider_image_padding_bottom,padding_left:ue.slider_image_padding_left,padding_right:ue.slider_image_padding_right}},this.getSlidesReference=function(){return{objPrevSlide:N(ge.numPrev),objNextSlide:N(ge.numNext),objCurrentSlide:N(ge.numCurrent)}},this.getCurrentSlide=function(){return ee.getSlidesReference().objCurrentSlide},this.getCurrentItemIndex=function(){var e=ee.getSlidesReference().objCurrentSlide.data("index");return null==e&&(e=-1),e},this.getCurrentItem=function(){var e=ee.getCurrentItemIndex();return-1==e?null:ie.getItem(e)},this.getSlideType=function(e){return null==e&&(e=ee.getCurrentSlide()),e.data("type")},this.isMouseInsideSlideImage=function(e){var t=ee.getSlideImage(),i=ae.getMousePosition(e);void 0===i.pageX&&(i=q.getLastMousePos());var n=ae.getMouseElementPoint(i,t),o=ae.getElementSize(t);return isMouseInside=ae.isPointInsideElement(n,o),isMouseInside},this.isCurrentSlideType=function(e){return ee.getSlideType()==e},this.isCurrentSlideLoadingImage=function(){return!0===ee.getCurrentSlide().data("isLoading")},this.setItem=function(e,t,i){var n,o=ee.getSlidesReference(),r=o.objCurrentSlide.data("index"),s=e.index;if(s==r)return!0;null==r?(m(o.objCurrentSlide,e),ee.placeNabourItems()):(n="left",ie.getNumItems(),"next"==i?n="left":("prev"==i||s<r||s<r)&&(n="right"),d(n,e,t))},this.placeNabourItems=function(){var e=ee.getSlidesReference(),t=e.objCurrentSlide.data("index"),i=ie.getPrevItem(t),n=ie.getNextItem(t);m(e.objNextSlide,n),m(e.objPrevSlide,i),c()},this.________EXTERNAL_API___________=function(){},this.stopSlideAction=function(e,t){e=e||ee.getCurrentSlide(),!0===t?se.pause():se.hide()},this.startSlideAction=function(e){var t=G(e=e||ee.getCurrentSlide());if("image"==t.type)return!0;switch(1==ue.slider_video_constantsize&&v(),f(),se.show(),t.type){case"youtube":se.playYoutube(t.videoid);break;case"vimeo":se.playVimeo(t.videoid);break;case"html5video":se.playHtml5Video(t.videoogv,t.videowebm,t.videomp4,t.urlImage);break;case"soundcloud":se.playSoundCloud(t.trackid);break;case"wistia":se.playWistia(t.videoid)}},this.getScaleMode=function(e){return e=e||ee.getCurrentSlide(),"image"!=ee.getSlideType(e)?ue.slider_scale_mode_media:ue.slider_scale_mode!=ue.slider_scale_mode_fullscreen&&1==ie.isFullScreen()?ue.slider_scale_mode_fullscreen:ue.slider_scale_mode},this.getObjects=function(){return{g_objSlider:B,g_objInner:F,g_options:ue,g_objZoomSlider:Z}},this.getObjZoom=function(){return Z},this.getOptions=function(){return ue},this.getElement=function(){return B},this.getVideoObject=function(){return se},this.isCurrentSlideImageFit=function(){var e=ee.getCurrentSlide();ee.getSlideType(e),function(e,t){null==t&&(t=ee.getCurrentSlide());var i=ee.getSlideType(t);if(i!=e)throw new Error("Wrong slide type: "+i+", should be: "+e)}("image",e);var t=ee.getSlideImage(e);return 0!=t.length&&ae.isImageFitParent(t)},this.isCurrentImageInPlace=function(){var e=ee.getSlideImage();if(0==e.length)return!1;var t=ee.getScaleMode(),i=ee.getObjImagePadding(),n=G(),o=e.parent(),r=ae.getImageInsideParentData(o,n.imageWidth,n.imageHeight,t,i),s=ae.getElementSize(e),a=!1;return r.imageWidth==s.width&&(a=!0),a},this.isSlideActionActive=function(){return se.isVisible()},this.isSwiping=function(){return!!q&&q.isTouchActive()},this.isPreloading=function(){return!!R().is(":visible")},this.setOptions=function(e){J&&(e=ae.convertCustomPrefixOptions(e,J,"slider")),ue=jQuery.extend(ue,e)},this.setSize=function(e,t){if(e<0||t<0)return!0;var i={};i.width=e+"px",i.height=t+"px",B.css(i);var n={};n.height=t+"px",n.top="0px",n.left="0px",F.css(n);var o={};o.height=t+"px",o.width=e+"px",Y.css(o),$.css(o),U.css(o);var r,s,a=e-ue.slider_item_padding_left-ue.slider_item_padding_right,l=t-ue.slider_item_padding_top-ue.slider_item_padding_bottom,d={};d.width=a+"px",d.height=l+"px",d.top=ue.slider_item_padding_top+"px",d.left=ue.slider_item_padding_left+"px",B.find(".ug-item-wrapper").css(d),de&&de.setSizeByParent(),u(),g(Y),g($),g(U),c(),"image"!=ee.getSlideType()&&1==ue.slider_video_constantsize?v():(r=e-ue.slider_video_padding_left-ue.slider_video_padding_right,s=t-ue.slider_video_padding_top-ue.slider_video_padding_bottom,se.setSize(r,s)),f()},this.refreshSlideItems=function(){return 1==ee.isAnimating()||(g(Y),g($),g(U),void c())},this.isMouseOver=function(){return B.ismouseover()},this.setPosition=function(e,t){ae.placeElement(B,e,t)},this.zoomIn=function(){return!Z||void Z.zoomIn()},this.zoomOut=function(){return!Z||void Z.zoomOut()},this.zoomBack=function(){return!Z||void Z.zoomBack()}}function UGTextPanel(){function n(e,t){var i=t=t||m.textpanel_padding_top;l&&(_.placeElement(l,0,i),1==l.is(":visible")?0<(i=_.getElementSize(l).bottom)&&(f.lastTitleBottom=i):(i=20,0<f.lastTitleBottom&&(i=f.lastTitleBottom)));var n,o,r,s="";d&&(s=jQuery.trim(d.text())),""!=s&&(n=i,l&&(n+=m.textpanel_padding_title_description),_.placeElement(d,0,n),1==jQuery(d).is(":visible")?(i=(o=_.getElementSize(d)).bottom,0<o.height&&(f.lastDescHeight=o.height)):(r=16,0<f.lastDescHeight&&(r=f.lastDescHeight),i=n+r)),m.textpanel_height||1!=f.setInternalHeight||function(e,t){{t=t||!1}{var i;1==t?(u&&u.height()<e&&u.height(e),i={height:e+"px"},a.add(c).animate(i,m.textpanel_fade_duration)):(u&&u.height(e),a.add(c).height(e))}}(i+m.textpanel_padding_bottom,e)}function o(){var e,t=0;return l&&(t+=l.outerHeight()),d&&(e="",d&&(e=jQuery.trim(d.text())),""!=e&&(l&&(t+=m.textpanel_padding_title_description),t+=d.outerHeight())),t}function r(){var e,t,i;1==m.textpanel_enable_bg&&((u=a.children(".ug-textpanel-bg")).fadeTo(0,m.textpanel_bg_opacity),e={"background-color":m.textpanel_bg_color},e=jQuery.extend(e,m.textpanel_bg_css),u.css(e)),1==m.textpanel_enable_title&&(l=c.children(".ug-textpanel-title"),t={},null!==m.textpanel_title_color&&(t.color=m.textpanel_title_color),null!==m.textpanel_title_font_family&&(t["font-family"]=m.textpanel_title_font_family),null!==m.textpanel_title_text_align&&(t["text-align"]=m.textpanel_title_text_align),null!==m.textpanel_title_font_size&&(t["font-size"]=m.textpanel_title_font_size+"px"),null!==m.textpanel_title_bold&&(!0===m.textpanel_title_bold?t["font-weight"]="bold":t["font-weight"]="normal"),m.textpanel_css_title&&(t=jQuery.extend(t,m.textpanel_css_title)),l.css(t)),1==m.textpanel_enable_description&&(d=c.children(".ug-textpanel-description"),i={},null!==m.textpanel_desc_color&&(i.color=m.textpanel_desc_color),null!==m.textpanel_desc_font_family&&(i["font-family"]=m.textpanel_desc_font_family),null!==m.textpanel_desc_text_align&&(i["text-align"]=m.textpanel_desc_text_align),null!==m.textpanel_desc_font_size&&(i["font-size"]=m.textpanel_desc_font_size+"px"),null!==m.textpanel_desc_bold&&(!0===m.textpanel_desc_bold?i["font-weight"]="bold":i["font-weight"]="normal"),m.textpanel_css_title&&(i=jQuery.extend(i,m.textpanel_css_description)),d.css(i))}function e(){var e=g.getSelectedItem();p.setText(e.title,e.description)}var a,s,l,d,u,c,g,p=this,_=new UGFunctions,h="",m={textpanel_align:"bottom",textpanel_margin:0,textpanel_text_valign:"middle",textpanel_padding_top:10,textpanel_padding_bottom:10,textpanel_height:null,textpanel_padding_title_description:5,textpanel_padding_right:11,textpanel_padding_left:11,textpanel_fade_duration:200,textpanel_enable_title:!0,textpanel_enable_description:!0,textpanel_enable_bg:!0,textpanel_bg_color:"#000000",textpanel_bg_opacity:.4,textpanel_title_color:null,textpanel_title_font_family:null,textpanel_title_text_align:null,textpanel_title_font_size:null,textpanel_title_bold:null,textpanel_css_title:{},textpanel_desc_color:null,textpanel_desc_font_family:null,textpanel_desc_text_align:null,textpanel_desc_font_size:null,textpanel_desc_bold:null,textpanel_css_description:{},textpanel_desc_style_as_title:!1,textpanel_bg_css:{}},f={isFirstTime:!0,setInternalHeight:!0,lastTitleBottom:0,lastDescHeight:0};this.positionElements=function(e){if(!m.textpanel_height||"top"==m.textpanel_text_valign)return n(e),!1;switch(m.textpanel_text_valign){default:case"top":n(!1);break;case"bottom":i=o(),n(!1,c.height()-i-m.textpanel_padding_bottom);break;case"center":case"middle":t=o(),n(!1,(c.height()-t)/2)}var t,i},this.init=function(e,t,i){if(g=e,i&&(h=i,t=_.convertCustomPrefixOptions(t,h,"textpanel")),t&&(m=jQuery.extend(m,t)),0==m.textpanel_enable_title&&0==m.textpanel_enable_description)throw new Error("Textpanel Error: The title or description must be enabled");m.textpanel_height&&m.textpanel_height<0&&(m.textpanel_height=null),1==m.textpanel_desc_style_as_title&&(m.textpanel_desc_color||(m.textpanel_desc_color=m.textpanel_title_color),m.textpanel_desc_bold||(m.textpanel_desc_bold=m.textpanel_title_bold),m.textpanel_desc_font_family||(m.textpanel_desc_font_family=m.textpanel_title_font_family),m.textpanel_desc_font_size||(m.textpanel_desc_font_size=m.textpanel_title_font_size),m.textpanel_desc_text_align||(m.textpanel_desc_text_align=m.textpanel_title_text_align))},this.appendHTML=function(e,t){s=e;var i="<div class='ug-textpanel"+(t=t?" "+t:"")+"'>";1==m.textpanel_enable_bg&&(i+="<div class='ug-textpanel-bg"+t+"'></div>"),i+="<div class='ug-textpanel-textwrapper"+t+"'>",1==m.textpanel_enable_title&&(i+="<div class='ug-textpanel-title"+t+"'></div>"),1==m.textpanel_enable_description&&(i+="<div class='ug-textpanel-description"+t+"'></div>"),i+="</div></div>",e.append(i),a=e.children(".ug-textpanel"),c=a.children(".ug-textpanel-textwrapper"),r()},this.destroy=function(){jQuery(g).off(g.events.ITEM_CHANGE)},this.run=function(){p.setSizeByParent(),jQuery(g).on(g.events.ITEM_CHANGE,e)},this.setPanelSize=function(e,t){f.setInternalHeight=!0,t?f.setInternalHeight=!1:t=80,m.textpanel_height&&(t=m.textpanel_height),a.width(e),a.height(t),u&&(u.width(e),u.height(t));var i=e-m.textpanel_padding_left-m.textpanel_padding_right,n=m.textpanel_padding_left;_.setElementSizeAndPosition(c,n,0,i,t),l&&l.width(i),d&&d.width(i),0==f.isFirstTime&&p.positionElements(!1)},this.setSizeByParent=function(){var e=_.getElementSize(s);p.setPanelSize(e.width)},this.setTextPlain=function(e,t){l&&l.html(e),d&&d.html(t)},this.setText=function(e,t){1==f.isFirstTime?(p.setTextPlain(e,t),f.isFirstTime=!1,p.positionElements(!1)):c.stop().fadeTo(m.textpanel_fade_duration,0,function(){p.setTextPlain(e,t),p.positionElements(!0),jQuery(this).fadeTo(m.textpanel_fade_duration,1)})},this.positionPanel=function(e,t){var i={};if(null!=e)i.top=e,i.bottom="auto";else switch(m.textpanel_align){case"top":i.top=m.textpanel_margin+"px";break;case"bottom":i.top="auto",i.bottom=m.textpanel_margin+"px";break;case"middle":i.top=_.getElementRelativePos(a,"middle",m.textpanel_margin)}null!=t&&(i.left=t),a.css(i)},this.setOptions=function(e){h&&(e=_.convertCustomPrefixOptions(e,h,"textpanel")),m=jQuery.extend(m,e)},this.getElement=function(){return a},this.getSize=function(){return _.getElementSize(a)},this.refresh=function(e,t,i,n){r(),i?p.setPanelSize(i,n):p.setSizeByParent(),p.positionElements(!1),!0!==t&&p.positionPanel(),!0===e&&p.show()},this.hide=function(){a.hide()},this.show=function(){a.show()},this.getOptions=function(){return m},this.getOption=function(e){return 0==m.hasOwnProperty(e)?null:m[e]}}function UGZoomButtonsPanel(){function e(e){return!e||!!e.hasClass("ug-zoompanel-button-disabled")}function t(e){e&&e.addClass("ug-zoompanel-button-disabled")}function i(e){e&&e.removeClass("ug-zoompanel-button-disabled")}function n(){if(0==l.isCurrentSlideType("image"))return!0;1==l.isCurrentSlideImageFit()?0==e(s)&&(t(s),t(a)):1==e(s)&&(i(s),i(a))}var o,r,s,a,l=new UGSlider,d=new UGFunctions,u={slider_zoompanel_skin:""};this.init=function(e,t){l=e,t&&(u=jQuery.extend(u,t))},this.appendHTML=function(e){0;var t="<div class='ug-slider-control ug-zoompanel ug-skin-"+u.slider_zoompanel_skin+"'>";t+="<div class='ug-zoompanel-button ug-zoompanel-plus'></div>",t+="<div class='ug-zoompanel-button ug-zoompanel-minus ug-zoompanel-button-disabled'></div>",t+="<div class='ug-zoompanel-button ug-zoompanel-return ug-zoompanel-button-disabled'></div>",t+="</div>",e.append(t),o=e.children(".ug-zoompanel"),r=o.children(".ug-zoompanel-plus"),s=o.children(".ug-zoompanel-minus"),a=o.children(".ug-zoompanel-return")},this.setObjects=function(e,t,i){r=e,a=i,(s=t)&&s.addClass("ug-zoompanel-button-disabled"),a&&a.addClass("ug-zoompanel-button-disabled")},this.getElement=function(){return o},this.initEvents=function(){d.addClassOnHover(r,"ug-button-hover"),d.addClassOnHover(s,"ug-button-hover"),d.addClassOnHover(a,"ug-button-hover"),d.setButtonOnClick(r,function(){return 1==e(r)||void l.zoomIn()}),d.setButtonOnClick(s,function(){return 1==e(s)||void l.zoomOut()}),d.setButtonOnClick(a,function(){return 1==e(a)||void l.zoomBack()}),jQuery(l).on(l.events.ZOOM_CHANGE,n),jQuery(l).on(l.events.ITEM_CHANGED,n)}}function UGBullets(){function n(){var e="",t="";-1!=p.bullets_space_between&&(t=" style='margin-left:"+p.bullets_space_between+"px'");for(var i,n=0;n<d;n++)e+=0==n?"<div class='ug-bullet'></div>":"<div class='ug-bullet'"+t+"></div>";s.html(e),a||(i=s.find(".ug-bullet:first-child")).length&&(a=i.width())}function t(e){if(1==l.isActive(e))return!0;var t=e.index();jQuery(l).trigger(l.events.BULLET_CLICK,t)}function o(){var e=s.children(".ug-bullet");c.setButtonOnClick(e,t),e.on("mousedown mouseup",function(e){return!1})}function i(e){if(e<0||d<=e)throw new Error("wrong bullet index: "+e)}function r(){if(1==g.isInited)return 1;throw new Error("The bullets are not inited!")}var s,a,l=this,d=0,u=new UniteGalleryMain,c=new UGFunctions,g={isInited:!1},p={bullets_skin:"",bullets_addclass:"",bullets_space_between:-1};this.events={BULLET_CLICK:"bullet_click"},this.init=function(e,t,i){u=e,d=i||u.getNumItems(),g.isInited=!0,""==(p=jQuery.extend(p,t)).bullets_skin&&(p.bullets_skin=p.gallery_skin)},this.getBulletsWidth=function(){return 0!=d&&a?d*a+(d-1)*p.bullets_space_between:0},this.appendHTML=function(e){r();var t="";""!=p.bullets_addclass&&(t=" "+p.bullets_addclass);var i="<div class='ug-slider-control ug-bullets ug-skin-"+p.bullets_skin+t+"'>";i+="</div>",s=jQuery(i),e.append(s),n(),o()},this.updateNumBullets=function(e){d=e,n(),o()},this.getElement=function(){return s},this.setActive=function(e){r(),i(e);var t=s.children(".ug-bullet");t.removeClass("ug-bullet-active"),jQuery(t[e]).addClass("ug-bullet-active"),0},this.isActive=function(e){return i(e),!!("number"!=typeof e?e:s.children(".ug-bullet")[e]).hasClass("ug-bullet-active")},this.getNumBullets=function(){return d}}function UGProgressBar(){var o,r,i=this,t=0,s=new UGFunctions,a={slider_progressbar_color:"#ffffff",slider_progressbar_opacity:.6,slider_progressbar_line_width:5};this.put=function(e,t){t&&(a=jQuery.extend(a,t)),e.append("<div class='ug-progress-bar'><div class='ug-progress-bar-inner'></div></div>"),o=e.children(".ug-progress-bar"),(r=o.children(".ug-progress-bar-inner")).css("background-color",a.slider_progressbar_color),o.height(a.slider_progressbar_line_width),r.height(a.slider_progressbar_line_width),r.width("0%");var i=a.slider_progressbar_opacity,n=r[0];n.style.opacity=i,n.style.filter="alpha(opacity="+100*i+")"},this.putHidden=function(e,t){i.put(e,t),o.hide()},this.getElement=function(){return o},this.setSize=function(e){o.width(e),r.width(e),i.draw()},this.setPosition=function(e,t,i,n){s.placeElement(o,e,t,i,n)},this.draw=function(){var e=100*t;r.width(e+"%")},this.setProgress=function(e){t=s.normalizePercent(e),i.draw()},this.getType=function(){return"bar"}}function UGProgressPie(){function i(e){e=e||0;var t=Math.min(u.slider_progresspie_width,u.slider_progresspie_height)/2,i=l[0].getContext("2d");0==d&&(d=!0,i.rotate(1.5*Math.PI),i.translate(-2*t,0)),i.clearRect(0,0,u.slider_progresspie_width,u.slider_progresspie_height);var n,o=u.slider_progresspie_width/2,r=u.slider_progresspie_height/2,s=0,a=e*Math.PI*2;1==u.slider_progresspie_type_fill?(i.beginPath(),i.moveTo(o,r),i.arc(o,r,t,s,a)):(i.globalCompositeOperation="source-over",i.beginPath(),i.moveTo(o,r),i.arc(o,r,t,s,a),i.lineTo(o,r),i.fillStyle=u.slider_progresspie_color1,i.fill(),i.closePath(),i.globalCompositeOperation="destination-out",n=t-u.slider_progresspie_stroke_width,i.beginPath(),i.moveTo(o,r),i.arc(o,r,n,s,a)),i.lineTo(o,r),i.fillStyle=u.slider_progresspie_color1,i.fill(),i.closePath(),1==u.slider_progresspie_type_fill&&(s=a,a=2*Math.PI,i.beginPath(),i.arc(o,r,t,s,a),i.lineTo(o,r),i.fillStyle=u.slider_progresspie_color2,i.fill(),i.closePath())}var l,n=this,d=!1,o=new UGFunctions,u={slider_progresspie_type_fill:!1,slider_progresspie_color1:"#B5B5B5",slider_progresspie_color2:"#E5E5E5",slider_progresspie_stroke_width:6,slider_progresspie_width:30,slider_progresspie_height:30};this.put=function(e,t){t&&(u=jQuery.extend(u,t)),e.append("<canvas class='ug-canvas-pie' width='"+u.slider_progresspie_width+"' height='"+u.slider_progresspie_height+"'></canvas>"),l=e.children(".ug-canvas-pie")},this.putHidden=function(e,t){n.put(e,t),i(.1),l.hide()},this.getElement=function(){return l},this.setPosition=function(e,t){o.placeElement(l,e,t)},this.getSize=function(){return{width:u.slider_progresspie_width,height:u.slider_progresspie_height}},this.setProgress=function(e){e=o.normalizePercent(e),i(e)},this.getType=function(){return"pie"}}function UGTouchSliderControl(){function r(e){return e=e||_.getSlidesReference(),-h.getElementSize(e.objCurrentSlide).left-h.getElementSize(g).left}function s(e){var r;1!=_.isInnerInPlace()&&(p.trigger(_.events.BEFORE_RETURN),e=e||_.getSlidesReference(),r=-h.getElementSize(e.objCurrentSlide).left,g.animate({left:r+"px"},{duration:m.slider_transition_return_speed,easing:m.slider_transition_continuedrag_easing,queue:!1,progress:function(e,t,i){var n,o;1==f.isDragVideo&&(n=h.getElementSize(g).left-r,o=f.videoStartX+n,f.videoObject.css("left",o))},complete:function(){p.trigger(_.events.AFTER_RETURN)}}))}function n(){var e=_.getSlidesReference(),t=r(e);if(0!=t){var i,n=0<t?"left":"right",o=!1;switch(n){case"right":_.isSlideHasItem(e.objPrevSlide)?i=-h.getElementSize(e.objPrevSlide).left:o=!0;break;case"left":_.isSlideHasItem(e.objNextSlide)?i=-h.getElementSize(e.objNextSlide).left:o=!0}1==o?s(e):g.stop().animate({left:i+"px"},{duration:m.slider_transition_continuedrag_speed,easing:m.slider_transition_continuedrag_easing,queue:!1,progress:function(){var e,t;1==f.isDragVideo&&(e=h.getElementSize(g).left-f.startPosx,t=f.videoStartX+e,f.videoObject.css("left",t))},always:function(){var e;e=n,_.getVideoObject().hide(),_.switchSlideNums(e),_.placeNabourItems(),p.trigger(_.events.AFTER_DRAG_CHANGE)}})}}function a(e){var t=h.getMousePosition(e);f.startMouseX=t.pageX,f.startMouseY=t.pageY,f.lastMouseX=f.startMouseX,f.lastMouseY=f.startMouseY,f.startTime=jQuery.now();var i=h.getArrTouches(e);f.startArrTouches=h.getArrTouchPositions(i);var n=h.getElementSize(g);f.startPosx=n.left,f.isInitDataValid=!0,f.isDragVideo=!1,h.storeEventData(e,f.storedEventID)}function o(){f.touch_active=!1}function l(e,t){f.touch_active=!0,a(t)}function i(e){return e.preventDefault(),f.isDragging=!1,1==_.isAnimating()&&g.stop(!0,!0),1<h.getArrTouches(e).length?(1==f.touch_active&&o(),!0):1==f.touch_active||void l(0,e)}function d(e){if(0==f.touch_active)return!0;if(0==e.buttons)return o(),n(),!0;h.updateStoredEventData(e,f.storedEventID),e.preventDefault();var t=h.getMousePosition(e);f.lastMouseX=t.pageX,f.lastMouseY=t.pageY;var i=null;1==m.slider_vertical_scroll_ondrag&&(i=h.handleScrollTop(f.storedEventID)),"vert"!==i&&function(e){var t=f.lastMouseX-f.startMouseX;if(0==t)return;var i=t<0?"left":"right",n=_.getObjZoom();if(n){if(1==n.isPanEnabled(e,i))return f.isInitDataValid=!1;if(0==f.isInitDataValid)return a(e)}var o,r,s=f.startPosx+t;0<t&&0<s?s/=3:t<0&&s+g.width()<c.width()&&(s=f.startPosx+t/3),0==f.isDragging&&(f.isDragging=!0,p.trigger(_.events.START_DRAG)),g.css("left",s+"px"),1==f.isDragVideo&&(o=s-f.startPosx,r=f.videoStartX+o,f.videoObject.css("left",r))}(e)}function u(e){var t,i=h.getArrTouches(e).length;if(1==_.isInnerInPlace()&&0==f.touch_active&&0==i)return!0;0==i&&1==f.touch_active?(o(),t=!1,0==h.wasVerticalScroll(f.storedEventID)&&(t=function(){var e=_.getSlidesReference(),t=r(e),i=Math.round(3*e.objCurrentSlide.width()/8);if(Math.abs(t)>=i)return!0;var n=Math.abs(f.lastMouseX-f.startMouseX);return Math.abs(f.lastMouseY-f.startMouseY),!(n<20)&&jQuery.now()-f.startTime<500}()),(1==t?n:s)()):1==i&&0==f.touch_active&&l(0,e)}var c,g,p,_=new UGSlider,h=new UGFunctions,m={slider_transition_continuedrag_speed:250,slider_transition_continuedrag_easing:"linear",slider_transition_return_speed:300,slider_transition_return_easing:"easeInOutQuad"},f={touch_active:!1,startMouseX:0,startMouseY:0,lastMouseX:0,lastMouseY:0,startPosx:0,startTime:0,isInitDataValid:!1,slides:null,lastNumTouches:0,isDragging:!1,storedEventID:"touchSlider",videoStartX:0,isDragVideo:!1,videoObject:null};this.isTapEventOccured=function(e){var t=h.getArrTouches(e).length;if(0!=t||0!=f.lastNumTouches)return f.lastNumTouches=t,!1;f.lastNumTouches=t;var i=(r(_.getSlidesReference()),Math.abs(f.lastMouseX-f.startMouseX)),n=Math.abs(f.lastMouseY-f.startMouseY),o=jQuery.now()-f.startTime;return i<20&&n<50&&o<500},this.init=function(e,t){_=e,p=jQuery(_),g_objects=e.getObjects(),c=g_objects.g_objSlider,g=g_objects.g_objInner,m=jQuery.extend(m,t),c.bind("mousedown touchstart",i),jQuery("body").bind("mousemove touchmove",d),jQuery(window).add("body").bind("mouseup touchend",u)},this.getLastMousePos=function(){return{pageX:f.lastMouseX,pageY:f.lastMouseY}},this.isTouchActive=function(){return f.touch_active}}function UGZoomSliderControl(){function i(e,t){f=e,m=jQuery(f),g_objects=e.getObjects(),h=g_objects.g_objSlider,g_objects.g_objInner,b=jQuery.extend(b,t),h.on("mousewheel",_),h.bind("mousedown touchstart",n),jQuery("body").bind("mousemove touchmove",p),jQuery(window).add("body").bind("mouseup touchend",g),m.bind(f.events.BEFORE_RETURN,function(){c()}),m.bind(f.events.ITEM_CHANGED,function(){y.isZoomedOnce=!1}),m.bind(f.events.ZOOM_CHANGE,function(){y.isZoomedOnce=!0})}function l(){var e=f.getScaleMode();return"down"!=e&&(e="fit"),e}function o(){if(!((i=jQuery.now())-y.storeImageLastTime<20)){var e=f.getSlidesReference();if(y.objSlide=e.objCurrentSlide,y.objImage=e.objCurrentSlide.find("img"),0!=y.objImage.length){y.objImageSize=v.getElementSize(y.objImage),y.objParent=y.objImage.parent(),y.objParentSize=v.getElementSize(y.objParent);var t=l();objPadding=f.getObjImagePadding(),y.objFitImageSize=v.getImageInsideParentDataByImage(y.objImage,t,objPadding);var i=jQuery.now();return y.storeImageLastTime=i,1}}}function r(e,t){var i=f.getSlidesReference().objCurrentSlide.find("img"),n=l();m.trigger(f.events.ZOOM_START);var o,r,s=!0,a=f.getObjImagePadding();"back"==e?(o=v.getImageOriginalSize(i),v.scaleImageFitParent(i,o.width,o.height,n,a)):(r="in"==e,s=v.zoomImageInsideParent(i,r,b.slider_zoom_step,t,n,b.slider_zoom_max_ratio,a)),1==s&&(m.trigger(f.events.ZOOMING),m.trigger(f.events.ZOOM_CHANGE),m.trigger(f.events.ZOOM_END))}function s(e,t,i){var n=v.getArrTouches(t);if(!0===i){if(1!=n.length)return!1}else if(1<n.length)return!1;return!!v.isElementBiggerThenParent(e)}function a(e){var t,i;y.isPanActive=!0,t=e,i=v.getMousePosition(t),y.startMouseX=i.pageX,y.startMouseY=i.pageY,y.lastMouseX=y.startMouseX,y.lastMouseY=y.startMouseY,y.startImageX=y.objImageSize.left,y.startImageY=y.objImageSize.top,y.panXActive=y.objImageSize.width>y.objParentSize.width,y.panYActive=y.objImageSize.height>y.objParentSize.height}function d(e){0!=y.isZoomActive&&2!=v.getArrTouches(e).length&&(y.isZoomActive=!1,m.trigger(f.events.ZOOM_END))}function u(e){if(1==y.isZoomActive)return 1;var t,i=v.getArrTouches(e);return 2!=i.length||(t=i,y.isZoomActive=!0,y.startDistance=v.getDistance(t[0].pageX,t[0].pageY,t[1].pageX,t[1].pageY),0==y.startDistance&&(y.startDistance=1),y.startMiddlePoint=v.getMiddlePoint(t[0].pageX,t[0].pageY,t[1].pageX,t[1].pageY),y.objImageSize=v.getElementSize(y.objImage),y.startImageX=y.objImageSize.left,y.startImageY=y.objImageSize.top,y.imageOrientPoint=v.getElementLocalPoint(y.startMiddlePoint,y.objImage),0==v.isPointInsideElement(y.imageOrientPoint,y.objImageSize)&&(y.imageOrientPoint=v.getElementCenterPoint(y.objImage)),void m.trigger(f.events.ZOOM_START))}function c(){if(null==y.objImage||0==y.objImage.length)return 1;var e;v.getElementSize(y.objImage).width<y.objFitImageSize.imageWidth?(y.objImage.css({position:"absolute",margin:"none"}),e={top:y.objFitImageSize.imageTop+"px",left:y.objFitImageSize.imageLeft+"px",width:y.objFitImageSize.imageWidth+"px",height:y.objFitImageSize.imageHeight+"px"},y.objImage.animate(e,{duration:b.slider_zoom_return_pan_duration,easing:b.slider_zoom_return_pan_easing,queue:!1})):function(){var e=!1,t=!1,i=0,n=0,o=v.getElementSize(y.objImage),r=f.getObjImagePadding(),s=v.getElementCenterPosition(y.objImage,r);y.panXActive=y.objImageSize.width>y.objParentSize.width,y.panYActive=y.objImageSize.height>y.objParentSize.height,1==y.panYActive?0<o.top?t=!(n=0):o.bottom<y.objParentSize.height&&(n=y.objParentSize.height-o.height,t=!0):o.top!=s.top&&(t=!0,n=s.top),1==y.panXActive?0<o.left?e=!(i=0):o.right<y.objParentSize.width&&(i=y.objParentSize.width-o.width,e=!0):o.left!=s.left&&(e=!0,i=s.left);var a={};1==t&&(a.top=n+"px"),1==e&&(a.left=i+"px"),1!=t&&1!=e||y.objImage.animate(a,{duration:b.slider_zoom_return_pan_duration,easing:b.slider_zoom_return_pan_easing,queue:!1})}()}function n(e){return 0==f.isCurrentSlideType("image")||(o(),null==y.objImage||0==y.objImage.length||(e.preventDefault(),1==!(!y.objImage||!y.objImage.is(":animated"))&&y.objImage.stop(!0),(1==y.isZoomActive?d:u)(e),void(1==y.isZoomActive?y.isPanActive=!1:1==s(y.objImage,e)&&1==y.isZoomedOnce&&a(e))))}function g(e){if(0==f.isCurrentSlideType("image"))return!0;if(1==jQuery(e.target).data("ug-button"))return!1;if(o(),null==y.objImage||0==y.objImage.length)return!0;var t,i=y.isPanActive,n=y.isZoomActive;if(0==f.isInnerInPlace())return y.isZoomActive=!1,!(y.isPanActive=!1);(1==y.isZoomActive?d:u)(e),1==y.isZoomActive?y.isPanActive=!1:(t=s(y.objImage,e,!0),1==y.isPanActive?y.isPanActive=!1:1==t&&a(e)),(i||n)&&0==y.isZoomActive&&0==y.isPanActive&&c()}function p(e){return 0==f.isCurrentSlideType("image")||void(1==y.isZoomActive?function(e){var t=v.getArrTouches(e),i=v.getDistance(t[0].pageX,t[0].pageY,t[1].pageX,t[1].pageY)/y.startDistance,n=v.getMiddlePoint(t[0].pageX,t[0].pageY,t[1].pageX,t[1].pageY),o=y.objImageSize.width*i,r=y.objImageSize.height*i,s=v.getImageOriginalSize(y.objImage),a=1;if(0<s.width&&(a=o/s.width),a>b.slider_zoom_max_ratio)return;panX=-(y.imageOrientPoint.x*i-y.imageOrientPoint.x),panY=-(y.imageOrientPoint.y*i-y.imageOrientPoint.y);var l=n.x-y.startMiddlePoint.x,d=n.y-y.startMiddlePoint.y,u=y.startImageX+panX+l,c=y.startImageY+panY+d;v.setElementSizeAndPosition(y.objImage,u,c,o,r),m.trigger(f.events.ZOOMING),m.trigger(f.events.ZOOM_CHANGE)}(e):1==y.isPanActive&&function(e){if(null==y.objImage||0==y.objImage.length)return;var t=v.getMousePosition(e),i=(t.pageX,y.startMouseX,t.pageY,y.startMouseY,t.pageX-y.lastMouseX),n=t.pageY-y.lastMouseY,o=i<0?"left":"right",r=n<0?"up":"down";y.lastMouseX=t.pageX,y.lastMouseY=t.pageY;var s=v.getElementSize(y.objImage);0==y.panYActive?n=0:("down"==r&&0<s.top||"up"==r&&s.bottom<y.objParentSize.height)&&(n/=3),0==y.panXActive||0==f.isInnerInPlace()?i=0:("right"==o&&0<s.left||"left"==o&&s.right<y.objParentSize.width)&&(i/=3);var a=s.left+i,l=s.top+n;v.placeElement(y.objImage,a,l)}(e))}function _(e,t,i,n){return 0==b.slider_zoom_mousewheel||(0==f.isCurrentSlideType("image")||(e.preventDefault(),void r(1==0<t?"in":"out",v.getMousePosition(e))))}var h,m,f=new UGSlider,v=new UGFunctions,b={slider_zoom_step:1.2,slider_zoom_max_ratio:6,slider_zoom_return_pan_duration:400,slider_zoom_return_pan_easing:"easeOutCubic"},y={isPanActive:!1,startMouseX:0,startMouseY:0,lastMouseX:0,lastMouseY:0,startImageX:0,startImageY:0,panXActive:!1,panYActive:!1,objImage:null,objImageSize:null,objParent:null,objParentSize:null,objSlide:null,storeImageLastTime:0,isZoomActive:!1,startDistance:0,startMiddlePoint:null,imageOrientPoint:null,objFitImageSize:null,isZoomedOnce:!1};this.________EXTERNAL_____________=function(){},this.isPanEnabled=function(e,t){if(o(),null==y.objImage||0==y.objImage.length)return!1;if(0==y.isZoomedOnce)return!1;if(0==s(y.objImage,e))return!1;if(0==f.isInnerInPlace())return!1;if("left"==t){if(y.objImageSize.right<=y.objParentSize.width)return!1}else if(0<=y.objImageSize.left)return!1;return!0},this.init=function(e,t){i(e,t)},this.zoomIn=function(){r("in")},this.zoomOut=function(){r("out")},this.zoomBack=function(){r("back")}}function UGWistiaAPI(){function r(){return"undefined"!=typeof Wistia}function s(e,t,i,n,o){l=null,c=!1;var r=e+"_video",s="<div id='"+r+"' class='wistia_embed' style='width:"+i+";height:"+n+";' data-video-width='"+i+"' data-video-height='"+n+"'>&nbsp;</div>";jQuery("#"+e).html(s),l=Wistia.embed(t,{version:"v1",videoWidth:i,videoHeight:n,container:r,autoPlay:o}),c=!0,l.bind("play",function(){u.trigger(d.events.START_PLAYING)}),l.bind("pause",function(){u.trigger(d.events.STOP_PLAYING)}),l.bind("end",function(){u.trigger(d.events.STOP_PLAYING),u.trigger(d.events.VIDEO_ENDED)})}this.isAPILoaded=!1;var a,l,d=this,u=jQuery(this),c=!1;this.events={START_PLAYING:"start_playing",STOP_PLAYING:"stop_playing",VIDEO_ENDED:"video_ended"},this.loadAPI=function(){return 1==g_ugWistiaAPI.isAPILoaded||(r()?g_ugWistiaAPI.isAPILoaded=!0:(g_ugFunctions.loadJs("fast.wistia.com/assets/external/E-v1.js",!0),void(g_ugWistiaAPI.isAPILoaded=!0)))},this.doCommand=function(e){if(null==l)return!1;if(0==c)return!1;switch(e){case"play":l.play();break;case"pause":l.pause()}},this.pause=function(){d.doCommand("pause")},this.play=function(){d.doCommand("play")},this.putVideo=function(e,t,i,n,o){return r()?(s(e,t,i,n,o),!0):(this.loadAPI(),void(a=setInterval(function(){r()&&(s(e,t,i,n,o),clearInterval(a))},500)))},this.isPlayerReady=function(){return!(!c||!l)}}function UGSoundCloudAPI(){function r(){return"undefined"!=typeof SC}function s(e,t,i,n,o){l=null,g_isPlayerReady=!1;var r=e+"_iframe",s=location.protocol+"//w.soundcloud.com/player/?url=http://api.soundcloud.com/tracks/"+t;s+="&amp;buying=false&amp;liking=false&amp;download=false&amp;sharing=false&amp;show_artwork=true&show_comments=false&amp;show_playcount=true&amp;show_user=false&amp;hide_related=true&amp;visual=true&amp;start_track=0&amp;callback=true";var a="<iframe id='"+r+"' src="+(s+=!0===o?"&amp;auto_play=true":"&amp;auto_play=false")+" width='"+i+"' height='"+n+"' frameborder='0' scrolling='no' webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>";jQuery("#"+e).html(a),(l=SC.Widget(r)).bind(SC.Widget.Events.READY,function(){l&&(g_isPlayerReady=!0,l.bind(SC.Widget.Events.PLAY,function(){c.trigger(u.events.START_PLAYING)}),l.bind(SC.Widget.Events.PAUSE,function(){c.trigger(u.events.STOP_PLAYING)}),l.bind(SC.Widget.Events.FINISH,function(){c.trigger(u.events.STOP_PLAYING),c.trigger(u.events.VIDEO_ENDED)}))}),d=e}this.isAPILoaded=!1;var a,l,d,u=this,c=jQuery(this);this.events={START_PLAYING:"start_playing",STOP_PLAYING:"stop_playing",VIDEO_ENDED:"video_ended"},this.loadAPI=function(){return 1==g_ugSoundCloudAPI.isAPILoaded||(r()?g_ugSoundCloudAPI.isAPILoaded=!0:(g_ugFunctions.loadJs("w.soundcloud.com/player/api.js",!0),void(g_ugSoundCloudAPI.isAPILoaded=!0)))},this.putSound=function(e,t,i,n,o){return r()?(s(e,t,i,n,o),!0):(this.loadAPI(),void(a=setInterval(function(){r()&&(s(e,t,i,n,o),clearInterval(a))},500)))},this.doCommand=function(e){if(null==l)return!1;if(0==g_isPlayerReady)return!1;switch(e){case"play":l.play();break;case"pause":l.pause()}},this.pause=function(){u.doCommand("pause")},this.play=function(){u.doCommand("play")},this.destroy=function(){g_isPlayerReady=!1,l=null,d&&(jQuery("#"+d).html(""),d=null)}}function UGHtml5MediaAPI(){function r(){return"undefined"!=typeof mejs}function s(e,t,i,n,o){c=null,g_isPlayerReady=!1;var r=location.protocol+"//cdnjs.cloudflare.com/ajax/libs/mediaelement/2.18.1/flashmediaelement-cdn.swf",s=location.protocol+"//cdnjs.cloudflare.com/ajax/libs/mediaelement/2.18.1/silverlightmediaelement.xap",a=e+"_video",l="";o&&!0===o&&(l="autoplay='autoplay'");var d="";t.posterImage&&(d="poster='"+t.posterImage+"'");var u="<video id='"+a+"' width='"+i+"' height='"+n+"'  controls='controls' preload='none' "+l+" "+d+">";""!=t.mp4&&(u+="<source type='video/mp4' src='"+t.mp4+"' />"),""!=t.webm&&(u+="<source type='video/webm' src='"+t.webm+"' />"),""!=t.ogv&&(u+="<source type='video/ogg' src='"+t.ogv+"' />"),u+="<object width='"+i+"' height='"+n+"' type='application/x-shockwave-flash' data='"+r+"'>",u+="<param name='movie' value='"+r+"' />",u+="<param name='flashvars' value='controls=true&file="+t.mp4+"' />",u+="</object>",u+="</video>",jQuery("#"+e).html(u),new MediaElement(a,{enablePluginDebug:!1,flashName:r,silverlightName:s,success:function(e,t){g_isPlayerReady=!0,c=e,0==o&&c.pause(),g_ugFunctions.addEvent(c,"play",function(){p.trigger(g.events.START_PLAYING)}),g_ugFunctions.addEvent(c,"pause",function(){p.trigger(g.events.STOP_PLAYING)}),g_ugFunctions.addEvent(c,"ended",function(){p.trigger(g.events.STOP_PLAYING),p.trigger(g.events.VIDEO_ENDED)})},error:function(e){trace(e)}})}this.isAPILoaded=!1;var a,c,g=this,p=jQuery(this);this.events={START_PLAYING:"start_playing",STOP_PLAYING:"stop_playing",VIDEO_ENDED:"video_ended"},this.loadAPI=function(){return 1==g_ugHtml5MediaAPI.isAPILoaded||(r()?g_ugHtml5MediaAPI.isAPILoaded=!0:(g_ugFunctions.loadJs("cdnjs.cloudflare.com/ajax/libs/mediaelement/2.18.1/mediaelement.min.js",!0),g_ugFunctions.loadCss("cdnjs.cloudflare.com/ajax/libs/mediaelement/2.18.1/mediaelementplayer.min.css",!0),void(g_ugHtml5MediaAPI.isAPILoaded=!0)))},this.putVideo=function(e,t,i,n,o){return r()?(s(e,t,i,n,o),!0):(this.loadAPI(),void(a=setInterval(function(){r()&&(s(e,t,i,n,o),clearInterval(a))},500)))},this.doCommand=function(e){if(null==c)return!1;if(0==g_isPlayerReady)return!1;switch(e){case"play":c.play();break;case"pause":c.pause()}},this.pause=function(){g.doCommand("pause")},this.play=function(){g.doCommand("play")}}function UGVimeoAPI(){function r(){return"undefined"!=typeof Froogaloop}function s(e,t,i,n,o){c=null,g=!1;var r=location.protocol+"//player.vimeo.com/video/"+t+"?api=1";!0===o&&(r+="&amp;byline=0&amp;autoplay=1&amp;title=0&amp;portrait=0");var s="<iframe src="+r+" width='"+i+"' height='"+n+"' frameborder='0' webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>";jQuery("#"+e).html(s);var a=jQuery("#"+e+" iframe")[0];(c=Froogaloop(a)).addEvent("ready",function(){c&&(g=!0,c&&(c.addEvent("cuechange",function(){1==p&&d.play()}),c.addEvent("play",function(){u.trigger(d.events.START_PLAYING)}),c.addEvent("pause",function(){u.trigger(d.events.STOP_PLAYING)}),c.addEvent("finish",function(){u.trigger(d.events.STOP_PLAYING),u.trigger(d.events.VIDEO_ENDED)})))}),l=e}this.isAPILoaded=!1;var a,l,d=this,u=jQuery(this),c=null,g=!1,p=!1;this.events={START_PLAYING:"start_playing",STOP_PLAYING:"stop_playing",VIDEO_ENDED:"video_ended"},this.loadAPI=function(){return 1==g_ugVimeoAPI.isAPILoaded||(r()?g_ugVimeoAPI.isAPILoaded=!0:(g_ugFunctions.loadJs("f.vimeocdn.com/js/froogaloop2.min.js",!0),void(g_ugVimeoAPI.isAPILoaded=!0)))},this.doCommand=function(e){return null!=c&&(0!=g&&void c.api(e))},this.pause=function(){d.doCommand("pause")},this.play=function(){d.doCommand("play")},this.destroy=function(){c&&(c.api("unload"),c=null,g=!1),l&&jQuery("#"+l).html("")},this.putVideo=function(e,t,i,n,o){return r()?(s(e,t,i,n,o),!0):(this.loadAPI(),void(a=setInterval(function(){r()&&(s(e,t,i,n,o),clearInterval(a))},500)))},this.isPlayerReady=function(){return!(!g||!c)},this.changeVideo=function(e,t){return 0!=d.isPlayerReady()&&(p=t,void c.api("loadVideo",e))},this.getVideoImages=function(e,i,n){var t=location.protocol+"//vimeo.com/api/v2/video/"+e+".json";jQuery.get(t,{},function(e){var t={};t.preview=e[0].thumbnail_large,t.thumb=e[0].thumbnail_medium,n(i,t)})}}function UGYoutubeAPI(){function r(e,t,i,n,o){c&&g&&c.destroy();var r={controls:2,showinfo:p.video_youtube_showinfo,rel:0};!0===o&&(r.autoplay=1),g=!1,c=new YT.Player(e,{height:n,width:i,videoId:t,playerVars:r,events:{onReady:a,onStateChange:l}}),u=e}function s(){return"undefined"!=typeof YT&&void 0!==YT.Player}function a(){g=!0}function l(){if("function"!=typeof c.getPlayerState)return trace("Youtube API error: can't get player state"),!1;var e=c.getPlayerState();switch(e){case YT.PlayerState.PLAYING:t.trigger(i.events.START_PLAYING);break;case YT.PlayerState.ENDED:t.trigger(i.events.STOP_PLAYING),t.trigger(i.events.VIDEO_ENDED);break;default:n==YT.PlayerState.PLAYING&&t.trigger(i.events.STOP_PLAYING)}n=e}this.isAPILoaded=!1;var d,u,i=this,c=null,g=!1,t=jQuery(this),n=-1,p={video_youtube_showinfo:!0};this.events={START_PLAYING:"start_playing",STOP_PLAYING:"stop_playing",VIDEO_ENDED:"video_ended"},this.setOptions=function(e){p=jQuery.extend(p,e)},this.putVideo=function(e,t,i,n,o){return s()?(r(e,t,i,n,o),!0):(this.loadAPI(),void(d=setInterval(function(){s()&&(r(e,t,i,n,o),clearInterval(d))},500)))},this.loadAPI=function(){return 1==g_ugYoutubeAPI.isAPILoaded||("undefined"!=typeof YT?g_ugYoutubeAPI.isAPILoaded=!0:(g_ugFunctions.loadJs("https://www.youtube.com/player_api",!1),void(g_ugYoutubeAPI.isAPILoaded=!0)))},this.doCommand=function(e,t){if(!c)return!0;if(0==g)return!1;switch(e){case"play":if("function"!=typeof c.playVideo)return!1;c.playVideo();break;case"pause":if("function"!=typeof c.pauseVideo)return!1;c.pauseVideo();break;case"seek":if("function"!=typeof c.seekTo)return!1;c.seekTo(t);break;case"stopToBeginning":var i=c.getPlayerState();switch(c.pauseVideo(),i){case YT.PlayerState.PLAYING:case YT.PlayerState.ENDED:case YT.PlayerState.PAUSED:c.seekTo(0)}}},this.play=function(){i.doCommand("play")},this.pause=function(){i.doCommand("pause")},this.destroy=function(){try{c&&(g=!1,c.clearVideo(),c.destroy())}catch(e){jQuery("#"+u).html("")}},this.stopToBeginning=function(){i.doCommand("stopToBeginning")},this.changeVideo=function(e,t){return 0!=i.isPlayerReady()&&void(t&&1==t?c.loadVideoById(e,0,"large"):c.cueVideoById(e,0,"large"))},this.isPlayerReady=function(){return!(!g||!c)},this.getVideoImages=function(e){var t={};return t.preview="https://i.ytimg.com/vi/"+e+"/sddefault.jpg",t.thumb="https://i.ytimg.com/vi/"+e+"/default.jpg",t}}function UGVideoPlayer(){function e(){p.hide()}function t(){_.trigger(p.events.PLAY_START),u&&u.hide()}function i(){_.trigger(p.events.PLAY_STOP),u&&u.show()}function n(){_.trigger(p.events.VIDEO_ENDED)}function s(e){var t=["youtube","vimeo","html5","soundcloud","wistia"];for(var i in t){var n=t[i];if(n!=e)switch(n){case"youtube":m.pause(),m.destroy(),a.hide();break;case"vimeo":f.pause(),f.destroy(),l.hide();break;case"html5":v.pause(),d.hide();break;case"soundcloud":b.pause(),b.destroy(),c.hide();break;case"wistia":y.pause(),g.hide()}}}var o,r,a,l,d,u,c,g,p=this,_=jQuery(this),h=new UGFunctions,m=new UGYoutubeAPI,f=new UGVimeoAPI,v=new UGHtml5MediaAPI,b=new UGSoundCloudAPI,y=new UGWistiaAPI,w=null,T={video_enable_closebutton:!0},I={standAloneMode:!(this.events={SHOW:"video_show",HIDE:"video_hide",PLAY_START:"video_play_start",PLAY_STOP:"video_play_stop",VIDEO_ENDED:"video_ended"}),youtubeInnerID:"",vimeoPlayerID:"",html5PlayerID:"",wistiaPlayerID:"",soundCloudPlayerID:""};this.init=function(e,t,i){if(!(o=i))throw new Error("missing gallery ID for video player, it's a must!");T=jQuery.extend(T,e),m.setOptions(T),t&&1==t&&(I.standAloneMode=!0)},this.setHtml=function(e){I.youtubeInnerID=o+"_youtube_inner",I.vimeoPlayerID=o+"_videoplayer_vimeo",I.html5PlayerID=o+"_videoplayer_html5",I.wistiaPlayerID=o+"_videoplayer_wistia",I.soundCloudPlayerID=o+"_videoplayer_soundcloud";var t="<div class='ug-videoplayer' style='display:none'>";t+="<div class='ug-videoplayer-wrapper ug-videoplayer-youtube' style='display:none'><div id='"+I.youtubeInnerID+"'></div></div>",t+="<div id='"+I.vimeoPlayerID+"' class='ug-videoplayer-wrapper ug-videoplayer-vimeo' style='display:none'></div>",t+="<div id='"+I.html5PlayerID+"' class='ug-videoplayer-wrapper ug-videoplayer-html5'></div>",t+="<div id='"+I.soundCloudPlayerID+"' class='ug-videoplayer-wrapper ug-videoplayer-soundcloud'></div>",t+="<div id='"+I.wistiaPlayerID+"' class='ug-videoplayer-wrapper ug-videoplayer-wistia'></div>",0==I.standAloneMode&&1==T.video_enable_closebutton&&(t+="<div class='ug-videoplayer-button-close'></div>"),t+="</div>",e.append(t),r=e.children(".ug-videoplayer"),a=r.children(".ug-videoplayer-youtube"),l=r.children(".ug-videoplayer-vimeo"),d=r.children(".ug-videoplayer-html5"),c=r.children(".ug-videoplayer-soundcloud"),g=r.children(".ug-videoplayer-wistia"),0==I.standAloneMode&&1==T.video_enable_closebutton&&(u=r.children(".ug-videoplayer-button-close"))},this.destroy=function(){u&&(u.off("click"),u.off("touchend")),jQuery(m).off(m.events.START_PLAYING),jQuery(m).off(m.events.STOP_PLAYING),jQuery(f).off(f.events.START_PLAYING),jQuery(f).off(f.events.STOP_PLAYING),jQuery(v).off(v.events.START_PLAYING),jQuery(v).off(v.events.STOP_PLAYING),jQuery(b).off(b.events.START_PLAYING,t),jQuery(b).off(b.events.STOP_PLAYING,i),jQuery(y).off(y.events.START_PLAYING,t),jQuery(y).off(y.events.STOP_PLAYING,i),w=null},this.initEvents=function(){u&&(h.setButtonMobileReady(u),h.setButtonOnClick(u,e)),jQuery(m).on(m.events.START_PLAYING,t),jQuery(m).on(m.events.STOP_PLAYING,i),jQuery(m).on(m.events.VIDEO_ENDED,n),jQuery(f).on(f.events.START_PLAYING,t),jQuery(f).on(f.events.STOP_PLAYING,i),jQuery(f).on(f.events.VIDEO_ENDED,n),jQuery(v).on(v.events.START_PLAYING,t),jQuery(v).on(v.events.STOP_PLAYING,i),jQuery(v).on(v.events.VIDEO_ENDED,n),jQuery(b).on(b.events.START_PLAYING,t),jQuery(b).on(b.events.STOP_PLAYING,i),jQuery(b).on(b.events.VIDEO_ENDED,n),jQuery(y).on(y.events.START_PLAYING,t),jQuery(y).on(y.events.STOP_PLAYING,i),jQuery(y).on(y.events.VIDEO_ENDED,n)},this.setSize=function(e,t){h.setElementSize(r,e,t),u&&h.placeElement(u,"right","top")},this.setPosition=function(e,t){h.placeElement(r,e,t)},this.getObject=function(){return r},this.show=function(){return 1==p.isVisible()||(r.show(),r.fadeTo(0,1),u&&u.show(),void _.trigger(p.events.SHOW))},this.hide=function(){return 0==p.isVisible()||(s(),w=null,r.hide(),void _.trigger(p.events.HIDE))},this.getActiveAPI=function(){switch(w){case"youtube":return m;case"vimeo":return f;case"wistia":return y;case"soundcloud":return b;case"html5":return v;default:return null}},this.pause=function(){var e=p.getActiveAPI();return null!=e&&void("function"==typeof e.pause&&e.pause())},this.isVisible=function(){return r.is(":visible")},this.playYoutube=function(e,t){void 0===t&&(t=!0),s("youtube"),a.show(),0==a.children("#"+I.youtubeInnerID).length&&a.append("<div id='"+I.youtubeInnerID+"'></div>"),1==m.isPlayerReady()&&1==I.standAloneMode?m.changeVideo(e,t):m.putVideo(I.youtubeInnerID,e,"100%","100%",t),w="youtube"},this.playVimeo=function(e,t){void 0===t&&(t=!0),s("vimeo"),l.show(),f.putVideo(I.vimeoPlayerID,e,"100%","100%",t),w="vimeo"},this.playHtml5Video=function(e,t,i,n,o){void 0===o&&(o=!0),s("html5"),d.show();var r={ogv:e,webm:t,mp4:i,posterImage:n};v.putVideo(I.html5PlayerID,r,"100%","100%",o),w="html5"},this.playSoundCloud=function(e,t){void 0===t&&(t=!0),s("soundcloud"),c.show(),b.putSound(I.soundCloudPlayerID,e,"100%","100%",t),w="soundcloud"},this.playWistia=function(e,t){void 0===t&&(t=!0),s("wistia"),g.show(),y.putVideo(I.wistiaPlayerID,e,"100%","100%",t),w="wistia"}}function ugCheckForMinJQueryVersion(){if(0==g_ugFunctions.checkMinJqueryVersion("1.8.0"))throw new Error("The gallery can run from jquery 1.8 You have jQuery "+jQuery.fn.jquery+" Please update your jQuery library.")}function ugCheckForErrors(t,i){try{"jquery"==i?(function(){if("undefined"==typeof jQuery)throw new Error("jQuery library not included")}(),ugCheckForMinJQueryVersion()):(ugCheckForMinJQueryVersion(),function(){if("function"==typeof jQuery.fn.unitegallery)return;var e="You have some jquery.js library include that comes after the gallery files js include.";throw e+="<br> This include eliminates the gallery libraries, and make it not work.","cms"==i?(e+="<br><br> To fix it you can:<br>&nbsp;&nbsp;&nbsp; 1. In the Gallery Settings -> Troubleshooting set option:  <strong><b>Put JS Includes To Body</b></strong> option to true.",e+="<br>&nbsp;&nbsp;&nbsp; 2. Find the double jquery.js include and remove it."):e+="<br><br> Please find and remove this jquery.js include and the gallery will work. <br> * There should be only one jquery.js include before all other js includes in the page.",new Error(e)}())}catch(e){var n,o=e.message;return o="<div style='font-size:16px;color:#BC0C06;max-width:900px;border:1px solid red;padding:10px;'>"+("Unite Gallery Error: "+o)+"</div>","jquery"==i?((n=document.getElementById(t)).innerHTML=o,n.style.display="block"):jQuery(t).show().html(o),!1}return!0}function UniteGalleryMain(){function __________INIT_GALLERY_______(){}function getThemeFunction(e){var t=e;return-1==t.indexOf("UGTheme_")&&(t="UGTheme_"+t),t}function initTheme(objCustomOptions){var defaultTheme;objCustomOptions.hasOwnProperty("gallery_theme")?g_options.gallery_theme=objCustomOptions.gallery_theme:(defaultTheme=g_options.gallery_theme,0==g_ugFunctions.isThemeRegistered(defaultTheme)&&(g_options.gallery_theme=g_ugFunctions.getFirstRegisteredTheme()));var themeFunction=getThemeFunction(g_options.gallery_theme);try{g_options.gallery_theme=eval(themeFunction)}catch(e){}g_options.gallery_theme=eval(themeFunction),g_objTheme=new g_options.gallery_theme,g_objTheme.init(t,objCustomOptions)}function resetOptions(){g_options=jQuery.extend({},g_temp.originalOptions),g_selectedItemIndex=-1,g_selectedItem=null,g_objSlider=g_objThumbs=g_objSlider=void 0}function checkForStartupErrors(){try{ugCheckForMinJQueryVersion()}catch(e){throwErrorShowMessage(e.message)}"object"==typeof g_objWrapper.outerWidth()&&throwErrorShowMessage("You have some buggy script. most chances jquery-ui.js that destroy jquery outerWidth, outerHeight functions. The gallery can't run. Please update jquery-ui.js to latest version."),setTimeout(function(){ugCheckForErrors(g_galleryID,"cms")},5e3)}function runGallery(e,i,n,o){var r="object"==typeof i;if(r&&(g_temp.objCustomOptions=i),1==g_temp.isRunFirstTime){if(g_galleryID=e,0==(g_objWrapper=jQuery(g_galleryID)).length)return trace("div with id: "+g_galleryID+" not found"),0;g_objParent=g_objWrapper.parent(),checkForStartupErrors(),g_temp.originalOptions=jQuery.extend({},g_options),r&&(g_options=jQuery.extend(g_options,i)),1==g_options.gallery_enable_cache&&g_options.gallery_initial_catid&&cacheItems(g_options.gallery_initial_catid),t.setSizeClass(),fillItemsArray(g_objWrapper.children()),loadAPIs(),g_objWrapper.find("img").fadeTo(0,0).hide(),g_objWrapper.show(),clearInitData()}else if(t.destroy(),resetOptions(),g_options=jQuery.extend(g_options,g_temp.objCustomOptions),n){if(o&&1==g_options.gallery_enable_cache&&cacheItems(o,n),"noitems"==n)return showErrorMessage("No items in this category",""),0;g_objWrapper.html(n),fillItemsArray(g_objWrapper.children()),loadAPIs(),g_objWrapper.children().fadeTo(0,0).hide(),g_objWrapper.show(),clearInitData()}1==g_temp.isRunFirstTime&&1==g_options.gallery_enable_tabs&&(g_objTabs=new UGTabs).init(t,g_options),1==g_temp.isRunFirstTime&&1==g_options.gallery_enable_loadmore&&(g_objLoadMore=new UGLoadMore).init(t,g_options),r&&modifyInitParams(g_temp.objCustomOptions),validateParams(),1==g_options.gallery_shuffle&&t.shuffleItems(),initTheme(g_temp.objCustomOptions),setGalleryHtml(),setHtmlObjectsProperties(),0==g_objWrapper.width()?g_functions.waitForWidth(g_objWrapper,runGalleryActually):runGalleryActually()}function runGalleryActually(){t.setSizeClass(),0==g_temp.isFreestyleMode&&1==g_options.gallery_preserve_ratio&&setHeightByOriginalRatio(),g_objTheme.run(),g_objTabs&&g_temp.isRunFirstTime&&g_objTabs.run(),preloadBigImages(),initEvents(),0<g_numItems&&t.selectItem(0),1==g_options.gallery_autoplay&&t.startPlayMode(),g_temp.isRunFirstTime=!1}function showErrorMessage(e,t){var i="<div class='ug-error-message-wrapper'><div class='ug-error-message'>"+(e=(t=void 0===t?"<b>Unite Gallery Error: </b>":"<b>"+t+": </b>")+e)+"</div></div>";g_objWrapper.children().remove(),g_objWrapper.html(i),g_objWrapper.show()}function throwErrorShowMessage(e){throw showErrorMessage(e),new Error(e)}function modifyInitParams(){g_options.gallery_images_preload_type||(g_options.gallery_images_preload_type="minimal"),(null==g_options.gallery_min_height||g_options.gallery_height<g_options.gallery_min_height)&&(g_options.gallery_min_height=0),(null==g_options.gallery_min_width||g_options.gallery_width<g_options.gallery_min_width)&&(g_options.gallery_min_width=0)}function validateParams(){if(!g_options.gallery_theme)throw new Error("The gallery can't run without theme");if(jQuery.isNumeric(g_options.gallery_height)&&g_options.gallery_height<g_options.gallery_min_height)throw new Error("The <b>gallery_height</b> option must be bigger then <b>gallery_min_height option</b>");if(g_options.gallery_width<g_options.gallery_min_width)throw new Error("The <b>gallery_width</b> option must be bigger then <b>gallery_min_width option</b>")}function setGalleryHtml(){g_objWrapper.addClass("ug-gallery-wrapper"),g_objWrapper.append("<div class='ug-overlay-disabled' style='display:none'></div>"),t.setSizeClass()}function clearInitData(){g_objWrapper.children().remove()}function storeLastSize(){var e=t.getSize();g_temp.lastWidth=e.width,g_temp.lastHeight=e.height}function setHeightByOriginalRatio(){var e,i=t.getSize();i.width/i.height!=i.orig_ratio&&(e=i.width/i.orig_ratio,(e=Math.round(e))<g_options.gallery_min_height&&(e=g_options.gallery_min_height),g_objWrapper.height(e))}function setHtmlObjectsProperties(){var e,t={"max-width":g_functions.getCssSizeParam(g_options.gallery_width),"min-width":g_functions.getCssSizeParam(g_options.gallery_min_width)};0==g_temp.isFreestyleMode?(e=g_functions.getCssSizeParam(g_options.gallery_height),t.height=e):t.overflow="visible",g_options.gallery_background_color&&(t["background-color"]=g_options.gallery_background_color),g_objWrapper.css(t)}function fillItemByChild(e){var i=t.isMobileMode(),n=e.prop("tagName").toLowerCase(),o="";"a"==n&&(o=e.attr("href"),n=(e=e.children()).prop("tagName").toLowerCase());var r=e.data("type");null==r&&(r="image");var s,a,l={};if(l.type=r,"img"==n){var d=e.data("lazyload-src");d&&""!=d&&(e.attr("src",d),jQuery.removeData(e,"lazyload-src"));var u=e.data("image"),c=e.data("thumb");void 0===u&&(u=null),void 0===c&&(c=null);var g=e.attr("src"),u=u||g;c=(c=c||g)||u,u=u||c,l.urlThumb=c,l.urlImage=u,l.title=e.attr("alt"),l.objThumbImage=e,l.objThumbImage.attr("src",l.urlThumb)}else{if("image"==r)throw trace("Problematic gallery item found:"),trace(e),trace("Please look for some third party js script that could add this item to the gallery"),new Error("The item should not be image type");l.urlThumb=e.data("thumb"),l.title=e.data("title"),l.objThumbImage=null,l.urlImage=e.data("image")}1==i&&(void 0!==(s=e.data("thumb-mobile"))&&""!=s&&(l.urlThumb=s,"img"==n&&e.attr("src",l.urlThumb)),void 0!==(a=e.data("image-mobile"))&&""!=a&&(l.urlImage=a)),l.link=o,l.description=e.attr("title"),l.description||(l.description=e.data("description")),l.description||(l.description=""),l.isNewAdded=!1,l.isLoaded=!1,l.isThumbImageLoaded=!1,l.objPreloadImage=null,l.isBigImageLoadStarted=!1,l.isBigImageLoaded=!1,l.isBigImageLoadError=!1,l.imageWidth=0,l.imageHeight=0,l.thumbWidth=0,l.thumbHeight=0,l.thumbRatioByWidth=0,l.thumbRatioByHeight=0;var p=e.data("width"),_=e.data("height");p&&"number"==typeof p&&_&&"number"==typeof _&&(l.thumbWidth=p,l.thumbHeight=_,l.thumbRatioByWidth=p/_,l.thumbRatioByHeight=_/p);var h,m=(l.addHtml=null)==l.urlImage||""==l.urlImage,f=null==l.urlThumb||""==l.urlThumb;switch(l.type){case"youtube":l.videoid=e.data("videoid"),(m||f)&&(h=g_ugYoutubeAPI.getVideoImages(l.videoid),m&&(l.urlImage=h.preview),f&&(l.urlThumb=h.thumb,"img"==n&&e.attr("src",l.urlThumb))),g_temp.isYoutubePresent=!0;break;case"vimeo":l.videoid=e.data("videoid"),g_temp.isVimeoPresent=!0;break;case"html5video":l.videoogv=e.data("videoogv"),l.videowebm=e.data("videowebm"),l.videomp4=e.data("videomp4"),g_temp.isHtml5VideoPresent=!0;break;case"soundcloud":l.trackid=e.data("trackid"),g_temp.isSoundCloudPresent=!0;break;case"wistia":l.videoid=e.data("videoid"),g_temp.isWistiaPresent=!0;break;case"custom":var v=e.children("img");v.length&&(v=jQuery(v[0]),l.urlThumb=v.attr("src"),l.title=v.attr("alt"),l.objThumbImage=v);var b=e.children().not("img:first-child");b.length&&(l.addHtml=b.clone())}return l.objThumbImage&&(l.objThumbImage.removeAttr("data-description",""),l.objThumbImage.removeAttr("data-image",""),l.objThumbImage.removeAttr("data-thumb",""),l.objThumbImage.removeAttr("title","")),l}function fillItemsArray(e,t){if(!0!==t)g_arrItems=[];else for(var i=0;i<g_numItems;i++)g_arrItems[i].isNewAdded=!1;for(i=0;i<e.length;i++){var n=fillItemByChild(jQuery(e[i]));numIndex=g_arrItems.length,n.index=numIndex,!0===t&&(n.isNewAdded=!0),g_arrItems.push(n)}g_numItems=g_arrItems.length}function loadAPIs(){g_temp.isYoutubePresent&&g_ugYoutubeAPI.loadAPI(),g_temp.isVimeoPresent&&g_ugVimeoAPI.loadAPI(),g_temp.isHtml5VideoPresent&&g_ugHtml5MediaAPI.loadAPI(),g_temp.isSoundCloudPresent&&g_ugSoundCloudAPI.loadAPI(),g_temp.isWistiaPresent&&g_ugWistiaAPI.loadAPI()}function preloadBigImages(){if("visible"!=g_options.gallery_images_preload_type||g_objThumbs||(g_options.gallery_images_preload_type="minimal"),1==g_temp.isAllItemsPreloaded)return 1;switch(g_options.gallery_images_preload_type){default:case"minimal":break;case"all":jQuery(g_arrItems).each(function(){preloadItemImage(this)});break;case"visible":jQuery(g_arrItems).each(function(){1==g_objThumbs.isItemThumbVisible(this)&&preloadItemImage(this)})}}function checkPreloadItemImage(e){if(1!=e.isBigImageLoadStarted&&1!=e.isBigImageLoaded&&1!=e.isBigImageLoadError)switch(g_options.gallery_images_preload_type){default:case"minimal":break;case"all":preloadItemImage(e);break;case"visible":1==g_objThumbs.isItemThumbVisible(e)&&preloadItemImage(e)}}function preloadItemImage(e){if(1==e.isBigImageLoadStarted||1==e.isBigImageLoaded||1==e.isBigImageLoadError)return 1;var i=e.urlImage;return""==i||null==i?(e.isBigImageLoadError=!0,0):(e.isBigImageLoadStarted=!0,e.objPreloadImage=jQuery("<img/>").attr("src",i),e.objPreloadImage.data("itemIndex",e.index),e.objPreloadImage.on("load",t.onItemBigImageLoaded),e.objPreloadImage.on("error",function(){var e=jQuery(this).data("itemIndex"),i=g_arrItems[e];i.isBigImageLoadError=!0,i.isBigImageLoaded=!1;var n=jQuery(this).attr("src");console.log("Can't load image: "+n),g_objGallery.trigger(t.events.ITEM_IMAGE_UPDATED,[e,i.urlImage]),i.objThumbImage.attr("src",i.urlThumb)}),void checkAllItemsStartedPreloading())}function preloadNearBigImages(e){if(1!=g_temp.isAllItemsPreloaded){if(!(e=e||g_selectedItem))return 1;var t=e.index,i=t-1,n=t+1;0<i&&preloadItemImage(g_arrItems[i]),n<g_numItems&&preloadItemImage(g_arrItems[n])}}function checkAllItemsStartedPreloading(){if(1==g_temp.isAllItemsPreloaded)return!1;for(var e in g_arrItems)if(0==g_arrItems[e].isBigImageLoadStarted)return!1;g_temp.isAllItemsPreloaded=!0}function __________END_INIT_GALLERY_______(){}function __________EVENTS_____________(){}function onSliderMouseEnter(e){1==g_options.gallery_pause_on_mouseover&&0==t.isFullScreen()&&1==g_temp.isPlayMode&&g_objSlider&&0==g_objSlider.isSlideActionActive()&&t.pausePlaying()}function onSliderMouseLeave(e){1==g_options.gallery_pause_on_mouseover&&1==g_temp.isPlayMode&&g_objSlider&&0==g_objSlider.isSlideActionActive()&&0==g_objSlider.isCurrentSlideLoadingImage()&&t.continuePlaying()}function onKeyPress(e){var i=jQuery(e.target);if(i.is("textarea")||i.is("select")||i.is("input"))return!0;var n=e.charCode?e.charCode:e.keyCode?e.keyCode:e.which?e.which:0,o=!0;switch(n){case 39:t.nextItem();break;case 37:t.prevItem();break;default:o=!1}1==o&&(e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation()),g_objGallery.trigger(t.events.GALLERY_KEYPRESS,[n,e])}function onGalleryResized(){var e,i,n=t.getSize();if(0==n.width)return!0;t.setSizeClass(),((n=t.getSize()).width!=g_temp.lastWidth||0==g_temp.isFreestyleMode&&n.height!=g_temp.lastHeight)&&(e=!1,!g_temp.funcCustomHeight||(i=g_temp.funcCustomHeight(n))&&(g_objWrapper.height(i),e=!0),0==e&&1==g_options.gallery_preserve_ratio&&0==g_temp.isFreestyleMode&&setHeightByOriginalRatio(),storeLastSize(),g_objGallery.trigger(t.events.SIZE_CHANGE))}function onThumbsChange(e){"visible"==g_options.gallery_images_preload_type&&0==g_temp.isAllItemsPreloaded&&preloadBigImages()}function onFullScreenChange(){var e=g_functions.isFullScreen(),i=e?t.events.ENTER_FULLSCREEN:t.events.EXIT_FULLSCREEN,n=g_functions.getGlobalData("fullscreenID");return g_galleryID!==n||(e?g_objWrapper.addClass("ug-fullscreen"):g_objWrapper.removeClass("ug-fullscreen"),g_objGallery.trigger(i),void onGalleryResized())}function onItemImageUpdated(e,i){checkPreloadItemImage(t.getItem(i))}function onCurrentSlideImageLoadEnd(){1==t.isPlayMode()&&t.continuePlaying()}function initEvents(){if(g_objWrapper.on("dragstart",function(e){e.preventDefault()}),g_objGallery.on(t.events.ITEM_IMAGE_UPDATED,onItemImageUpdated),g_objThumbs)switch(g_temp.thumbsType){case"strip":jQuery(g_objThumbs).on(g_objThumbs.events.STRIP_MOVE,onThumbsChange);break;case"grid":jQuery(g_objThumbs).on(g_objThumbs.events.PANE_CHANGE,onThumbsChange)}"advance"==g_options.gallery_mousewheel_role&&0==g_temp.isFreestyleMode&&g_objWrapper.on("mousewheel",t.onGalleryMouseWheel),storeLastSize(),jQuery(window).resize(function(){g_objWrapper.css("width","auto"),g_functions.whenContiniousEventOver("gallery_resize",onGalleryResized,g_temp.resizeDelay)}),setTimeout(function(){setInterval(onGalleryResized,2e3)},1e4),g_functions.addFullScreenChangeEvent(onFullScreenChange),g_objSlider&&(jQuery(g_objSlider).on(g_objSlider.events.ITEM_CHANGED,function(){var e=g_objSlider.getCurrentItemIndex();-1!=e&&t.selectItem(e)}),1==g_options.gallery_pause_on_mouseover&&(g_objSlider.getElement().hover(onSliderMouseEnter,onSliderMouseLeave),g_objGallery.on(t.events.ENTER_FULLSCREEN,function(){onSliderMouseLeave()})),retriggerEvent(g_objSlider,g_objSlider.events.ACTION_START,t.events.SLIDER_ACTION_START),retriggerEvent(g_objSlider,g_objSlider.events.ACTION_END,t.events.SLIDER_ACTION_END),jQuery(g_objSlider).on(g_objSlider.events.CURRENTSLIDE_LOAD_END,onCurrentSlideImageLoadEnd)),1==g_options.gallery_control_keyboard&&jQuery(document).keydown(onKeyPress)}function __________GENERAL_______(){}function cacheItems(e,t){var i;t?"noitems"!=(i=t)&&(i=jQuery(t).clone()):i=g_objWrapper.children().clone(),g_objCache[e]=i}function removeAllSizeClasses(e){(e=e||g_objWrapper).removeClass("ug-under-480"),e.removeClass("ug-under-780"),e.removeClass("ug-under-960")}function retriggerEvent(e,t,i){jQuery(e).on(t,function(e){g_objGallery.trigger(i,[this])})}function advanceNextStep(){var e,i=jQuery.now(),n=i-g_temp.playTimeLastStep;if(g_temp.playTimeLastStep=i,0==t.isGalleryVisible())return!1;g_temp.playTimePassed+=n,g_temp.objProgress&&(e=g_temp.playTimePassed/g_options.gallery_play_interval,g_temp.objProgress.setProgress(e)),g_temp.playTimePassed>=g_options.gallery_play_interval&&(t.nextItem(),g_temp.playTimePassed=0)}function unselectSeletedItem(){return null==g_selectedItem||(g_objThumbs&&g_objThumbs.setThumbUnselected(g_selectedItem.objThumbWrapper),g_selectedItem=null,void(g_selectedItemIndex=-1))}function toFakeFullScreen(){jQuery("body").addClass("ug-body-fullscreen"),g_objWrapper.addClass("ug-fake-fullscreen"),g_temp.isFakeFullscreen=!0,g_objGallery.trigger(t.events.ENTER_FULLSCREEN),g_objGallery.trigger(t.events.SIZE_CHANGE)}function exitFakeFullscreen(){jQuery("body").removeClass("ug-body-fullscreen"),g_objWrapper.removeClass("ug-fake-fullscreen"),g_temp.isFakeFullscreen=!1,g_objGallery.trigger(t.events.EXIT_FULLSCREEN),g_objGallery.trigger(t.events.SIZE_CHANGE)}var t=this,g_galleryID,g_objGallery=jQuery(t),g_objWrapper,g_objParent,g_objThumbs,g_objSlider,g_functions=new UGFunctions,g_objTabs,g_objLoadMore,g_arrItems=[],g_numItems,g_selectedItem=null,g_selectedItemIndex=-1,g_objTheme,g_objCache={};this.events={ITEM_CHANGE:"item_change",SIZE_CHANGE:"size_change",ENTER_FULLSCREEN:"enter_fullscreen",EXIT_FULLSCREEN:"exit_fullscreen",START_PLAY:"start_play",STOP_PLAY:"stop_play",PAUSE_PLAYING:"pause_playing",CONTINUE_PLAYING:"continue_playing",SLIDER_ACTION_START:"slider_action_start",SLIDER_ACTION_END:"slider_action_end",ITEM_IMAGE_UPDATED:"item_image_updated",GALLERY_KEYPRESS:"gallery_keypress",GALLERY_BEFORE_REQUEST_ITEMS:"gallery_before_request_items",OPEN_LIGHTBOX:"open_lightbox",CLOSE_LIGHTBOX:"close_lightbox"};var g_options={gallery_width:900,gallery_height:500,gallery_min_width:150,gallery_min_height:100,gallery_theme:"default",gallery_skin:"default",gallery_images_preload_type:"minimal",gallery_autoplay:!1,gallery_play_interval:3e3,gallery_pause_on_mouseover:!0,gallery_mousewheel_role:"zoom",gallery_control_keyboard:!0,gallery_carousel:!0,gallery_preserve_ratio:!0,gallery_background_color:"",gallery_debug_errors:!1,gallery_shuffle:!1,gallery_urlajax:null,gallery_enable_tabs:!1,gallery_enable_loadmore:!1,gallery_enable_cache:!0,gallery_initial_catid:""},g_temp={objCustomOptions:{},isAllItemsPreloaded:!1,isFreestyleMode:!1,lastWidth:0,lastHeigh:0,handleResize:null,isInited:!1,isPlayMode:!1,isPlayModePaused:!1,playTimePassed:0,playTimeLastStep:0,playHandle:"",playStepInterval:33,objProgress:null,isFakeFullscreen:!1,thumbsType:null,isYoutubePresent:!1,isVimeoPresent:!1,isHtml5VideoPresent:!1,isSoundCloudPresent:!1,isWistiaPresent:!1,resizeDelay:100,isRunFirstTime:!0,originalOptions:{},funcCustomHeight:null};this.onItemBigImageLoaded=function(e,t){var i=(t=t||jQuery(this)).data("itemIndex"),n=g_arrItems[i];n.isBigImageLoaded=!0;var o=g_functions.getImageOriginalSize(t);n.imageWidth=o.width,n.imageHeight=o.height},this.checkFillImageSize=function(e,t){if(!t){var i=e.data("itemIndex");if(void 0===i)throw new Error("Wrong image given to gallery.checkFillImageSize");t=g_arrItems[i]}var n=g_functions.getImageOriginalSize(e);t.imageWidth=n.width,t.imageHeight=n.height},this.setFreestyleMode=function(){g_temp.isFreestyleMode=!0},this.attachThumbsPanel=function(e,t){g_temp.thumbsType=e,g_objThumbs=t},this.initSlider=function(e,i){e=e||{},e=jQuery.extend(g_temp.objCustomOptions,e),(g_objSlider=new UGSlider).init(t,e,i)},this.onGalleryMouseWheel=function(e,i,n,o){e.preventDefault(),0<i?t.prevItem():t.nextItem()},this.destroy=function(){if(g_objWrapper.off("dragstart"),g_objGallery.off(t.events.ITEM_IMAGE_UPDATED),g_objThumbs)switch(g_temp.thumbsType){case"strip":jQuery(g_objThumbs).off(g_objThumbs.events.STRIP_MOVE);break;case"grid":jQuery(g_objThumbs).off(g_objThumbs.events.PANE_CHANGE)}var e;g_objWrapper.off("mousewheel"),jQuery(window).off("resize"),g_functions.destroyFullScreenChangeEvent(),g_objSlider&&(jQuery(g_objSlider).off(g_objSlider.events.ITEM_CHANGED),(e=g_objSlider.getElement()).off("mouseenter"),e.off("mouseleave"),g_objGallery.off(t.events.ENTER_FULLSCREEN),jQuery(g_objSlider).off(g_objSlider.events.ACTION_START),jQuery(g_objSlider).off(g_objSlider.events.ACTION_END),jQuery(g_objSlider).off(g_objSlider.events.CURRENTSLIDE_LOAD_END)),1==g_options.gallery_control_keyboard&&jQuery(document).off("keydown"),g_objTheme&&"function"==typeof g_objTheme.destroy&&g_objTheme.destroy(),g_objWrapper.html("")},this.getArrItems=function(){return g_arrItems},this.getObjects=function(){return{g_galleryID:g_galleryID,g_objWrapper:g_objWrapper,g_objThumbs:g_objThumbs,g_objSlider:g_objSlider,g_options:g_options,g_arrItems:g_arrItems,g_numItems:g_numItems}},this.getObjSlider=function(){return g_objSlider},this.getItem=function(e){if(e<0)throw new Error("item with index: "+e+" not found");if(g_numItems<=e)throw new Error("item with index: "+e+" not found");return g_arrItems[e]},this.getWidth=function(){return t.getSize().width},this.getHeight=function(){return t.getSize().height},this.getSize=function(){var e=g_functions.getElementSize(g_objWrapper);return e.orig_width=g_options.gallery_width,e.orig_height=g_options.gallery_height,e.orig_ratio=e.orig_width/e.orig_height,e},this.getGalleryID=function(){return g_galleryID.replace("#","")},this.getNextItem=function(e,t){"object"==typeof e&&(e=e.index);var i=e+1;if(!0!==t&&1==g_numItems)return null;if(g_numItems<=i){if(1!=g_options.gallery_carousel&&!0!==t)return null;i=0}return g_arrItems[i]},this.getPrevItem=function(e){"object"==typeof e&&(e=e.index);var t=e-1;if(t<0){if(1!=g_options.gallery_carousel&&!0!==forceCarousel)return null;t=g_numItems-1}return g_arrItems[t]},this.getSelectedItem=function(){return g_selectedItem},this.getSelectedItemIndex=function(){return g_selectedItemIndex},this.getNumItems=function(){return g_numItems},this.isLastItem=function(){return g_selectedItemIndex==g_numItems-1},this.isFirstItem=function(){return 0==g_selectedItemIndex},this.getOptions=function(){return g_options},this.getElement=function(){return g_objWrapper},this.___________SET_CONTROLS___________=function(){},this.setNextButton=function(e){e.data("ug-button",!0),g_functions.setButtonOnClick(e,t.nextItem)},this.setPrevButton=function(e){e.data("ug-button",!0),g_functions.setButtonOnClick(e,t.prevItem)},this.setFullScreenToggleButton=function(e){e.data("ug-button",!0),g_functions.setButtonOnTap(e,t.toggleFullscreen),g_objGallery.on(t.events.ENTER_FULLSCREEN,function(){e.addClass("ug-fullscreenmode")}),g_objGallery.on(t.events.EXIT_FULLSCREEN,function(){e.removeClass("ug-fullscreenmode")})},this.destroyFullscreenButton=function(e){g_functions.destroyButton(e),g_objGallery.off(t.events.ENTER_FULLSCREEN),g_objGallery.off(t.events.EXIT_FULLSCREEN)},this.setPlayButton=function(e){e.data("ug-button",!0),g_functions.setButtonOnClick(e,t.togglePlayMode),g_objGallery.on(t.events.START_PLAY,function(){e.addClass("ug-stop-mode")}),g_objGallery.on(t.events.STOP_PLAY,function(){e.removeClass("ug-stop-mode")})},this.destroyPlayButton=function(e){g_functions.destroyButton(e),g_objGallery.off(t.events.START_PLAY),g_objGallery.off(t.events.STOP_PLAY)},this.setProgressIndicator=function(e){g_temp.objProgress=e},this.setTextContainers=function(i,n){g_objGallery.on(t.events.ITEM_CHANGE,function(){var e=t.getSelectedItem();i.html(e.title),n.html(e.description)})},this.showDisabledOverlay=function(){g_objWrapper.children(".ug-overlay-disabled").show()},this.hideDisabledOverlay=function(){g_objWrapper.children(".ug-overlay-disabled").hide()},this.___________END_SET_CONTROLS___________=function(){},this.___________PLAY_MODE___________=function(){},this.startPlayMode=function(){var e;g_temp.isPlayMode=!0,g_temp.isPlayModePaused=!1,g_temp.playTimePassed=0,g_temp.playTimeLastStep=jQuery.now(),g_temp.playHandle=setInterval(advanceNextStep,g_temp.playStepInterval),g_temp.objProgress&&(e=g_temp.objProgress.getElement(),g_temp.objProgress.setProgress(0),e.show()),g_objGallery.trigger(t.events.START_PLAY),g_objSlider&&1==g_objSlider.isCurrentSlideLoadingImage()&&t.pausePlaying()},this.resetPlaying=function(){return 0==g_temp.isPlayMode||(g_temp.playTimePassed=0,void(g_temp.playTimeLastStep=jQuery.now()))},this.pausePlaying=function(){return 1==g_temp.isPlayModePaused||(g_temp.isPlayModePaused=!0,clearInterval(g_temp.playHandle),void g_objGallery.trigger(t.events.PAUSE_PLAYING))},this.continuePlaying=function(){return 0==g_temp.isPlayModePaused||(g_temp.isPlayModePaused=!1,g_temp.playTimeLastStep=jQuery.now(),void(g_temp.playHandle=setInterval(advanceNextStep,g_temp.playStepInterval)))},this.stopPlayMode=function(){g_temp.isPlayMode=!1,clearInterval(g_temp.playHandle),g_temp.playTimePassed=0,g_temp.objProgress&&g_temp.objProgress.getElement().hide(),g_objGallery.trigger(t.events.STOP_PLAY)},this.isPlayMode=function(){return g_temp.isPlayMode},this.togglePlayMode=function(){0==t.isPlayMode()?t.startPlayMode():t.stopPlayMode()},this.___________GENERAL_EXTERNAL___________=function(){},this.shuffleItems=function(){for(var e in g_arrItems=g_functions.arrayShuffle(g_arrItems))g_arrItems[e].index=parseInt(e)},this.setOptions=function(e){g_options=jQuery.extend(g_options,e)},this.selectItem=function(e,i){"number"==typeof e&&(e=t.getItem(e));var n=e.index;if(n==g_selectedItemIndex)return!0;unselectSeletedItem(),g_selectedItem=e,g_selectedItemIndex=n,g_objGallery.trigger(t.events.ITEM_CHANGE,[e,i]),1==g_temp.isPlayMode&&(t.resetPlaying(),1==g_objSlider.isCurrentSlideLoadingImage()&&t.pausePlaying())},this.nextItem=function(){var e=g_selectedItemIndex+1;return 0==g_numItems||(0==g_options.gallery_carousel&&g_numItems<=e||(g_numItems<=e&&(e=0),void t.selectItem(e,"next")))},this.prevItem=function(){var e=-1==g_selectedItemIndex?0:g_selectedItemIndex-1;return 0==g_numItems||(0==g_options.gallery_carousel&&e<0||(e<0&&(e=g_numItems-1),void t.selectItem(e,"prev")))},this.isFullScreen=function(){return 1==g_temp.isFakeFullscreen||1==g_functions.isFullScreen()},this.isFakeFullscreen=function(){return g_temp.isFakeFullscreen},this.toFullScreen=function(){g_functions.setGlobalData("fullscreenID",g_galleryID);var e=g_objWrapper.get(0);0==g_functions.toFullscreen(e)&&toFakeFullScreen()},this.exitFullScreen=function(){1==g_temp.isFakeFullscreen?exitFakeFullscreen():g_functions.exitFullscreen()},this.toggleFullscreen=function(){0==t.isFullScreen()?t.toFullScreen():t.exitFullScreen()},this.resize=function(e,t,i){g_objWrapper.css("width","auto"),g_objWrapper.css("max-width",e+"px"),t&&g_objWrapper.height(t),i||!0===i||onGalleryResized()},this.setSizeClass=function(e,i){e=e||g_objWrapper,i||(i=t.getSize().width),0==i&&(i=jQuery(window).width());var n="";return i<=480?n="ug-under-480":i<=780?n="ug-under-780":i<960&&(n="ug-under-960"),1==e.hasClass(n)||(removeAllSizeClasses(e),void(""!=n&&e.addClass(n)))},this.isMobileMode=function(){return!!g_objWrapper.hasClass("ug-under-480")},this.isSmallWindow=function(){var e=jQuery(window).width();return!e||e<=480},this.isGalleryVisible=function(){return g_objWrapper.is(":visible")},this.changeItems=function(e,t){runGallery(g_galleryID,"nochange",e=e||"noitems",t)},this.addItems=function(e){if(!e||0==e.length)return!1;var t=g_objWrapper.children(".ug-newitems-wrapper");if(0==t.length&&g_objWrapper.append("<div class='ug-newitems-wrapper' style='display:none'></div>"),(t=g_objWrapper.children(".ug-newitems-wrapper")).append(e),fillItemsArray(jQuery(t.children()),!0),loadAPIs(),!g_objTheme||"function"!=typeof g_objTheme.addItems)throw new Error("addItems function not found in the theme");t.remove(),g_objTheme.addItems()},this.getNewAddedItemsIndexes=function(){var i=[];return jQuery.each(g_arrItems,function(e,t){1==t.isNewAdded&&i.push(e)}),i},this.showErrorMessageReplaceGallery=function(e){showErrorMessage(e)},this.setFuncCustomHeight=function(e){g_temp.funcCustomHeight=e},this.__________EXTERNAL_EVENTS_______=function(){},this.triggerEvent=function(e,t){t?("array"!=jQuery.type(t)&&(t=[t]),g_objGallery.trigger(e,t)):g_objGallery.trigger(e)},this.onEvent=function(e,t){g_objGallery.on(e,t)},this.destroyEvent=function(e){g_objGallery.off(e)},this.__________AJAX_REQUEST_______=function(){},this.ajaxRequest=function(e,t,i,n){if(!i||"function"!=typeof i)throw new Error("ajaxRequest error: success function should be passed");var o=g_options.gallery_urlajax;if(!o||""==o)throw new Error("ajaxRequest error: Ajax url don't passed");void 0===t&&(t={});var r={action:"unitegallery_ajax_action",client_action:e,galleryID:g_galleryID,data:t};jQuery.ajax({type:"post",url:g_options.gallery_urlajax,dataType:"json",data:r,success:function(e){if(!e)throw new Error("Empty ajax response!");if(-1==e||0===e)throw new Error("ajax error!!!");if(void 0===e.success)throw new Error("ajax error!!!");return 0==e.success?(showErrorMessage(e.message,"ajax error"),!1):void i(e)},error:function(e,t,i){console.log("Ajax Error!!! "+t),responseText=e.responseText,(n&&"function"==typeof n?n:trace)(responseText)}})},this.requestNewItems=function(e,i,n){var o,r=g_options.gallery_enable_cache;n=n||e,1==i&&(r=!1),1==r&&g_objCache.hasOwnProperty(n)?(o=g_objCache[n],t.changeItems(o,n)):(g_objGallery.trigger(t.events.GALLERY_BEFORE_REQUEST_ITEMS),t.ajaxRequest("front_get_cat_items",{catid:e},function(e){var i=e.html;t.changeItems(i,n)}))},this.run=function(e,t){if(g_options.gallery_debug_errors,t&&t.hasOwnProperty("gallery_debug_errors")&&(g_options.gallery_debug_errors=t.gallery_debug_errors),1==g_options.gallery_debug_errors)try{runGallery(e,t)}catch(e){var i,n,o;"object"==typeof e?(o=e.message,i=e.lineNumber,n=e.fileName,e.stack,o+=" <br><br> in file: "+n,o+=" <b> line "+i+"</b>",trace(e)):o=e,showErrorMessage(o=o.replace("Error:",""))}else runGallery(e,t)}}function UGLightbox(){function o(){1==X.isCompact&&1==V.lightbox_show_textpanel&&(V.lightbox_slider_image_padding_bottom=X.initTextPanelHeight),1==X.isCompact&&"inside"==V.lightbox_arrows_position&&(X.isArrowsInside=!0),1==X.isArrowsInside&&0==V.lightbox_arrows_inside_alwayson&&(X.isArrowsOnHoverMode=!0),0==V.lightbox_show_textpanel&&(X.isTopPanelEnabled=!1,X.topPanelHeight=0,V.lightbox_slider_image_padding_top=0)}function n(e){if(!Y)return 1;var t={slider_image_padding_top:e};Y.setOptions(t),Y.refreshSlideItems()}function a(){var e,t,i;W&&(!U||0!=(e=W.height())&&0!=W.is(":visible")&&(t=e,i=U.getSize().height,e!=X.topPanelHeight&&(t=X.topPanelHeight),t<i&&(t=i),e!=t&&(W.height(t),Y&&0==Y.isAnimating()&&n(t))))}function d(e){if(0==X.isOpened)return!1;if(!U)return!1;if(!Y)return!1;var t,i=$.getElementSize(H),n=U.getSize();if(0==n.width||120<n.height)return!1;if(e||(t=Y.getSlideImage(),e=$.getElementSize(t)),0==e.height||0==e.width)return!1;if(e.bottom+n.height<i.height)return!1;var o=Y.getOptions(),r=n.height;if(r!=o.slider_image_padding_bottom){var s={slider_image_padding_bottom:r};if(0==Y.isAnimating())return Y.setOptions(s),Y.refreshSlideItems(),!0}return!1}function i(e){var t=($.getElementSize(H),Y.getSlideImage()),i=$.getElementSize(t);if(0==i.width)return!1;X.textPanelLeft=i.left,X.textPanelTop=i.bottom;var n,o,r,s,a,l=i.width;G&&(l-=(n=$.getElementSize(G)).width,o=i.right-n.width,$.placeElement(G,o,X.textPanelTop)),U&&(U.show(),U.refresh(!0,!0,l),(r=i)||(a=Y.getSlideImage(),r=$.getElementSize(a)),X.textPanelTop=r.bottom,!0===s&&U.positionPanel(X.textPanelTop,X.textPanelLeft)),0==d(i)&&(X.positionFrom="handleCompactTextpanelSizes",U&&(U.positionPanel(X.textPanelTop,X.textPanelLeft),!0===e&&(e(),v())))}function c(){return 0==Y.isCurrentSlideType("image")||1==Y.isCurrentImageInPlace()}function r(e,t){var i,n,o,r,s,a,l,d,u;0!=X.isArrowsInside&&N&&(i=c(),N.show(),R.show(),X.positionFrom="positionArrowsInside",1==X.isArrowsOnHoverMode&&1==i&&0==g()&&p(!0),l=(a=0==i?(r=$.getElementRelativePos(N,"left",V.lightbox_arrows_offset),s=$.getElementRelativePos(N,"middle"),$.getElementRelativePos(R,"right",V.lightbox_arrows_offset)):(n=Y.getSlideImage(),o=$.getElementSize(n),$.getElementSize(Y.getElement()),r=$.getElementRelativePos(N,"left",0,n)+o.left+V.lightbox_arrows_inside_offset,s=$.getElementRelativePos(N,"middle",0,n)+o.top,$.getElementRelativePos(N,"right",0,n)+o.left-V.lightbox_arrows_inside_offset),s),!0===t?(d={left:r,top:s},u={left:a,top:l},N.stop().animate(d,{duration:X.fadeDuration}),R.stop().animate(u,{duration:X.fadeDuration})):(N.stop(),R.stop(),$.placeElement(N,r,s),$.placeElement(R,a,l)),1==e&&_(t))}function s(e,t){X.positionFrom=null;var i,n,o,r,s,a,l,d=c(),u=$.getElementRelativePos(D,"right",2,H);0==d?(a=2,s=u):(i=Y.getSlideImage(),n=$.getElementSize(i),o=$.getElementSize(Y.getElement()),r=$.getElementSize(D),o.top==o.height&&(o.top=0),s=o.left+n.right-r.width/2+V.lightbox_compact_closebutton_offsetx,(a=o.top+n.top-r.height/2-V.lightbox_compact_closebutton_offsety)<2&&(a=2),u<s&&(s=u)),!0===t?(l={left:s,top:a},D.stop().animate(l,{duration:X.fadeDuration})):(D.stop(),$.placeElement(D,s,a)),!0===e&&(!0!==t&&D.stop(),D.fadeTo(X.fadeDuration,1))}function t(){D&&D.stop().fadeTo(X.fadeDuration,0),e(),u(),X.positionFrom="hideCompactElements",1==X.isArrowsInside&&p()}function l(){var e,t,i,n=$.getElementSize(H);W&&$.setElementSizeAndPosition(W,0,0,n.width,X.topPanelHeight),N&&0==X.isArrowsInside&&(1==V.lightbox_hide_arrows_onvideoplay&&(N.show(),R.show()),$.placeElement(N,"left","middle",V.lightbox_arrows_offset),$.placeElement(R,"right","middle",V.lightbox_arrows_offset)),0==X.isCompact&&$.placeElement(D,"right","top",2,2),U&&(X.positionFrom="positionElements",0==X.isCompact?(e=n,t={},i=V.lightbox_textpanel_width,e.width-47-40<i?(t.textpanel_padding_left=47,t.textpanel_padding_right=40,t.textpanel_title_text_align="center",t.textpanel_desc_text_align="center"):(t.textpanel_padding_left=Math.floor((e.width-i)/2),t.textpanel_padding_right=t.textpanel_padding_left,t.textpanel_title_text_align="left",t.textpanel_desc_text_align="left",V.lightbox_textpanel_title_text_align&&(t.textpanel_title_text_align=V.lightbox_textpanel_desc_text_align),V.lightbox_textpanel_desc_text_align&&(t.textpanel_desc_text_align=V.lightbox_textpanel_desc_text_align)),U.setOptions(t),U.refresh(!0,!0),a(),U.positionPanel()):(f(),v()));var o,r=n.width,s=n.height;Y&&(W&&(o={slider_image_padding_top:W.height()},Y.setOptions(o)),Y.setSize(r,s),Y.setPosition(0,0))}function e(){U&&U.getElement().stop().fadeTo(X.fadeDuration,0)}function u(){G&&G.stop().fadeTo(X.fadeDuration,0)}function g(){if(!X.lastMouseX)return!0;var e={pageX:X.lastMouseX,pageY:X.lastMouseY};return Y.isMouseInsideSlideImage(e)}function p(e,t){return N&&(1==X.isArrowsOnHoverMode&&!1===t?(g(),1):void(!0===e?(N.stop().fadeTo(0,0),R.stop().fadeTo(0,0)):(N.stop().fadeTo(X.fadeDuration,0),R.stop().fadeTo(X.fadeDuration,0))))}function _(e,t){return N&&(1==X.isArrowsOnHoverMode&&!0!==t&&1==c()||(1==Y.isSwiping()||(!0!==e&&(N.stop(),R.stop()),N.fadeTo(X.fadeDuration,1),void R.fadeTo(X.fadeDuration,1))))}function h(e){U&&(e=e||Y.getCurrentItem(),U.setTextPlain(e.title,e.description))}function m(e){var t,i;G&&(e=e||Y.getCurrentItem(),t=F.getNumItems(),i=e.index+1,G.html(i+" / "+t))}function f(){return U&&void U.getElement().show().stop().fadeTo(X.fadeDuration,1)}function v(){G&&G.stop().fadeTo(X.fadeDuration,1)}function b(){return 0==X.isCompact||void t()}function y(){if(0==X.isCompact)return!0;X.positionFrom="onZoomChange",s(!1,!0),r(!1,!0),1==X.isCompact&&(0==(Y.isCurrentSlideType("image")&&1==Y.isCurrentImageInPlace())?(e(),u()):(X.positionFrom="onZoomChange",f(),v()))}function w(){if(0==X.isCompact)return!0;X.positionFrom="onSliderAfterReturn",s(!0),r(!0),0==d()&&i(),f(),v()}function T(e,t){return t=jQuery(t),0==X.isCompact||(0==Y.isSlideCurrent(t)||(X.positionFrom="onSliderAfterPutImage",s(!0),r(!0),void i()))}function I(){var e,t=Y.getOptions().slider_image_padding_top;!W||(e=W.height())!=t&&n(e),1==X.isCompact&&(h(),m(),X.positionFrom="onSliderTransitionEnd",s(!0),r(!0),0!=Y.isSlideActionActive()||0==d()&&i(),f(),v())}function S(e,t){0==X.isCompact?(G&&m(t),U&&(h(t),0==X.isRightNowOpened&&(U.positionElements(!1),a(),U.positionPanel()))):0==Y.isAnimating()&&(U&&h(t),G&&m(t)),0==X.isSliderChangedOnce&&(X.isSliderChangedOnce=!0,B.trigger(Q.events.LIGHTBOX_INIT))}function E(e,t){return!("image"==Y.getSlideType()||0!=X.isCompact||!Y.isSlideActionActive())||(1==Y.isPreloading()?(Q.close("slider"),!0):void(1==V.lightbox_close_on_emptyspace&&0==Y.isMouseInsideSlideImage(t)&&Q.close("slider_inside")))}function x(){l()}function P(){W?W&&W.hide():G&&G.hide(),N&&1==V.lightbox_hide_arrows_onvideoplay&&(N.hide(),R.hide())}function C(){W?(W&&W.show(),a()):G&&G.show(),N&&1==V.lightbox_hide_arrows_onvideoplay&&(N.show(),R.show())}function j(e,t,i){var n=!1;switch(t){case 27:1==X.isOpened&&Q.close("keypress");break;case 38:case 40:case 33:case 34:n=!0}1==X.isOpened&&1==n&&i.preventDefault()}function A(){1==X.isArrowsOnHoverMode&&_(!1,!0)}function k(e){X.positionFrom="hideCompactElements",1==X.isArrowsOnHoverMode&&1==c()&&p(!1,!0)}function M(e){X.lastMouseX=e.pageX,X.lastMouseY=e.pageY,1==(!N||0==N.is(":visible")||1!=N.css("opacity"))&&g()&&0==Y.isAnimating()&&(X.positionFrom="onMouseMove",N&&0==N.is(":animated")&&_(!1,!0))}function O(e,t,i,n){if(0==X.isOpened)return!0;switch(V.gallery_mousewheel_role){default:case"zoom":"image"!=Y.getSlideType()&&e.preventDefault();break;case"none":e.preventDefault();break;case"advance":F.onGalleryMouseWheel(e,t,i,n)}}var z,H,L,N,R,D,G,W,Q=this,B=jQuery(this),F=new UniteGalleryMain,Y=new UGSlider,$=new UGFunctions,U=new UGTextPanel,V={lightbox_type:"wide",lightbox_show_textpanel:!0,lightbox_textpanel_width:550,lightbox_hide_arrows_onvideoplay:!0,lightbox_arrows_position:"sides",lightbox_arrows_offset:10,lightbox_arrows_inside_offset:10,lightbox_arrows_inside_alwayson:!1,lightbox_overlay_color:null,lightbox_overlay_opacity:1,lightbox_top_panel_opacity:null,lightbox_show_numbers:!0,lightbox_numbers_size:null,lightbox_numbers_color:null,lightbox_numbers_padding_top:null,lightbox_numbers_padding_right:null,lightbox_compact_closebutton_offsetx:1,lightbox_compact_closebutton_offsety:1,lightbox_close_on_emptyspace:!0},X={topPanelHeight:44,initTextPanelHeight:26,isOpened:!(this.events={LIGHTBOX_INIT:"lightbox_init"}),isRightNowOpened:!1,putSlider:!0,isCompact:!1,fadeDuration:300,positionFrom:null,textPanelTop:null,textPanelLeft:null,isArrowsInside:!1,isArrowsOnHoverMode:!1,lastMouseX:null,lastMouseY:null,originalOptions:null,isSliderChangedOnce:!1,isTopPanelEnabled:!0},q={lightbox_slider_controls_always_on:!0,lightbox_slider_enable_bullets:!1,lightbox_slider_enable_arrows:!1,lightbox_slider_enable_progress_indicator:!1,lightbox_slider_enable_play_button:!1,lightbox_slider_enable_fullscreen_button:!1,lightbox_slider_enable_zoom_panel:!1,lightbox_slider_enable_text_panel:!1,lightbox_slider_scale_mode_media:"down",lightbox_slider_scale_mode:"down",lightbox_slider_loader_type:3,lightbox_slider_loader_color:"black",lightbox_slider_transition:"fade",lightbox_slider_image_padding_top:X.topPanelHeight,lightbox_slider_image_padding_bottom:0,lightbox_slider_video_padding_top:0,lightbox_slider_video_padding_bottom:0,lightbox_textpanel_align:"middle",lightbox_textpanel_padding_top:5,lightbox_textpanel_padding_bottom:5,slider_video_constantsize:!1,lightbox_slider_image_border:!1,lightbox_textpanel_enable_title:!0,lightbox_textpanel_enable_description:!1,lightbox_textpanel_desc_style_as_title:!0,lightbox_textpanel_enable_bg:!1,video_enable_closebutton:!1,lightbox_slider_video_enable_closebutton:!1,video_youtube_showinfo:!1,lightbox_slider_enable_links:!1},Z={lightbox_overlay_opacity:.6,lightbox_slider_image_border:!0,lightbox_slider_image_shadow:!0,lightbox_slider_image_padding_top:30,lightbox_slider_image_padding_bottom:30,slider_video_constantsize:!0,lightbox_textpanel_align:"bottom",lightbox_textpanel_title_text_align:"left",lightbox_textpanel_desc_text_align:"left",lightbox_textpanel_padding_left:10,lightbox_textpanel_padding_right:10};this.destroy=function(){var e;jQuery(document).unbind("mousemove"),L.off("touchstart"),L.off("touchend"),D.off("click"),z.off(F.events.ITEM_CHANGE),Y&&(jQuery(Y).off(Y.events.TRANSITION_END),jQuery(Y).off(Y.events.CLICK),jQuery(Y).off(Y.events.START_DRAG),jQuery(Y).off(Y.events.TRANSITION_START),jQuery(Y).off(Y.events.AFTER_DRAG_CHANGE),jQuery(Y).off(Y.events.AFTER_RETURN),e=Y.getVideoObject(),jQuery(e).off(e.events.PLAY_START),jQuery(e).off(e.events.PLAY_STOP),jQuery(Y).on(Y.events.IMAGE_MOUSEENTER,A),jQuery(Y).on(Y.events.IMAGE_MOUSELEAVE,k),Y.destroy()),jQuery(window).unbind("resize"),z.off(F.events.GALLERY_KEYPRESS,j),H.off("mousewheel"),H.remove()},this.open=function(e){var t=F.getItem(e);X.isOpened=!0,X.isRightNowOpened=!0,setTimeout(function(){X.isRightNowOpened=!1},100),Y&&Y.setItem(t,"lightbox_open"),U&&U.setTextPlain(t.title,t.description),L.stop().fadeTo(0,0),H.show(),H.fadeTo(0,1),L.stop().fadeTo(X.fadeDuration,V.lightbox_overlay_opacity),l(),1==X.isCompact&&(1==Y.isPreloading()?(D&&D.hide(),N&&1==X.isArrowsInside&&(N.hide(),R.hide()),G&&G.hide(),U&&U.hide()):1==X.isArrowsInside&&(N.hide(),R.hide())),Y&&Y.startSlideAction(),z.trigger(F.events.OPEN_LIGHTBOX,t)},this.close=function(e){X.isOpened=!1,1==X.isCompact&&t(),Y&&Y.stopSlideAction(),"image"!=Y.getSlideType()?H.hide():H.fadeTo(X.fadeDuration,0,function(){H.hide()}),z.trigger(F.events.CLOSE_LIGHTBOX)},this.init=function(e,t){var i,n;n=t,F=i=e,z=jQuery(i),V=jQuery.extend(V,q),V=jQuery.extend(V,n),X.originalOptions=jQuery.extend({},V),"compact"==V.lightbox_type&&(X.isCompact=!0,V=jQuery.extend(V,Z),V=jQuery.extend(V,n)),o(),Y=1==X.putSlider?(F.initSlider(V,"lightbox"),g_objects=i.getObjects(),g_objects.g_objSlider):null,1==V.lightbox_show_textpanel?U.init(F,V,"lightbox"):U=null},this.putHtml=function(){var e,t;F.isSmallWindow()&&1==X.isCompact&&(X.isCompact=!1,o(),X.isArrowsInside=!1,X.isArrowsOnHoverMode=!1,(V=jQuery.extend({},X.originalOptions)).lightbox_arrows_position="sides",Y.setOptions(V)),t=e="",1==X.isCompact&&(t=" ug-lightbox-compact"),e+="<div class='ug-gallery-wrapper ug-lightbox"+t+"'>",e+="<div class='ug-lightbox-overlay'></div>",0==X.isCompact&&X.isTopPanelEnabled?(e+="<div class='ug-lightbox-top-panel'>",e+="<div class='ug-lightbox-top-panel-overlay'></div>",V.lightbox_show_numbers&&(e+="<div class='ug-lightbox-numbers'></div>"),e+="</div>"):V.lightbox_show_numbers&&(e+="<div class='ug-lightbox-numbers'></div>"),e+="<div class='ug-lightbox-button-close'></div>",e+="<div class='ug-lightbox-arrow-left'></div>",e+="<div class='ug-lightbox-arrow-right'></div>",e+="</div>",H=jQuery(e),jQuery("body").append(H),Y&&Y.setHtml(H),L=H.children(".ug-lightbox-overlay"),0!=X.isCompact||1!=X.isTopPanelEnabled||0==(W=H.children(".ug-lightbox-top-panel")).length&&(W=null),D=H.find(".ug-lightbox-button-close"),V.lightbox_show_numbers&&(G=H.find(".ug-lightbox-numbers")),N=H.children(".ug-lightbox-arrow-left"),R=H.children(".ug-lightbox-arrow-right"),U&&(W?U.appendHTML(W):U.appendHTML(H))},this.run=function(){var e,t;null!==V.lightbox_overlay_color&&L.css("background-color",V.lightbox_overlay_color),null!==V.lightbox_overlay_opacity&&L.fadeTo(0,V.lightbox_overlay_opacity),W&&null!==V.lightbox_top_panel_opacity&&W.children(".ug-lightbox-top-panel-overlay").fadeTo(0,V.lightbox_top_panel_opacity),G&&(t={},null!==V.lightbox_numbers_size&&(t["font-size"]=V.lightbox_numbers_size+"px"),V.lightbox_numbers_color&&(t.color=V.lightbox_numbers_color),null!==V.lightbox_numbers_padding_right&&(t["padding-right"]=V.lightbox_numbers_padding_right+"px"),null!==V.lightbox_numbers_padding_top&&(t["padding-top"]=V.lightbox_numbers_padding_top+"px"),G.css(t)),Y&&Y.run(),L.on("touchstart",function(e){e.preventDefault()}),L.on("touchend",function(e){Q.close("overlay")}),$.addClassOnHover(R,"ug-arrow-hover"),$.addClassOnHover(N,"ug-arrow-hover"),$.addClassOnHover(D),F.setNextButton(R),F.setPrevButton(N),D.click(function(){Q.close("button")}),z.on(F.events.ITEM_CHANGE,S),Y&&(jQuery(Y).on(Y.events.TRANSITION_END,I),jQuery(Y).on(Y.events.CLICK,E),e=Y.getVideoObject(),jQuery(e).on(e.events.PLAY_START,P),jQuery(e).on(e.events.PLAY_STOP,C),jQuery(Y).on(Y.events.START_DRAG,b),jQuery(Y).on(Y.events.TRANSITION_START,b),jQuery(Y).on(Y.events.AFTER_DRAG_CHANGE,w),jQuery(Y).on(Y.events.AFTER_RETURN,w),jQuery(Y).on(Y.events.AFTER_PUT_IMAGE,T),jQuery(Y).on(Y.events.ZOOM_CHANGE,y),jQuery(Y).on(Y.events.IMAGE_MOUSEENTER,A),jQuery(Y).on(Y.events.IMAGE_MOUSELEAVE,k)),jQuery(window).resize(function(){return 0==X.isOpened||void $.whenContiniousEventOver("lightbox_resize",x,100)}),z.on(F.events.GALLERY_KEYPRESS,j),1==X.isArrowsOnHoverMode&&jQuery(document).bind("mousemove",M),H.on("mousewheel",O)}}function UGCarousel(){function n(e,t){t=t||z.initTileHeight/z.initTileWidth*e;var i={tile_width:z.tileWidth=e,tile_height:t};k.setOptions(i),O.tile_width=e,O.tile_height=t,k.resizeAllTiles(e),h(!0)}function e(){if(null===z.carouselMaxWidth)throw new Error("The carousel width not set");var e,t;z.tileWidth<z.initTileWidth?((t=z.carouselMaxWidth-2*O.carousel_padding)>z.initTileWidth&&(t=z.initTileWidth),n(t),e=A.getNumItemsInSpace(z.carouselMaxWidth,t,O.carousel_space_between_tiles)):(e=A.getNumItemsInSpace(z.carouselMaxWidth,z.tileWidth,O.carousel_space_between_tiles))<=0&&(e=1,n(t=z.carouselMaxWidth-2*O.carousel_padding));var i=A.getSpaceByNumItems(e,z.tileWidth,O.carousel_space_between_tiles);i+=2*O.carousel_padding,E.width(i),1==z.isFirstTimeRun?(k.initEvents(),E.bind("mousedown touchstart",c),jQuery("body").bind("mousemove touchmove",v),jQuery(window).add("body").bind("mouseup touchend",b),E.hover(y,w),k.run(),jQuery.each(S,function(e,t){t.objThumbWrapper.data("index",e),I.trigger(z.eventSizeChange,[t.objThumbWrapper,!0]),t.objTileOriginal=t.objThumbWrapper.clone(!0,!0)}),h(!0)):(1==O.carousel_autoplay&&P.pauseAutoplay(),d(0,!1)),1==O.carousel_autoplay&&P.startAutoplay(),A.placeElement(x,0,O.carousel_padding),u(),z.isFirstTimeRun=!1}function g(){return A.getElementSize(x).left}function s(e){return A.getMousePosition(e).pageX}function a(){return x.children(".ug-thumb-wrapper")}function p(e){return A.getNumItemsInSpace(e,z.tileWidth,O.carousel_space_between_tiles)}function _(){return a().length}function l(e){r(e);var t=a();return jQuery(t[e])}function o(){return p(A.getElementSize(E).width)}function h(e){e=e||!1;var n,o=a(),r=0,s=0;return jQuery.each(o,function(e,t){t=jQuery(t),A.placeElement(t,r,0);var i=A.getElementSize(t);r+=i.width+O.carousel_space_between_tiles,s=Math.max(s,i.height),e==o.length-1&&(n=i.right)}),x.width(n),s+=2*O.carousel_padding,!0===e&&(x.height(s),E.height(s)),d(z.numCurrent,!1),n}function r(e){if(e>a().length-1)throw new Error("Wrogn tile number: "+e)}function m(e,i){var t=function(e,t,i){if(null==(a=e.data("index")))throw new Error("every tile should have index!");for(var n,o=[],r=0;r<t;r++){if(!(n="prev"==i?j.getPrevItem(a,!0):j.getNextItem(a,!0)))throw new Error("the item to add is empty");var s=n.objTileOriginal.clone(!0,!0),a=n.index;s.addClass("cloned"),o.push(s)}return o}("left"==i?x.children(".ug-thumb-wrapper").first():x.children(".ug-thumb-wrapper").last(),e,"left"==i?"prev":"next");jQuery.each(t,function(e,t){"left"==i?x.prepend(t):x.append(t),I.trigger(z.eventSizeChange,t),k.loadTileImage(t)})}function f(e,t){r(void 0);for(var i=a(),n=i.length,o=0;o<e;o++)"left"==t?jQuery(i[o]).remove():jQuery(i[n-1-o]).remove()}function d(e,t,i){if(void 0===t){t=!0;if(x.is(":animated"))return 1}var n,o,r=l(e),s={left:-A.getElementSize(r).left+O.carousel_padding+"px"};!0===t?(n=O.carousel_scroll_duration,o=O.carousel_scroll_easing,!0===i&&(n=z.scrollShortDuration,o=z.scrollShortEasing),x.stop(!0).animate(s,{duration:n,easing:o,queue:!1,complete:function(){z.numCurrent=e,u()}})):(z.numCurrent=e,x.css(s))}function t(){var e,t,i,n;d((e=-g(),t=p(e),i=A.getElementSize(l(t)).left,n=A.getElementSize(l(t+1)).left,Math.abs(i-e)<Math.abs(n-e)?t:t+1),!0,!0)}function u(){var e,t,i,n,o=(n=-g(),z.sideSpace-n),r=(e=A.getElementSize(E),t=A.getElementSize(x),i=t.width-e.width+t.left,z.sideSpace-i),s=0,a=0,l=0,d=0,u=_();if(o>z.spaceActionSize?(m(s=p(o),"left"),z.numCurrent+=s):o<-z.spaceActionSize&&(f(l=p(Math.abs(o)),"left"),z.numCurrent-=l),r>z.spaceActionSize?m(a=p(r),"right"):r<-z.spaceActionSize&&f(d=p(Math.abs(r)),"right"),u<d)throw new Error("Can't remove more then num tiles");var c=!1;return(s||a||l||d)&&(h(),c=!0),c}function i(){"left"==O.carousel_autoplay_direction?P.scrollRight(1):P.scrollLeft(1)}function c(e){return 1==z.touchActive||(z.touchActive=!0,P.pauseAutoplay(),z.startTime=jQuery.now(),z.startMousePos=s(e),z.startInnerPos=g(),z.lastTime=z.startTime,z.lastMousePos=z.startMousePos,void A.storeEventData(e,z.storedEventID))}function v(e){if(0==z.touchActive)return!0;A.updateStoredEventData(e,z.storedEventID),e.preventDefault();var t=null;if(1==O.carousel_vertical_scroll_ondrag&&(t=A.handleScrollTop(z.storedEventID)),"vert"===t)return!0;z.lastMousePos=s(e);var i,n=z.lastMousePos-z.startMousePos,o=z.startInnerPos+n,r=0<n?"prev":"next";0<o&&"prev"==r&&(o/=3),o<-A.getElementSize(x).width&&"next"==r&&(o=z.startInnerPos+n/3),i={left:o+"px"},x.css(i)}function b(e){return 0==z.touchActive||(z.touchActive=!1,t(),void P.unpauseAutoplay())}function y(e){return 0==O.carousel_autoplay_pause_onhover||void(1==z.isPlayMode&&0==z.isPaused&&P.pauseAutoplay())}function w(e){return 0==O.carousel_autoplay_pause_onhover||void P.unpauseAutoplay()}function T(){var e=z.lastTime-z.startTime,t=Math.abs(z.lastMousePos-z.startMousePos);return!(300<e)&&!(30<t)}var I,S,E,x,P=this,C=jQuery(this),j=new UniteGalleryMain,A=new UGFunctions,k=new UGTileDesign,M=new UGThumbsGeneral,O={carousel_padding:8,carousel_space_between_tiles:20,carousel_navigation_numtiles:3,carousel_scroll_duration:500,carousel_scroll_easing:"easeOutCubic",carousel_autoplay:!0,carousel_autoplay_timeout:3e3,carousel_autoplay_direction:"right",carousel_autoplay_pause_onhover:!0,carousel_vertical_scroll_ondrag:!1},z={eventSizeChange:"thumb_size_change",isFirstTimeRun:!0,carouselMaxWidth:null,tileWidth:0,initTileWidth:0,initTileHeight:0,sideSpace:1500,spaceActionSize:500,numCurrent:0,touchActive:!(this.events={START_PLAY:"carousel_start_play",PAUSE_PLAY:"carousel_pause_play",STOP_PLAY:"carousel_stop_play"}),startInnerPos:0,lastTime:0,startTime:0,startMousePos:0,lastMousePos:0,scrollShortDuration:200,scrollShortEasing:"easeOutQuad",handle:null,isPlayMode:!1,isPaused:!1,storedEventID:"carousel"};this.startAutoplay=function(){z.isPlayMode=!0,z.isPaused=!1,C.trigger(P.events.START_PLAY),z.handle&&clearInterval(z.handle),z.handle=setInterval(i,O.carousel_autoplay_timeout)},this.unpauseAutoplay=function(){return 0==z.isPlayMode||(0==z.isPaused||void P.startAutoplay())},this.pauseAutoplay=function(){return 0==z.isPlayMode||(z.isPaused=!0,z.handle&&clearInterval(z.handle),void C.trigger(P.events.PAUSE_PLAY))},this.stopAutoplay=function(){return 0==z.isPlayMode||(z.isPaused=!1,z.isPlayMode=!1,z.handle&&clearInterval(z.handle),void C.trigger(P.events.STOP_PLAY))},this.destroy=function(){z.handle&&clearInterval(z.handle),C.off(P.events.START_PLAY),C.off(P.events.STOP_PLAY),E.unbind("mousedown"),E.unbind("touchstart"),jQuery("body").unbind("mousemove"),jQuery("body").unbind("touchmove"),jQuery(window).add("body").unbind("mouseup").unbind("touchend"),E.off("mouseenter").off("mouseleave"),k.destroy()},this.init=function(e,t,i){var n,o;i&&this.setMaxWidth(i),o=t,g_objects=(n=e).getObjects(),j=n,jQuery(n),I=g_objects.g_objWrapper,S=g_objects.g_arrItems,O=jQuery.extend(O,o),k.setFixedMode(),k.setApproveClickFunction(T),k.init(n,O),M=k.getObjThumbs(),O=k.getOptions(),z.initTileWidth=O.tile_width,z.initTileHeight=O.tile_height,z.tileWidth=O.tile_width},this.setMaxWidth=function(e){z.carouselMaxWidth=e},this.setHtml=function(e){I.append("<div class='ug-carousel-wrapper'><div class='ug-carousel-inner'></div></div>"),E=I.children(".ug-carousel-wrapper"),x=E.children(".ug-carousel-inner"),k.setHtml(x),M.getThumbs().fadeTo(0,1)},this.getElement=function(){return E},this.getObjTileDesign=function(){return k},this.getEstimatedHeight=function(){return O.tile_height+2*O.carousel_padding},this.run=function(){e()},this.scrollRight=function(e){e&&"object"!=typeof e||(e=O.carousel_navigation_numtiles);var t=o();t<e&&(e=t);var i=z.numCurrent-e;i<=0&&(i=0),d(i)},this.scrollLeft=function(e){e&&"object"!=typeof e||(e=O.carousel_navigation_numtiles);var t=o();t<e&&(e=t);var i=_(),n=z.numCurrent+e;i<=n&&(n=i-1),d(n)},this.setScrollLeftButton=function(e){A.setButtonMobileReady(e),A.setButtonOnClick(e,P.scrollLeft)},this.setScrollRightButton=function(e){A.setButtonMobileReady(e),A.setButtonOnClick(e,P.scrollRight)},this.setPlayPauseButton=function(e){A.setButtonMobileReady(e),1==z.isPlayMode&&0==z.isPaused&&e.addClass("ug-pause-icon"),C.on(P.events.START_PLAY,function(){e.addClass("ug-pause-icon")}),C.on(P.events.STOP_PLAY,function(){e.removeClass("ug-pause-icon")}),A.setButtonOnClick(e,function(){0==z.isPlayMode||1==z.isPaused?P.startAutoplay():P.stopAutoplay()})}}function UGTabs(){function e(){"select"==a.tabs_type?r.change(i):o.click(t)}function n(e){s.requestNewItems(e)}function t(){var e=a.tabs_class_selected,t=jQuery(this);if(t.hasClass(e))return!0;o.not(t).removeClass(e),t.addClass(e);var i=t.data("catid");return!i||void n(i)}function i(){var e=jQuery(this).val();return!e||void n(e)}var o,r,s=(jQuery(this),new UniteGalleryMain),a=(new UGFunctions,{tabs_type:"tabs",tabs_container:"#ug_tabs",tabs_class_selected:"ug-tab-selected"});this.events={},this.destroy=function(){r&&r.off("change"),o&&o.off("click")},this.init=function(e,t){var i;i=t,s=e,jQuery(s),"select"==(a=jQuery.extend(a,i)).tabs_type?r=jQuery(a.tabs_container):o=jQuery(a.tabs_container+" .ug-tab")},this.run=function(){e()}}function UG_API(e){function n(e){var t={index:e.index,title:e.title,description:e.description,urlImage:e.urlImage,urlThumb:e.urlThumb},i=e.objThumbImage.data();for(var n in i){switch(n){case"image":case"description":continue}t[n]=i[n]}return t}var o=this,r=(jQuery(o),new UniteGalleryMain),s=[],r=e,a=jQuery(e);this.events={API_INIT_FUNCTIONS:"api_init",API_ON_EVENT:"api_on_event"},this.on=function(e,t,i){switch(!0!==i&&s.push({event:e,func:t}),e){case"item_change":a.on(r.events.ITEM_CHANGE,function(){var e=n(r.getSelectedItem());t(e.index,e)});break;case"resize":a.on(r.events.SIZE_CHANGE,t);break;case"enter_fullscreen":a.on(r.events.ENTER_FULLSCREEN,t);break;case"exit_fullscreen":a.on(r.events.EXIT_FULLSCREEN,t);break;case"play":a.on(r.events.START_PLAY,t);break;case"stop":a.on(r.events.STOP_PLAY,t);break;case"pause":a.on(r.events.PAUSE_PLAYING,t);break;case"continue":a.on(r.events.CONTINUE_PLAYING,t);break;case"open_lightbox":a.on(r.events.OPEN_LIGHTBOX,t);break;case"close_lightbox":a.on(r.events.CLOSE_LIGHTBOX,t);break;default:console&&console.log("wrong api event: "+e)}a.trigger(o.events.API_ON_EVENT,[e,t])},this.play=function(){r.startPlayMode()},this.stop=function(){r.stopPlayMode()},this.togglePlay=function(){r.togglePlayMode()},this.enterFullscreen=function(){r.toFullScreen()},this.exitFullscreen=function(){r.exitFullScreen()},this.toggleFullscreen=function(){r.toggleFullscreen()},this.resetZoom=function(){var e=r.getObjSlider();return!!e&&void e.zoomBack()},this.zoomIn=function(){var e=r.getObjSlider();return!!e&&void e.zoomIn()},this.zoomOut=function(){var e=r.getObjSlider();return!!e&&void e.zoomOut()},this.nextItem=function(){r.nextItem()},this.prevItem=function(){r.prevItem()},this.selectItem=function(e){r.selectItem(e)},this.resize=function(e,t){t?r.resize(e,t):r.resize(e)},this.getItem=function(e){return n(r.getItem(e))},this.getNumItems=function(){return r.getNumItems()},this.reloadGallery=function(e){e=e||{},r.run(null,e),s.map(function(e){o.on(e.event,e.func,!0)})},this.destroy=function(){r.destroy()},a.trigger(o.events.API_INIT_FUNCTIONS,o)}function UGLoadMore(){function i(){o.show()}function n(){r.hide(),s.show();var e={numitems:l.getNumItems()};l.ajaxRequest("front_loadmore",e,function(e){s.hide();var t=e.html_items;1==e.show_loadmore?(r.blur().show(),s.hide()):o.hide(),l.addItems(t)},function(e){e="Ajax Error!"+e,s.hide(),a.show(),a.html(e)})}var o,r,s,a,l=(jQuery(this),new UniteGalleryMain),d=(new UGFunctions,{isInited:!1}),u={loadmore_container:"ug_loadmore_wrapper"};this.events={},this.destroy=function(){return 0!=d.isInited&&void 0},this.init=function(e,t){return l=e,jQuery(l),u=jQuery.extend(u,t),0==(o=jQuery("#"+u.loadmore_container)).length||0==(r=o.find(".ug-loadmore-button")).length||0!=(s=o.find(".ug-loadmore-loader")).length&&0!=(a=o.find(".ug-loadmore-error")).length&&(d.isInited=!0),0==d.isInited?(trace("load more not inited, something is wrong"),!1):(l.onEvent("tiles_first_placed",i),void r.click(n))}}!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"undefined"!=typeof exports?module.exports=e(require("jquery")):e(jQuery)}(function(d){"use strict";var o,s=window.Slick||{};o=0,(s=function(e,t){var i,n=this;n.defaults={accessibility:!0,adaptiveHeight:!1,appendArrows:d(e),appendDots:d(e),arrows:!0,asNavFor:null,prevArrow:'<button class="slick-prev" aria-label="Previous" type="button">Previous</button>',nextArrow:'<button class="slick-next" aria-label="Next" type="button">Next</button>',autoplay:!1,autoplaySpeed:3e3,centerMode:!1,centerPadding:"50px",cssEase:"ease",customPaging:function(e,t){return d('<button type="button" />').text(t+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,focusOnChange:!1,infinite:!0,initialSlide:0,lazyLoad:"ondemand",mobileFirst:!1,pauseOnHover:!0,pauseOnFocus:!0,pauseOnDotsHover:!1,respondTo:"window",responsive:null,rows:1,rtl:!1,slide:"",slidesPerRow:1,slidesToShow:1,slidesToScroll:1,speed:500,swipe:!0,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,verticalSwiping:!1,waitForAnimate:!0,zIndex:1e3},n.initials={animating:!1,dragging:!1,autoPlayTimer:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,$dots:null,listWidth:null,listHeight:null,loadIndex:0,$nextArrow:null,$prevArrow:null,scrolling:!1,slideCount:null,slideWidth:null,$slideTrack:null,$slides:null,sliding:!1,slideOffset:0,swipeLeft:null,swiping:!1,$list:null,touchObject:{},transformsEnabled:!1,unslicked:!1},d.extend(n,n.initials),n.activeBreakpoint=null,n.animType=null,n.animProp=null,n.breakpoints=[],n.breakpointSettings=[],n.cssTransitions=!1,n.focussed=!1,n.interrupted=!1,n.hidden="hidden",n.paused=!0,n.positionProp=null,n.respondTo=null,n.rowCount=1,n.shouldClick=!0,n.$slider=d(e),n.$slidesCache=null,n.transformType=null,n.transitionType=null,n.visibilityChange="visibilitychange",n.windowWidth=0,n.windowTimer=null,i=d(e).data("slick")||{},n.options=d.extend({},n.defaults,t,i),n.currentSlide=n.options.initialSlide,n.originalSettings=n.options,void 0!==document.mozHidden?(n.hidden="mozHidden",n.visibilityChange="mozvisibilitychange"):void 0!==document.webkitHidden&&(n.hidden="webkitHidden",n.visibilityChange="webkitvisibilitychange"),n.autoPlay=d.proxy(n.autoPlay,n),n.autoPlayClear=d.proxy(n.autoPlayClear,n),n.autoPlayIterator=d.proxy(n.autoPlayIterator,n),n.changeSlide=d.proxy(n.changeSlide,n),n.clickHandler=d.proxy(n.clickHandler,n),n.selectHandler=d.proxy(n.selectHandler,n),n.setPosition=d.proxy(n.setPosition,n),n.swipeHandler=d.proxy(n.swipeHandler,n),n.dragHandler=d.proxy(n.dragHandler,n),n.keyHandler=d.proxy(n.keyHandler,n),n.instanceUid=o++,n.htmlExpr=/^(?:\s*(<[\w\W]+>)[^>]*)$/,n.registerBreakpoints(),n.init(!0)}).prototype.activateADA=function(){this.$slideTrack.find(".slick-active").attr({"aria-hidden":"false"}).find("a, input, button, select").attr({tabindex:"0"})},s.prototype.addSlide=s.prototype.slickAdd=function(e,t,i){var n=this;if("boolean"==typeof t)i=t,t=null;else if(t<0||t>=n.slideCount)return!1;n.unload(),"number"==typeof t?0===t&&0===n.$slides.length?d(e).appendTo(n.$slideTrack):i?d(e).insertBefore(n.$slides.eq(t)):d(e).insertAfter(n.$slides.eq(t)):!0===i?d(e).prependTo(n.$slideTrack):d(e).appendTo(n.$slideTrack),n.$slides=n.$slideTrack.children(this.options.slide),n.$slideTrack.children(this.options.slide).detach(),n.$slideTrack.append(n.$slides),n.$slides.each(function(e,t){d(t).attr("data-slick-index",e)}),n.$slidesCache=n.$slides,n.reinit()},s.prototype.animateHeight=function(){var e,t=this;1===t.options.slidesToShow&&!0===t.options.adaptiveHeight&&!1===t.options.vertical&&(e=t.$slides.eq(t.currentSlide).outerHeight(!0),t.$list.animate({height:e},t.options.speed))},s.prototype.animateSlide=function(e,t){var i={},n=this;n.animateHeight(),!0===n.options.rtl&&!1===n.options.vertical&&(e=-e),!1===n.transformsEnabled?!1===n.options.vertical?n.$slideTrack.animate({left:e},n.options.speed,n.options.easing,t):n.$slideTrack.animate({top:e},n.options.speed,n.options.easing,t):!1===n.cssTransitions?(!0===n.options.rtl&&(n.currentLeft=-n.currentLeft),d({animStart:n.currentLeft}).animate({animStart:e},{duration:n.options.speed,easing:n.options.easing,step:function(e){e=Math.ceil(e),!1===n.options.vertical?i[n.animType]="translate("+e+"px, 0px)":i[n.animType]="translate(0px,"+e+"px)",n.$slideTrack.css(i)},complete:function(){t&&t.call()}})):(n.applyTransition(),e=Math.ceil(e),!1===n.options.vertical?i[n.animType]="translate3d("+e+"px, 0px, 0px)":i[n.animType]="translate3d(0px,"+e+"px, 0px)",n.$slideTrack.css(i),t&&setTimeout(function(){n.disableTransition(),t.call()},n.options.speed))},s.prototype.getNavTarget=function(){var e=this.options.asNavFor;return e&&null!==e&&(e=d(e).not(this.$slider)),e},s.prototype.asNavFor=function(t){var e=this.getNavTarget();null!==e&&"object"==typeof e&&e.each(function(){var e=d(this).slick("getSlick");e.unslicked||e.slideHandler(t,!0)})},s.prototype.applyTransition=function(e){var t=this,i={};!1===t.options.fade?i[t.transitionType]=t.transformType+" "+t.options.speed+"ms "+t.options.cssEase:i[t.transitionType]="opacity "+t.options.speed+"ms "+t.options.cssEase,!1===t.options.fade?t.$slideTrack.css(i):t.$slides.eq(e).css(i)},s.prototype.autoPlay=function(){var e=this;e.autoPlayClear(),e.slideCount>e.options.slidesToShow&&(e.autoPlayTimer=setInterval(e.autoPlayIterator,e.options.autoplaySpeed))},s.prototype.autoPlayClear=function(){this.autoPlayTimer&&clearInterval(this.autoPlayTimer)},s.prototype.autoPlayIterator=function(){var e=this,t=e.currentSlide+e.options.slidesToScroll;e.paused||e.interrupted||e.focussed||(!1===e.options.infinite&&(1===e.direction&&e.currentSlide+1===e.slideCount-1?e.direction=0:0===e.direction&&(t=e.currentSlide-e.options.slidesToScroll,e.currentSlide-1==0&&(e.direction=1))),e.slideHandler(t))},s.prototype.buildArrows=function(){var e=this;!0===e.options.arrows&&(e.$prevArrow=d(e.options.prevArrow).addClass("slick-arrow"),e.$nextArrow=d(e.options.nextArrow).addClass("slick-arrow"),e.slideCount>e.options.slidesToShow?(e.$prevArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),e.$nextArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),e.htmlExpr.test(e.options.prevArrow)&&e.$prevArrow.prependTo(e.options.appendArrows),e.htmlExpr.test(e.options.nextArrow)&&e.$nextArrow.appendTo(e.options.appendArrows),!0!==e.options.infinite&&e.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true")):e.$prevArrow.add(e.$nextArrow).addClass("slick-hidden").attr({"aria-disabled":"true",tabindex:"-1"}))},s.prototype.buildDots=function(){var e,t,i=this;if(!0===i.options.dots&&i.slideCount>i.options.slidesToShow){for(i.$slider.addClass("slick-dotted"),t=d("<ul />").addClass(i.options.dotsClass),e=0;e<=i.getDotCount();e+=1)t.append(d("<li />").append(i.options.customPaging.call(this,i,e)));i.$dots=t.appendTo(i.options.appendDots),i.$dots.find("li").first().addClass("slick-active")}},s.prototype.buildOut=function(){var e=this;e.$slides=e.$slider.children(e.options.slide+":not(.slick-cloned)").addClass("slick-slide"),e.slideCount=e.$slides.length,e.$slides.each(function(e,t){d(t).attr("data-slick-index",e).data("originalStyling",d(t).attr("style")||"")}),e.$slider.addClass("slick-slider"),e.$slideTrack=0===e.slideCount?d('<div class="slick-track"/>').appendTo(e.$slider):e.$slides.wrapAll('<div class="slick-track"/>').parent(),e.$list=e.$slideTrack.wrap('<div class="slick-list"/>').parent(),e.$slideTrack.css("opacity",0),!0!==e.options.centerMode&&!0!==e.options.swipeToSlide||(e.options.slidesToScroll=1),d("img[data-lazy]",e.$slider).not("[src]").addClass("slick-loading"),e.setupInfinite(),e.buildArrows(),e.buildDots(),e.updateDots(),e.setSlideClasses("number"==typeof e.currentSlide?e.currentSlide:0),!0===e.options.draggable&&e.$list.addClass("draggable")},s.prototype.buildRows=function(){var e,t,i,n=this,o=document.createDocumentFragment(),r=n.$slider.children();if(0<n.options.rows){for(i=n.options.slidesPerRow*n.options.rows,t=Math.ceil(r.length/i),e=0;e<t;e++){for(var s=document.createElement("div"),a=0;a<n.options.rows;a++){for(var l=document.createElement("div"),d=0;d<n.options.slidesPerRow;d++){var u=e*i+(a*n.options.slidesPerRow+d);r.get(u)&&l.appendChild(r.get(u))}s.appendChild(l)}o.appendChild(s)}n.$slider.empty().append(o),n.$slider.children().children().children().css({width:100/n.options.slidesPerRow+"%",display:"inline-block"})}},s.prototype.checkResponsive=function(e,t){var i,n,o,r=this,s=!1,a=r.$slider.width(),l=window.innerWidth||d(window).width();if("window"===r.respondTo?o=l:"slider"===r.respondTo?o=a:"min"===r.respondTo&&(o=Math.min(l,a)),r.options.responsive&&r.options.responsive.length&&null!==r.options.responsive){for(i in n=null,r.breakpoints)r.breakpoints.hasOwnProperty(i)&&(!1===r.originalSettings.mobileFirst?o<r.breakpoints[i]&&(n=r.breakpoints[i]):o>r.breakpoints[i]&&(n=r.breakpoints[i]));null!==n?null!==r.activeBreakpoint&&n===r.activeBreakpoint&&!t||(r.activeBreakpoint=n,"unslick"===r.breakpointSettings[n]?r.unslick(n):(r.options=d.extend({},r.originalSettings,r.breakpointSettings[n]),!0===e&&(r.currentSlide=r.options.initialSlide),r.refresh(e)),s=n):null!==r.activeBreakpoint&&(r.activeBreakpoint=null,r.options=r.originalSettings,!0===e&&(r.currentSlide=r.options.initialSlide),r.refresh(e),s=n),e||!1===s||r.$slider.trigger("breakpoint",[r,s])}},s.prototype.changeSlide=function(e,t){var i,n,o=this,r=d(e.currentTarget);switch(r.is("a")&&e.preventDefault(),r.is("li")||(r=r.closest("li")),i=o.slideCount%o.options.slidesToScroll!=0?0:(o.slideCount-o.currentSlide)%o.options.slidesToScroll,e.data.message){case"previous":n=0==i?o.options.slidesToScroll:o.options.slidesToShow-i,o.slideCount>o.options.slidesToShow&&o.slideHandler(o.currentSlide-n,!1,t);break;case"next":n=0==i?o.options.slidesToScroll:i,o.slideCount>o.options.slidesToShow&&o.slideHandler(o.currentSlide+n,!1,t);break;case"index":var s=0===e.data.index?0:e.data.index||r.index()*o.options.slidesToScroll;o.slideHandler(o.checkNavigable(s),!1,t),r.children().trigger("focus");break;default:return}},s.prototype.checkNavigable=function(e){var t=this.getNavigableIndexes(),i=0;if(e>t[t.length-1])e=t[t.length-1];else for(var n in t){if(e<t[n]){e=i;break}i=t[n]}return e},s.prototype.cleanUpEvents=function(){var e=this;e.options.dots&&null!==e.$dots&&(d("li",e.$dots).off("click.slick",e.changeSlide).off("mouseenter.slick",d.proxy(e.interrupt,e,!0)).off("mouseleave.slick",d.proxy(e.interrupt,e,!1)),!0===e.options.accessibility&&e.$dots.off("keydown.slick",e.keyHandler)),e.$slider.off("focus.slick blur.slick"),!0===e.options.arrows&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow&&e.$prevArrow.off("click.slick",e.changeSlide),e.$nextArrow&&e.$nextArrow.off("click.slick",e.changeSlide),!0===e.options.accessibility&&(e.$prevArrow&&e.$prevArrow.off("keydown.slick",e.keyHandler),e.$nextArrow&&e.$nextArrow.off("keydown.slick",e.keyHandler))),e.$list.off("touchstart.slick mousedown.slick",e.swipeHandler),e.$list.off("touchmove.slick mousemove.slick",e.swipeHandler),e.$list.off("touchend.slick mouseup.slick",e.swipeHandler),e.$list.off("touchcancel.slick mouseleave.slick",e.swipeHandler),e.$list.off("click.slick",e.clickHandler),d(document).off(e.visibilityChange,e.visibility),e.cleanUpSlideEvents(),!0===e.options.accessibility&&e.$list.off("keydown.slick",e.keyHandler),!0===e.options.focusOnSelect&&d(e.$slideTrack).children().off("click.slick",e.selectHandler),d(window).off("orientationchange.slick.slick-"+e.instanceUid,e.orientationChange),d(window).off("resize.slick.slick-"+e.instanceUid,e.resize),d("[draggable!=true]",e.$slideTrack).off("dragstart",e.preventDefault),d(window).off("load.slick.slick-"+e.instanceUid,e.setPosition)},s.prototype.cleanUpSlideEvents=function(){var e=this;e.$list.off("mouseenter.slick",d.proxy(e.interrupt,e,!0)),e.$list.off("mouseleave.slick",d.proxy(e.interrupt,e,!1))},s.prototype.cleanUpRows=function(){var e;0<this.options.rows&&((e=this.$slides.children().children()).removeAttr("style"),this.$slider.empty().append(e))},s.prototype.clickHandler=function(e){!1===this.shouldClick&&(e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault())},s.prototype.destroy=function(e){var t=this;t.autoPlayClear(),t.touchObject={},t.cleanUpEvents(),d(".slick-cloned",t.$slider).detach(),t.$dots&&t.$dots.remove(),t.$prevArrow&&t.$prevArrow.length&&(t.$prevArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),t.htmlExpr.test(t.options.prevArrow)&&t.$prevArrow.remove()),t.$nextArrow&&t.$nextArrow.length&&(t.$nextArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),t.htmlExpr.test(t.options.nextArrow)&&t.$nextArrow.remove()),t.$slides&&(t.$slides.removeClass("slick-slide slick-active slick-center slick-visible slick-current").removeAttr("aria-hidden").removeAttr("data-slick-index").each(function(){d(this).attr("style",d(this).data("originalStyling"))}),t.$slideTrack.children(this.options.slide).detach(),t.$slideTrack.detach(),t.$list.detach(),t.$slider.append(t.$slides)),t.cleanUpRows(),t.$slider.removeClass("slick-slider"),t.$slider.removeClass("slick-initialized"),t.$slider.removeClass("slick-dotted"),t.unslicked=!0,e||t.$slider.trigger("destroy",[t])},s.prototype.disableTransition=function(e){var t={};t[this.transitionType]="",!1===this.options.fade?this.$slideTrack.css(t):this.$slides.eq(e).css(t)},s.prototype.fadeSlide=function(e,t){var i=this;!1===i.cssTransitions?(i.$slides.eq(e).css({zIndex:i.options.zIndex}),i.$slides.eq(e).animate({opacity:1},i.options.speed,i.options.easing,t)):(i.applyTransition(e),i.$slides.eq(e).css({opacity:1,zIndex:i.options.zIndex}),t&&setTimeout(function(){i.disableTransition(e),t.call()},i.options.speed))},s.prototype.fadeSlideOut=function(e){var t=this;!1===t.cssTransitions?t.$slides.eq(e).animate({opacity:0,zIndex:t.options.zIndex-2},t.options.speed,t.options.easing):(t.applyTransition(e),t.$slides.eq(e).css({opacity:0,zIndex:t.options.zIndex-2}))},s.prototype.filterSlides=s.prototype.slickFilter=function(e){var t=this;null!==e&&(t.$slidesCache=t.$slides,t.unload(),t.$slideTrack.children(this.options.slide).detach(),t.$slidesCache.filter(e).appendTo(t.$slideTrack),t.reinit())},s.prototype.focusHandler=function(){var i=this;i.$slider.off("focus.slick blur.slick").on("focus.slick blur.slick","*",function(e){e.stopImmediatePropagation();var t=d(this);setTimeout(function(){i.options.pauseOnFocus&&(i.focussed=t.is(":focus"),i.autoPlay())},0)})},s.prototype.getCurrent=s.prototype.slickCurrentSlide=function(){return this.currentSlide},s.prototype.getDotCount=function(){var e=this,t=0,i=0,n=0;if(!0===e.options.infinite)if(e.slideCount<=e.options.slidesToShow)++n;else for(;t<e.slideCount;)++n,t=i+e.options.slidesToScroll,i+=e.options.slidesToScroll<=e.options.slidesToShow?e.options.slidesToScroll:e.options.slidesToShow;else if(!0===e.options.centerMode)n=e.slideCount;else if(e.options.asNavFor)for(;t<e.slideCount;)++n,t=i+e.options.slidesToScroll,i+=e.options.slidesToScroll<=e.options.slidesToShow?e.options.slidesToScroll:e.options.slidesToShow;else n=1+Math.ceil((e.slideCount-e.options.slidesToShow)/e.options.slidesToScroll);return n-1},s.prototype.getLeft=function(e){var t,i,n,o,r=this,s=0;return r.slideOffset=0,i=r.$slides.first().outerHeight(!0),!0===r.options.infinite?(r.slideCount>r.options.slidesToShow&&(r.slideOffset=r.slideWidth*r.options.slidesToShow*-1,o=-1,!0===r.options.vertical&&!0===r.options.centerMode&&(2===r.options.slidesToShow?o=-1.5:1===r.options.slidesToShow&&(o=-2)),s=i*r.options.slidesToShow*o),r.slideCount%r.options.slidesToScroll!=0&&e+r.options.slidesToScroll>r.slideCount&&r.slideCount>r.options.slidesToShow&&(s=e>r.slideCount?(r.slideOffset=(r.options.slidesToShow-(e-r.slideCount))*r.slideWidth*-1,(r.options.slidesToShow-(e-r.slideCount))*i*-1):(r.slideOffset=r.slideCount%r.options.slidesToScroll*r.slideWidth*-1,r.slideCount%r.options.slidesToScroll*i*-1))):e+r.options.slidesToShow>r.slideCount&&(r.slideOffset=(e+r.options.slidesToShow-r.slideCount)*r.slideWidth,s=(e+r.options.slidesToShow-r.slideCount)*i),r.slideCount<=r.options.slidesToShow&&(s=r.slideOffset=0),!0===r.options.centerMode&&r.slideCount<=r.options.slidesToShow?r.slideOffset=r.slideWidth*Math.floor(r.options.slidesToShow)/2-r.slideWidth*r.slideCount/2:!0===r.options.centerMode&&!0===r.options.infinite?r.slideOffset+=r.slideWidth*Math.floor(r.options.slidesToShow/2)-r.slideWidth:!0===r.options.centerMode&&(r.slideOffset=0,r.slideOffset+=r.slideWidth*Math.floor(r.options.slidesToShow/2)),t=!1===r.options.vertical?e*r.slideWidth*-1+r.slideOffset:e*i*-1+s,!0===r.options.variableWidth&&(n=r.slideCount<=r.options.slidesToShow||!1===r.options.infinite?r.$slideTrack.children(".slick-slide").eq(e):r.$slideTrack.children(".slick-slide").eq(e+r.options.slidesToShow),t=!0===r.options.rtl?n[0]?-1*(r.$slideTrack.width()-n[0].offsetLeft-n.width()):0:n[0]?-1*n[0].offsetLeft:0,!0===r.options.centerMode&&(n=r.slideCount<=r.options.slidesToShow||!1===r.options.infinite?r.$slideTrack.children(".slick-slide").eq(e):r.$slideTrack.children(".slick-slide").eq(e+r.options.slidesToShow+1),t=!0===r.options.rtl?n[0]?-1*(r.$slideTrack.width()-n[0].offsetLeft-n.width()):0:n[0]?-1*n[0].offsetLeft:0,t+=(r.$list.width()-n.outerWidth())/2)),t},s.prototype.getOption=s.prototype.slickGetOption=function(e){return this.options[e]},s.prototype.getNavigableIndexes=function(){for(var e=this,t=0,i=0,n=[],o=!1===e.options.infinite?e.slideCount:(t=-1*e.options.slidesToScroll,i=-1*e.options.slidesToScroll,2*e.slideCount);t<o;)n.push(t),t=i+e.options.slidesToScroll,i+=e.options.slidesToScroll<=e.options.slidesToShow?e.options.slidesToScroll:e.options.slidesToShow;return n},s.prototype.getSlick=function(){return this},s.prototype.getSlideCount=function(){var i,n=this,o=!0===n.options.centerMode?n.slideWidth*Math.floor(n.options.slidesToShow/2):0;return!0===n.options.swipeToSlide?(n.$slideTrack.find(".slick-slide").each(function(e,t){if(t.offsetLeft-o+d(t).outerWidth()/2>-1*n.swipeLeft)return i=t,!1}),Math.abs(d(i).attr("data-slick-index")-n.currentSlide)||1):n.options.slidesToScroll},s.prototype.goTo=s.prototype.slickGoTo=function(e,t){this.changeSlide({data:{message:"index",index:parseInt(e)}},t)},s.prototype.init=function(e){var t=this;d(t.$slider).hasClass("slick-initialized")||(d(t.$slider).addClass("slick-initialized"),t.buildRows(),t.buildOut(),t.setProps(),t.startLoad(),t.loadSlider(),t.initializeEvents(),t.updateArrows(),t.updateDots(),t.checkResponsive(!0),t.focusHandler()),e&&t.$slider.trigger("init",[t]),!0===t.options.accessibility&&t.initADA(),t.options.autoplay&&(t.paused=!1,t.autoPlay())},s.prototype.initADA=function(){var n=this,i=Math.ceil(n.slideCount/n.options.slidesToShow),o=n.getNavigableIndexes().filter(function(e){return 0<=e&&e<n.slideCount});n.$slides.add(n.$slideTrack.find(".slick-cloned")).attr({"aria-hidden":"true",tabindex:"-1"}).find("a, input, button, select").attr({tabindex:"-1"}),null!==n.$dots&&(n.$slides.not(n.$slideTrack.find(".slick-cloned")).each(function(e){var t,i=o.indexOf(e);d(this).attr({role:"tabpanel",id:"slick-slide"+n.instanceUid+e,tabindex:-1}),-1!==i&&(t="slick-slide-control"+n.instanceUid+i,d("#"+t).length&&d(this).attr({"aria-describedby":t}))}),n.$dots.attr("role","tablist").find("li").each(function(e){var t=o[e];d(this).attr({role:"presentation"}),d(this).find("button").first().attr({role:"tab",id:"slick-slide-control"+n.instanceUid+e,"aria-controls":"slick-slide"+n.instanceUid+t,"aria-label":e+1+" of "+i,"aria-selected":null,tabindex:"-1"})}).eq(n.currentSlide).find("button").attr({"aria-selected":"true",tabindex:"0"}).end());for(var e=n.currentSlide,t=e+n.options.slidesToShow;e<t;e++)n.options.focusOnChange?n.$slides.eq(e).attr({tabindex:"0"}):n.$slides.eq(e).removeAttr("tabindex");n.activateADA()},s.prototype.initArrowEvents=function(){var e=this;!0===e.options.arrows&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow.off("click.slick").on("click.slick",{message:"previous"},e.changeSlide),e.$nextArrow.off("click.slick").on("click.slick",{message:"next"},e.changeSlide),!0===e.options.accessibility&&(e.$prevArrow.on("keydown.slick",e.keyHandler),e.$nextArrow.on("keydown.slick",e.keyHandler)))},s.prototype.initDotEvents=function(){var e=this;!0===e.options.dots&&e.slideCount>e.options.slidesToShow&&(d("li",e.$dots).on("click.slick",{message:"index"},e.changeSlide),!0===e.options.accessibility&&e.$dots.on("keydown.slick",e.keyHandler)),!0===e.options.dots&&!0===e.options.pauseOnDotsHover&&e.slideCount>e.options.slidesToShow&&d("li",e.$dots).on("mouseenter.slick",d.proxy(e.interrupt,e,!0)).on("mouseleave.slick",d.proxy(e.interrupt,e,!1))},s.prototype.initSlideEvents=function(){var e=this;e.options.pauseOnHover&&(e.$list.on("mouseenter.slick",d.proxy(e.interrupt,e,!0)),e.$list.on("mouseleave.slick",d.proxy(e.interrupt,e,!1)))},s.prototype.initializeEvents=function(){var e=this;e.initArrowEvents(),e.initDotEvents(),e.initSlideEvents(),e.$list.on("touchstart.slick mousedown.slick",{action:"start"},e.swipeHandler),e.$list.on("touchmove.slick mousemove.slick",{action:"move"},e.swipeHandler),e.$list.on("touchend.slick mouseup.slick",{action:"end"},e.swipeHandler),e.$list.on("touchcancel.slick mouseleave.slick",{action:"end"},e.swipeHandler),e.$list.on("click.slick",e.clickHandler),d(document).on(e.visibilityChange,d.proxy(e.visibility,e)),!0===e.options.accessibility&&e.$list.on("keydown.slick",e.keyHandler),!0===e.options.focusOnSelect&&d(e.$slideTrack).children().on("click.slick",e.selectHandler),d(window).on("orientationchange.slick.slick-"+e.instanceUid,d.proxy(e.orientationChange,e)),d(window).on("resize.slick.slick-"+e.instanceUid,d.proxy(e.resize,e)),d("[draggable!=true]",e.$slideTrack).on("dragstart",e.preventDefault),d(window).on("load.slick.slick-"+e.instanceUid,e.setPosition),d(e.setPosition)},s.prototype.initUI=function(){var e=this;!0===e.options.arrows&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow.show(),e.$nextArrow.show()),!0===e.options.dots&&e.slideCount>e.options.slidesToShow&&e.$dots.show()},s.prototype.keyHandler=function(e){var t=this;e.target.tagName.match("TEXTAREA|INPUT|SELECT")||(37===e.keyCode&&!0===t.options.accessibility?t.changeSlide({data:{message:!0===t.options.rtl?"next":"previous"}}):39===e.keyCode&&!0===t.options.accessibility&&t.changeSlide({data:{message:!0===t.options.rtl?"previous":"next"}}))},s.prototype.lazyLoad=function(){var e,t,i,r=this;function n(e){d("img[data-lazy]",e).each(function(){var e=d(this),t=d(this).attr("data-lazy"),i=d(this).attr("data-srcset"),n=d(this).attr("data-sizes")||r.$slider.attr("data-sizes"),o=document.createElement("img");o.onload=function(){e.animate({opacity:0},100,function(){i&&(e.attr("srcset",i),n&&e.attr("sizes",n)),e.attr("src",t).animate({opacity:1},200,function(){e.removeAttr("data-lazy data-srcset data-sizes").removeClass("slick-loading")}),r.$slider.trigger("lazyLoaded",[r,e,t])})},o.onerror=function(){e.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"),r.$slider.trigger("lazyLoadError",[r,e,t])},o.src=t})}if(!0===r.options.centerMode?i=!0===r.options.infinite?(t=r.currentSlide+(r.options.slidesToShow/2+1))+r.options.slidesToShow+2:(t=Math.max(0,r.currentSlide-(r.options.slidesToShow/2+1)),r.options.slidesToShow/2+1+2+r.currentSlide):(t=r.options.infinite?r.options.slidesToShow+r.currentSlide:r.currentSlide,i=Math.ceil(t+r.options.slidesToShow),!0===r.options.fade&&(0<t&&t--,i<=r.slideCount&&i++)),e=r.$slider.find(".slick-slide").slice(t,i),"anticipated"===r.options.lazyLoad)for(var o=t-1,s=i,a=r.$slider.find(".slick-slide"),l=0;l<r.options.slidesToScroll;l++)o<0&&(o=r.slideCount-1),e=(e=e.add(a.eq(o))).add(a.eq(s)),o--,s++;n(e),r.slideCount<=r.options.slidesToShow?n(r.$slider.find(".slick-slide")):r.currentSlide>=r.slideCount-r.options.slidesToShow?n(r.$slider.find(".slick-cloned").slice(0,r.options.slidesToShow)):0===r.currentSlide&&n(r.$slider.find(".slick-cloned").slice(-1*r.options.slidesToShow))},s.prototype.loadSlider=function(){var e=this;e.setPosition(),e.$slideTrack.css({opacity:1}),e.$slider.removeClass("slick-loading"),e.initUI(),"progressive"===e.options.lazyLoad&&e.progressiveLazyLoad()},s.prototype.next=s.prototype.slickNext=function(){this.changeSlide({data:{message:"next"}})},s.prototype.orientationChange=function(){this.checkResponsive(),this.setPosition()},s.prototype.pause=s.prototype.slickPause=function(){this.autoPlayClear(),this.paused=!0},s.prototype.play=s.prototype.slickPlay=function(){var e=this;e.autoPlay(),e.options.autoplay=!0,e.paused=!1,e.focussed=!1,e.interrupted=!1},s.prototype.postSlide=function(e){var t=this;t.unslicked||(t.$slider.trigger("afterChange",[t,e]),t.animating=!1,t.slideCount>t.options.slidesToShow&&t.setPosition(),t.swipeLeft=null,t.options.autoplay&&t.autoPlay(),!0===t.options.accessibility&&(t.initADA(),t.options.focusOnChange&&d(t.$slides.get(t.currentSlide)).attr("tabindex",0).focus()))},s.prototype.prev=s.prototype.slickPrev=function(){this.changeSlide({data:{message:"previous"}})},s.prototype.preventDefault=function(e){e.preventDefault()},s.prototype.progressiveLazyLoad=function(e){e=e||1;var t,i,n,o,r,s=this,a=d("img[data-lazy]",s.$slider);a.length?(t=a.first(),i=t.attr("data-lazy"),n=t.attr("data-srcset"),o=t.attr("data-sizes")||s.$slider.attr("data-sizes"),(r=document.createElement("img")).onload=function(){n&&(t.attr("srcset",n),o&&t.attr("sizes",o)),t.attr("src",i).removeAttr("data-lazy data-srcset data-sizes").removeClass("slick-loading"),!0===s.options.adaptiveHeight&&s.setPosition(),s.$slider.trigger("lazyLoaded",[s,t,i]),s.progressiveLazyLoad()},r.onerror=function(){e<3?setTimeout(function(){s.progressiveLazyLoad(e+1)},500):(t.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"),s.$slider.trigger("lazyLoadError",[s,t,i]),s.progressiveLazyLoad())},r.src=i):s.$slider.trigger("allImagesLoaded",[s])},s.prototype.refresh=function(e){var t,i=this,n=i.slideCount-i.options.slidesToShow;!i.options.infinite&&i.currentSlide>n&&(i.currentSlide=n),i.slideCount<=i.options.slidesToShow&&(i.currentSlide=0),t=i.currentSlide,i.destroy(!0),d.extend(i,i.initials,{currentSlide:t}),i.init(),e||i.changeSlide({data:{message:"index",index:t}},!1)},s.prototype.registerBreakpoints=function(){var e,t,i,n=this,o=n.options.responsive||null;if("array"===d.type(o)&&o.length){for(e in n.respondTo=n.options.respondTo||"window",o)if(i=n.breakpoints.length-1,o.hasOwnProperty(e)){for(t=o[e].breakpoint;0<=i;)n.breakpoints[i]&&n.breakpoints[i]===t&&n.breakpoints.splice(i,1),i--;n.breakpoints.push(t),n.breakpointSettings[t]=o[e].settings}n.breakpoints.sort(function(e,t){return n.options.mobileFirst?e-t:t-e})}},s.prototype.reinit=function(){var e=this;e.$slides=e.$slideTrack.children(e.options.slide).addClass("slick-slide"),e.slideCount=e.$slides.length,e.currentSlide>=e.slideCount&&0!==e.currentSlide&&(e.currentSlide=e.currentSlide-e.options.slidesToScroll),e.slideCount<=e.options.slidesToShow&&(e.currentSlide=0),e.registerBreakpoints(),e.setProps(),e.setupInfinite(),e.buildArrows(),e.updateArrows(),e.initArrowEvents(),e.buildDots(),e.updateDots(),e.initDotEvents(),e.cleanUpSlideEvents(),e.initSlideEvents(),e.checkResponsive(!1,!0),!0===e.options.focusOnSelect&&d(e.$slideTrack).children().on("click.slick",e.selectHandler),e.setSlideClasses("number"==typeof e.currentSlide?e.currentSlide:0),e.setPosition(),e.focusHandler(),e.paused=!e.options.autoplay,e.autoPlay(),e.$slider.trigger("reInit",[e])},s.prototype.resize=function(){var e=this;d(window).width()!==e.windowWidth&&(clearTimeout(e.windowDelay),e.windowDelay=window.setTimeout(function(){e.windowWidth=d(window).width(),e.checkResponsive(),e.unslicked||e.setPosition()},50))},s.prototype.removeSlide=s.prototype.slickRemove=function(e,t,i){var n=this;if(e="boolean"==typeof e?!0===(t=e)?0:n.slideCount-1:!0===t?--e:e,n.slideCount<1||e<0||e>n.slideCount-1)return!1;n.unload(),!0===i?n.$slideTrack.children().remove():n.$slideTrack.children(this.options.slide).eq(e).remove(),n.$slides=n.$slideTrack.children(this.options.slide),n.$slideTrack.children(this.options.slide).detach(),n.$slideTrack.append(n.$slides),n.$slidesCache=n.$slides,n.reinit()},s.prototype.setCSS=function(e){var t,i,n=this,o={};!0===n.options.rtl&&(e=-e),t="left"==n.positionProp?Math.ceil(e)+"px":"0px",i="top"==n.positionProp?Math.ceil(e)+"px":"0px",o[n.positionProp]=e,!1===n.transformsEnabled||(!(o={})===n.cssTransitions?o[n.animType]="translate("+t+", "+i+")":o[n.animType]="translate3d("+t+", "+i+", 0px)"),n.$slideTrack.css(o)},s.prototype.setDimensions=function(){var e=this;!1===e.options.vertical?!0===e.options.centerMode&&e.$list.css({padding:"0px "+e.options.centerPadding}):(e.$list.height(e.$slides.first().outerHeight(!0)*e.options.slidesToShow),!0===e.options.centerMode&&e.$list.css({padding:e.options.centerPadding+" 0px"})),e.listWidth=e.$list.width(),e.listHeight=e.$list.height(),!1===e.options.vertical&&!1===e.options.variableWidth?(e.slideWidth=Math.ceil(e.listWidth/e.options.slidesToShow),e.$slideTrack.width(Math.ceil(e.slideWidth*e.$slideTrack.children(".slick-slide").length))):!0===e.options.variableWidth?e.$slideTrack.width(5e3*e.slideCount):(e.slideWidth=Math.ceil(e.listWidth),e.$slideTrack.height(Math.ceil(e.$slides.first().outerHeight(!0)*e.$slideTrack.children(".slick-slide").length)));var t=e.$slides.first().outerWidth(!0)-e.$slides.first().width();!1===e.options.variableWidth&&e.$slideTrack.children(".slick-slide").width(e.slideWidth-t)},s.prototype.setFade=function(){var i,n=this;n.$slides.each(function(e,t){i=n.slideWidth*e*-1,!0===n.options.rtl?d(t).css({position:"relative",right:i,top:0,zIndex:n.options.zIndex-2,opacity:0}):d(t).css({position:"relative",left:i,top:0,zIndex:n.options.zIndex-2,opacity:0})}),n.$slides.eq(n.currentSlide).css({zIndex:n.options.zIndex-1,opacity:1})},s.prototype.setHeight=function(){var e,t=this;1===t.options.slidesToShow&&!0===t.options.adaptiveHeight&&!1===t.options.vertical&&(e=t.$slides.eq(t.currentSlide).outerHeight(!0),t.$list.css("height",e))},s.prototype.setOption=s.prototype.slickSetOption=function(){var e,t,i,n,o,r=this,s=!1;if("object"===d.type(arguments[0])?(i=arguments[0],s=arguments[1],o="multiple"):"string"===d.type(arguments[0])&&(n=arguments[1],s=arguments[2],"responsive"===(i=arguments[0])&&"array"===d.type(arguments[1])?o="responsive":void 0!==arguments[1]&&(o="single")),"single"===o)r.options[i]=n;else if("multiple"===o)d.each(i,function(e,t){r.options[e]=t});else if("responsive"===o)for(t in n)if("array"!==d.type(r.options.responsive))r.options.responsive=[n[t]];else{for(e=r.options.responsive.length-1;0<=e;)r.options.responsive[e].breakpoint===n[t].breakpoint&&r.options.responsive.splice(e,1),e--;r.options.responsive.push(n[t])}s&&(r.unload(),r.reinit())},s.prototype.setPosition=function(){var e=this;e.setDimensions(),e.setHeight(),!1===e.options.fade?e.setCSS(e.getLeft(e.currentSlide)):e.setFade(),e.$slider.trigger("setPosition",[e])},s.prototype.setProps=function(){var e=this,t=document.body.style;e.positionProp=!0===e.options.vertical?"top":"left","top"===e.positionProp?e.$slider.addClass("slick-vertical"):e.$slider.removeClass("slick-vertical"),void 0===t.WebkitTransition&&void 0===t.MozTransition&&void 0===t.msTransition||!0===e.options.useCSS&&(e.cssTransitions=!0),e.options.fade&&("number"==typeof e.options.zIndex?e.options.zIndex<3&&(e.options.zIndex=3):e.options.zIndex=e.defaults.zIndex),void 0!==t.OTransform&&(e.animType="OTransform",e.transformType="-o-transform",e.transitionType="OTransition",void 0===t.perspectiveProperty&&void 0===t.webkitPerspective&&(e.animType=!1)),void 0!==t.MozTransform&&(e.animType="MozTransform",e.transformType="-moz-transform",e.transitionType="MozTransition",void 0===t.perspectiveProperty&&void 0===t.MozPerspective&&(e.animType=!1)),void 0!==t.webkitTransform&&(e.animType="webkitTransform",e.transformType="-webkit-transform",e.transitionType="webkitTransition",void 0===t.perspectiveProperty&&void 0===t.webkitPerspective&&(e.animType=!1)),void 0!==t.msTransform&&(e.animType="msTransform",e.transformType="-ms-transform",e.transitionType="msTransition",void 0===t.msTransform&&(e.animType=!1)),void 0!==t.transform&&!1!==e.animType&&(e.animType="transform",e.transformType="transform",e.transitionType="transition"),e.transformsEnabled=e.options.useTransform&&null!==e.animType&&!1!==e.animType},s.prototype.setSlideClasses=function(e){var t,i,n,o,r=this,s=r.$slider.find(".slick-slide").removeClass("slick-active slick-center slick-current").attr("aria-hidden","true");r.$slides.eq(e).addClass("slick-current"),!0===r.options.centerMode?(n=r.options.slidesToShow%2==0?1:0,o=Math.floor(r.options.slidesToShow/2),!0===r.options.infinite&&(o<=e&&e<=r.slideCount-1-o?r.$slides.slice(e-o+n,e+o+1).addClass("slick-active").attr("aria-hidden","false"):(t=r.options.slidesToShow+e,s.slice(t-o+1+n,t+o+2).addClass("slick-active").attr("aria-hidden","false")),0===e?s.eq(s.length-1-r.options.slidesToShow).addClass("slick-center"):e===r.slideCount-1&&s.eq(r.options.slidesToShow).addClass("slick-center")),r.$slides.eq(e).addClass("slick-center")):0<=e&&e<=r.slideCount-r.options.slidesToShow?r.$slides.slice(e,e+r.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false"):s.length<=r.options.slidesToShow?s.addClass("slick-active").attr("aria-hidden","false"):(i=r.slideCount%r.options.slidesToShow,t=!0===r.options.infinite?r.options.slidesToShow+e:e,r.options.slidesToShow==r.options.slidesToScroll&&r.slideCount-e<r.options.slidesToShow?s.slice(t-(r.options.slidesToShow-i),t+i).addClass("slick-active").attr("aria-hidden","false"):s.slice(t,t+r.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false")),"ondemand"!==r.options.lazyLoad&&"anticipated"!==r.options.lazyLoad||r.lazyLoad()},s.prototype.setupInfinite=function(){var e,t,i,n=this;if(!0===n.options.fade&&(n.options.centerMode=!1),!0===n.options.infinite&&!1===n.options.fade&&(t=null,n.slideCount>n.options.slidesToShow)){for(i=!0===n.options.centerMode?n.options.slidesToShow+1:n.options.slidesToShow,e=n.slideCount;e>n.slideCount-i;--e)t=e-1,d(n.$slides[t]).clone(!0).attr("id","").attr("data-slick-index",t-n.slideCount).prependTo(n.$slideTrack).addClass("slick-cloned");for(e=0;e<i+n.slideCount;e+=1)t=e,d(n.$slides[t]).clone(!0).attr("id","").attr("data-slick-index",t+n.slideCount).appendTo(n.$slideTrack).addClass("slick-cloned");n.$slideTrack.find(".slick-cloned").find("[id]").each(function(){d(this).attr("id","")})}},s.prototype.interrupt=function(e){e||this.autoPlay(),this.interrupted=e},s.prototype.selectHandler=function(e){var t=d(e.target).is(".slick-slide")?d(e.target):d(e.target).parents(".slick-slide"),i=(i=parseInt(t.attr("data-slick-index")))||0;this.slideCount<=this.options.slidesToShow?this.slideHandler(i,!1,!0):this.slideHandler(i)},s.prototype.slideHandler=function(e,t,i){var n,o,r,s,a,l,d=this;if(t=t||!1,!(!0===d.animating&&!0===d.options.waitForAnimate||!0===d.options.fade&&d.currentSlide===e))if(!1===t&&d.asNavFor(e),n=e,a=d.getLeft(n),s=d.getLeft(d.currentSlide),d.currentLeft=null===d.swipeLeft?s:d.swipeLeft,!1===d.options.infinite&&!1===d.options.centerMode&&(e<0||e>d.getDotCount()*d.options.slidesToScroll))!1===d.options.fade&&(n=d.currentSlide,!0!==i&&d.slideCount>d.options.slidesToShow?d.animateSlide(s,function(){d.postSlide(n)}):d.postSlide(n));else if(!1===d.options.infinite&&!0===d.options.centerMode&&(e<0||e>d.slideCount-d.options.slidesToScroll))!1===d.options.fade&&(n=d.currentSlide,!0!==i&&d.slideCount>d.options.slidesToShow?d.animateSlide(s,function(){d.postSlide(n)}):d.postSlide(n));else{if(d.options.autoplay&&clearInterval(d.autoPlayTimer),o=n<0?d.slideCount%d.options.slidesToScroll!=0?d.slideCount-d.slideCount%d.options.slidesToScroll:d.slideCount+n:n>=d.slideCount?d.slideCount%d.options.slidesToScroll!=0?0:n-d.slideCount:n,d.animating=!0,d.$slider.trigger("beforeChange",[d,d.currentSlide,o]),r=d.currentSlide,d.currentSlide=o,d.setSlideClasses(d.currentSlide),d.options.asNavFor&&(l=(l=d.getNavTarget()).slick("getSlick")).slideCount<=l.options.slidesToShow&&l.setSlideClasses(d.currentSlide),d.updateDots(),d.updateArrows(),!0===d.options.fade)return!0!==i?(d.fadeSlideOut(r),d.fadeSlide(o,function(){d.postSlide(o)})):d.postSlide(o),void d.animateHeight();!0!==i&&d.slideCount>d.options.slidesToShow?d.animateSlide(a,function(){d.postSlide(o)}):d.postSlide(o)}},s.prototype.startLoad=function(){var e=this;!0===e.options.arrows&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow.hide(),e.$nextArrow.hide()),!0===e.options.dots&&e.slideCount>e.options.slidesToShow&&e.$dots.hide(),e.$slider.addClass("slick-loading")},s.prototype.swipeDirection=function(){var e=this,t=e.touchObject.startX-e.touchObject.curX,i=e.touchObject.startY-e.touchObject.curY,n=Math.atan2(i,t),o=Math.round(180*n/Math.PI);return o<0&&(o=360-Math.abs(o)),o<=45&&0<=o||o<=360&&315<=o?!1===e.options.rtl?"left":"right":135<=o&&o<=225?!1===e.options.rtl?"right":"left":!0===e.options.verticalSwiping?35<=o&&o<=135?"down":"up":"vertical"},s.prototype.swipeEnd=function(e){var t,i,n=this;if(n.dragging=!1,n.swiping=!1,n.scrolling)return n.scrolling=!1;if(n.interrupted=!1,n.shouldClick=!(10<n.touchObject.swipeLength),void 0===n.touchObject.curX)return!1;if(!0===n.touchObject.edgeHit&&n.$slider.trigger("edge",[n,n.swipeDirection()]),n.touchObject.swipeLength>=n.touchObject.minSwipe){switch(i=n.swipeDirection()){case"left":case"down":t=n.options.swipeToSlide?n.checkNavigable(n.currentSlide+n.getSlideCount()):n.currentSlide+n.getSlideCount(),n.currentDirection=0;break;case"right":case"up":t=n.options.swipeToSlide?n.checkNavigable(n.currentSlide-n.getSlideCount()):n.currentSlide-n.getSlideCount(),n.currentDirection=1}"vertical"!=i&&(n.slideHandler(t),n.touchObject={},n.$slider.trigger("swipe",[n,i]))}else n.touchObject.startX!==n.touchObject.curX&&(n.slideHandler(n.currentSlide),n.touchObject={})},s.prototype.swipeHandler=function(e){var t=this;if(!(!1===t.options.swipe||"ontouchend"in document&&!1===t.options.swipe||!1===t.options.draggable&&-1!==e.type.indexOf("mouse")))switch(t.touchObject.fingerCount=e.originalEvent&&void 0!==e.originalEvent.touches?e.originalEvent.touches.length:1,t.touchObject.minSwipe=t.listWidth/t.options.touchThreshold,!0===t.options.verticalSwiping&&(t.touchObject.minSwipe=t.listHeight/t.options.touchThreshold),e.data.action){case"start":t.swipeStart(e);break;case"move":t.swipeMove(e);break;case"end":t.swipeEnd(e)}},s.prototype.swipeMove=function(e){var t,i,n,o,r,s=this,a=void 0!==e.originalEvent?e.originalEvent.touches:null;return!(!s.dragging||s.scrolling||a&&1!==a.length)&&(t=s.getLeft(s.currentSlide),s.touchObject.curX=void 0!==a?a[0].pageX:e.clientX,s.touchObject.curY=void 0!==a?a[0].pageY:e.clientY,s.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(s.touchObject.curX-s.touchObject.startX,2))),r=Math.round(Math.sqrt(Math.pow(s.touchObject.curY-s.touchObject.startY,2))),!s.options.verticalSwiping&&!s.swiping&&4<r?!(s.scrolling=!0):(!0===s.options.verticalSwiping&&(s.touchObject.swipeLength=r),i=s.swipeDirection(),void 0!==e.originalEvent&&4<s.touchObject.swipeLength&&(s.swiping=!0,e.preventDefault()),o=(!1===s.options.rtl?1:-1)*(s.touchObject.curX>s.touchObject.startX?1:-1),!0===s.options.verticalSwiping&&(o=s.touchObject.curY>s.touchObject.startY?1:-1),n=s.touchObject.swipeLength,(s.touchObject.edgeHit=!1)===s.options.infinite&&(0===s.currentSlide&&"right"===i||s.currentSlide>=s.getDotCount()&&"left"===i)&&(n=s.touchObject.swipeLength*s.options.edgeFriction,s.touchObject.edgeHit=!0),!1===s.options.vertical?s.swipeLeft=t+n*o:s.swipeLeft=t+n*(s.$list.height()/s.listWidth)*o,!0===s.options.verticalSwiping&&(s.swipeLeft=t+n*o),!0!==s.options.fade&&!1!==s.options.touchMove&&(!0===s.animating?(s.swipeLeft=null,!1):void s.setCSS(s.swipeLeft))))},s.prototype.swipeStart=function(e){var t,i=this;if(i.interrupted=!0,1!==i.touchObject.fingerCount||i.slideCount<=i.options.slidesToShow)return!(i.touchObject={});void 0!==e.originalEvent&&void 0!==e.originalEvent.touches&&(t=e.originalEvent.touches[0]),i.touchObject.startX=i.touchObject.curX=void 0!==t?t.pageX:e.clientX,i.touchObject.startY=i.touchObject.curY=void 0!==t?t.pageY:e.clientY,i.dragging=!0},s.prototype.unfilterSlides=s.prototype.slickUnfilter=function(){var e=this;null!==e.$slidesCache&&(e.unload(),e.$slideTrack.children(this.options.slide).detach(),e.$slidesCache.appendTo(e.$slideTrack),e.reinit())},s.prototype.unload=function(){var e=this;d(".slick-cloned",e.$slider).remove(),e.$dots&&e.$dots.remove(),e.$prevArrow&&e.htmlExpr.test(e.options.prevArrow)&&e.$prevArrow.remove(),e.$nextArrow&&e.htmlExpr.test(e.options.nextArrow)&&e.$nextArrow.remove(),e.$slides.removeClass("slick-slide slick-active slick-visible slick-current").attr("aria-hidden","true").css("width","")},s.prototype.unslick=function(e){this.$slider.trigger("unslick",[this,e]),this.destroy()},s.prototype.updateArrows=function(){var e=this;Math.floor(e.options.slidesToShow/2);!0===e.options.arrows&&e.slideCount>e.options.slidesToShow&&!e.options.infinite&&(e.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false"),e.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false"),0===e.currentSlide?(e.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true"),e.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false")):(e.currentSlide>=e.slideCount-e.options.slidesToShow&&!1===e.options.centerMode||e.currentSlide>=e.slideCount-1&&!0===e.options.centerMode)&&(e.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),e.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")))},s.prototype.updateDots=function(){var e=this;null!==e.$dots&&(e.$dots.find("li").removeClass("slick-active").end(),e.$dots.find("li").eq(Math.floor(e.currentSlide/e.options.slidesToScroll)).addClass("slick-active"))},s.prototype.visibility=function(){this.options.autoplay&&(document[this.hidden]?this.interrupted=!0:this.interrupted=!1)},d.fn.slick=function(){for(var e,t=this,i=arguments[0],n=Array.prototype.slice.call(arguments,1),o=t.length,r=0;r<o;r++)if("object"==typeof i||void 0===i?t[r].slick=new s(t[r],i):e=t[r].slick[i].apply(t[r].slick,n),void 0!==e)return e;return t}}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?e(require("jquery")):e(window.jQuery||window.Zepto)}(function(u){function e(){}function c(e,t){h.ev.on("mfp"+e+y,t)}function g(e,t,i,n){var o=document.createElement("div");return o.className="mfp-"+e,i&&(o.innerHTML=i),n?t&&t.appendChild(o):(o=u(o),t&&o.appendTo(t)),o}function p(e,t){h.ev.triggerHandler("mfp"+e,t),h.st.callbacks&&(e=e.charAt(0).toLowerCase()+e.slice(1),h.st.callbacks[e]&&h.st.callbacks[e].apply(h,u.isArray(t)?t:[t]))}function _(e){return e===t&&h.currTemplate.closeBtn||(h.currTemplate.closeBtn=u(h.st.closeMarkup.replace("%title%",h.st.tClose)),t=e),h.currTemplate.closeBtn}function r(){u.magnificPopup.instance||((h=new e).init(),u.magnificPopup.instance=h)}var h,n,m,o,f,t,l="Close",d="BeforeClose",v="MarkupParse",b="Open",y=".mfp",w="mfp-ready",i="mfp-removing",s="mfp-prevent-close",a=!!window.jQuery,T=u(window);e.prototype={constructor:e,init:function(){var e=navigator.appVersion;h.isLowIE=h.isIE8=document.all&&!document.addEventListener,h.isAndroid=/android/gi.test(e),h.isIOS=/iphone|ipad|ipod/gi.test(e),h.supportsTransition=function(){var e=document.createElement("p").style,t=["ms","O","Moz","Webkit"];if(void 0!==e.transition)return!0;for(;t.length;)if(t.pop()+"Transition"in e)return!0;return!1}(),h.probablyMobile=h.isAndroid||h.isIOS||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent),m=u(document),h.popupsCache={}},open:function(e){if(!1===e.isObj){h.items=e.items.toArray(),h.index=0;for(var t,i=e.items,n=0;n<i.length;n++)if((t=i[n]).parsed&&(t=t.el[0]),t===e.el[0]){h.index=n;break}}else h.items=u.isArray(e.items)?e.items:[e.items],h.index=e.index||0;if(!h.isOpen){h.types=[],f="",e.mainEl&&e.mainEl.length?h.ev=e.mainEl.eq(0):h.ev=m,e.key?(h.popupsCache[e.key]||(h.popupsCache[e.key]={}),h.currTemplate=h.popupsCache[e.key]):h.currTemplate={},h.st=u.extend(!0,{},u.magnificPopup.defaults,e),h.fixedContentPos="auto"===h.st.fixedContentPos?!h.probablyMobile:h.st.fixedContentPos,h.st.modal&&(h.st.closeOnContentClick=!1,h.st.closeOnBgClick=!1,h.st.showCloseBtn=!1,h.st.enableEscapeKey=!1),h.bgOverlay||(h.bgOverlay=g("bg").on("click"+y,function(){h.close()}),h.wrap=g("wrap").attr("tabindex",-1).on("click"+y,function(e){h._checkIfClose(e.target)&&h.close()}),h.container=g("container",h.wrap)),h.contentContainer=g("content"),h.st.preloader&&(h.preloader=g("preloader",h.container,h.st.tLoading));var o=u.magnificPopup.modules;for(n=0;n<o.length;n++){var r=(r=o[n]).charAt(0).toUpperCase()+r.slice(1);h["init"+r].call(h)}p("BeforeOpen"),h.st.showCloseBtn&&(h.st.closeBtnInside?(c(v,function(e,t,i,n){i.close_replaceWith=_(n.type)}),f+=" mfp-close-btn-in"):h.wrap.append(_())),h.st.alignTop&&(f+=" mfp-align-top"),h.fixedContentPos?h.wrap.css({overflow:h.st.overflowY,overflowX:"hidden",overflowY:h.st.overflowY}):h.wrap.css({top:T.scrollTop(),position:"absolute"}),!1!==h.st.fixedBgPos&&("auto"!==h.st.fixedBgPos||h.fixedContentPos)||h.bgOverlay.css({height:m.height(),position:"absolute"}),h.st.enableEscapeKey&&m.on("keyup"+y,function(e){27===e.keyCode&&h.close()}),T.on("resize"+y,function(){h.updateSize()}),h.st.closeOnContentClick||(f+=" mfp-auto-cursor"),f&&h.wrap.addClass(f);var s,a=h.wH=T.height(),l={};h.fixedContentPos&&(!h._hasScrollBar(a)||(s=h._getScrollbarSize())&&(l.marginRight=s)),h.fixedContentPos&&(h.isIE7?u("body, html").css("overflow","hidden"):l.overflow="hidden");var d=h.st.mainClass;return h.isIE7&&(d+=" mfp-ie7"),d&&h._addClassToMFP(d),h.updateItemHTML(),p("BuildControls"),u("html").css(l),h.bgOverlay.add(h.wrap).prependTo(h.st.prependTo||u(document.body)),h._lastFocusedEl=document.activeElement,setTimeout(function(){h.content?(h._addClassToMFP(w),h._setFocus()):h.bgOverlay.addClass(w),m.on("focusin"+y,h._onFocusIn)},16),h.isOpen=!0,h.updateSize(a),p(b),e}h.updateItemHTML()},close:function(){h.isOpen&&(p(d),h.isOpen=!1,h.st.removalDelay&&!h.isLowIE&&h.supportsTransition?(h._addClassToMFP(i),setTimeout(function(){h._close()},h.st.removalDelay)):h._close())},_close:function(){p(l);var e,t=i+" "+w+" ";h.bgOverlay.detach(),h.wrap.detach(),h.container.empty(),h.st.mainClass&&(t+=h.st.mainClass+" "),h._removeClassFromMFP(t),h.fixedContentPos&&(e={marginRight:""},h.isIE7?u("body, html").css("overflow",""):e.overflow="",u("html").css(e)),m.off("keyup.mfp focusin"+y),h.ev.off(y),h.wrap.attr("class","mfp-wrap").removeAttr("style"),h.bgOverlay.attr("class","mfp-bg"),h.container.attr("class","mfp-container"),!h.st.showCloseBtn||h.st.closeBtnInside&&!0!==h.currTemplate[h.currItem.type]||h.currTemplate.closeBtn&&h.currTemplate.closeBtn.detach(),h.st.autoFocusLast&&h._lastFocusedEl&&u(h._lastFocusedEl).focus(),h.currItem=null,h.content=null,h.currTemplate=null,h.prevHeight=0,p("AfterClose")},updateSize:function(e){var t,i;h.isIOS?(t=document.documentElement.clientWidth/window.innerWidth,i=window.innerHeight*t,h.wrap.css("height",i),h.wH=i):h.wH=e||T.height(),h.fixedContentPos||h.wrap.css("height",h.wH),p("Resize")},updateItemHTML:function(){var e=h.items[h.index];h.contentContainer.detach(),h.content&&h.content.detach(),e.parsed||(e=h.parseEl(h.index));var t,i=e.type;p("BeforeChange",[h.currItem?h.currItem.type:"",i]),h.currItem=e,h.currTemplate[i]||(t=!!h.st[i]&&h.st[i].markup,p("FirstMarkupParse",t),h.currTemplate[i]=!t||u(t)),o&&o!==e.type&&h.container.removeClass("mfp-"+o+"-holder");var n=h["get"+i.charAt(0).toUpperCase()+i.slice(1)](e,h.currTemplate[i]);h.appendContent(n,i),e.preloaded=!0,p("Change",e),o=e.type,h.container.prepend(h.contentContainer),p("AfterChange")},appendContent:function(e,t){(h.content=e)?h.st.showCloseBtn&&h.st.closeBtnInside&&!0===h.currTemplate[t]?h.content.find(".mfp-close").length||h.content.append(_()):h.content=e:h.content="",p("BeforeAppend"),h.container.addClass("mfp-"+t+"-holder"),h.contentContainer.append(h.content)},parseEl:function(e){var t,i=h.items[e];if((i=i.tagName?{el:u(i)}:(t=i.type,{data:i,src:i.src})).el){for(var n=h.types,o=0;o<n.length;o++)if(i.el.hasClass("mfp-"+n[o])){t=n[o];break}i.src=i.el.attr("data-mfp-src"),i.src||(i.src=i.el.attr("href"))}return i.type=t||h.st.type||"inline",i.index=e,i.parsed=!0,h.items[e]=i,p("ElementParse",i),h.items[e]},addGroup:function(t,i){function e(e){e.mfpEl=this,h._openClick(e,t,i)}var n="click.magnificPopup";(i=i||{}).mainEl=t,i.items?(i.isObj=!0,t.off(n).on(n,e)):(i.isObj=!1,i.delegate?t.off(n).on(n,i.delegate,e):(i.items=t).off(n).on(n,e))},_openClick:function(e,t,i){if((void 0!==i.midClick?i.midClick:u.magnificPopup.defaults.midClick)||!(2===e.which||e.ctrlKey||e.metaKey||e.altKey||e.shiftKey)){var n=void 0!==i.disableOn?i.disableOn:u.magnificPopup.defaults.disableOn;if(n)if(u.isFunction(n)){if(!n.call(h))return!0}else if(T.width()<n)return!0;e.type&&(e.preventDefault(),h.isOpen&&e.stopPropagation()),i.el=u(e.mfpEl),i.delegate&&(i.items=t.find(i.delegate)),h.open(i)}},updateStatus:function(e,t){var i;h.preloader&&(n!==e&&h.container.removeClass("mfp-s-"+n),t||"loading"!==e||(t=h.st.tLoading),p("UpdateStatus",i={status:e,text:t}),e=i.status,t=i.text,h.preloader.html(t),h.preloader.find("a").on("click",function(e){e.stopImmediatePropagation()}),h.container.addClass("mfp-s-"+e),n=e)},_checkIfClose:function(e){if(!u(e).hasClass(s)){var t=h.st.closeOnContentClick,i=h.st.closeOnBgClick;if(t&&i)return!0;if(!h.content||u(e).hasClass("mfp-close")||h.preloader&&e===h.preloader[0])return!0;if(e===h.content[0]||u.contains(h.content[0],e)){if(t)return!0}else if(i&&u.contains(document,e))return!0;return!1}},_addClassToMFP:function(e){h.bgOverlay.addClass(e),h.wrap.addClass(e)},_removeClassFromMFP:function(e){this.bgOverlay.removeClass(e),h.wrap.removeClass(e)},_hasScrollBar:function(e){return(h.isIE7?m.height():document.body.scrollHeight)>(e||T.height())},_setFocus:function(){(h.st.focus?h.content.find(h.st.focus).eq(0):h.wrap).focus()},_onFocusIn:function(e){if(e.target!==h.wrap[0]&&!u.contains(h.wrap[0],e.target))return h._setFocus(),!1},_parseMarkup:function(o,e,t){var r;t.data&&(e=u.extend(t.data,e)),p(v,[o,e,t]),u.each(e,function(e,t){return void 0===t||!1===t||void(1<(r=e.split("_")).length?0<(i=o.find(y+"-"+r[0])).length&&("replaceWith"===(n=r[1])?i[0]!==t[0]&&i.replaceWith(t):"img"===n?i.is("img")?i.attr("src",t):i.replaceWith(u("<img>").attr("src",t).attr("class",i.attr("class"))):i.attr(r[1],t)):o.find(y+"-"+e).html(t));var i,n})},_getScrollbarSize:function(){var e;return void 0===h.scrollbarSize&&((e=document.createElement("div")).style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;",document.body.appendChild(e),h.scrollbarSize=e.offsetWidth-e.clientWidth,document.body.removeChild(e)),h.scrollbarSize}},u.magnificPopup={instance:null,proto:e.prototype,modules:[],open:function(e,t){return r(),(e=e?u.extend(!0,{},e):{}).isObj=!0,e.index=t||0,this.instance.open(e)},close:function(){return u.magnificPopup.instance&&u.magnificPopup.instance.close()},registerModule:function(e,t){t.options&&(u.magnificPopup.defaults[e]=t.options),u.extend(this.proto,t.proto),this.modules.push(e)},defaults:{disableOn:0,key:null,midClick:!1,mainClass:"",preloader:!0,focus:"",closeOnContentClick:!1,closeOnBgClick:!0,closeBtnInside:!0,showCloseBtn:!0,enableEscapeKey:!0,modal:!1,alignTop:!1,removalDelay:0,prependTo:null,fixedContentPos:"auto",fixedBgPos:"auto",overflowY:"auto",closeMarkup:'<button title="%title%" type="button" class="mfp-close">&#215;</button>',tClose:"Close (Esc)",tLoading:"Loading...",autoFocusLast:!0}},u.fn.magnificPopup=function(e){r();var t,i,n,o=u(this);return"string"==typeof e?"open"===e?(t=a?o.data("magnificPopup"):o[0].magnificPopup,i=parseInt(arguments[1],10)||0,n=t.items?t.items[i]:(n=o,t.delegate&&(n=n.find(t.delegate)),n.eq(i)),h._openClick({mfpEl:n},o,t)):h.isOpen&&h[e].apply(h,Array.prototype.slice.call(arguments,1)):(e=u.extend(!0,{},e),a?o.data("magnificPopup",e):o[0].magnificPopup=e,h.addGroup(o,e)),o};function I(){x&&(E.after(x.addClass(S)).detach(),x=null)}var S,E,x,P="inline";u.magnificPopup.registerModule(P,{options:{hiddenClass:"hide",markup:"",tNotFound:"Content not found"},proto:{initInline:function(){h.types.push(P),c(l+"."+P,function(){I()})},getInline:function(e,t){if(I(),e.src){var i,n=h.st.inline,o=u(e.src);return o.length?((i=o[0].parentNode)&&i.tagName&&(E||(S=n.hiddenClass,E=g(S),S="mfp-"+S),x=o.after(E).detach().removeClass(S)),h.updateStatus("ready")):(h.updateStatus("error",n.tNotFound),o=u("<div>")),e.inlineElement=o}return h.updateStatus("ready"),h._parseMarkup(t,{},e),t}}});function C(){A&&u(document.body).removeClass(A)}function j(){C(),h.req&&h.req.abort()}var A,k="ajax";u.magnificPopup.registerModule(k,{options:{settings:null,cursor:"mfp-ajax-cur",tError:'<a href="%url%">The content</a> could not be loaded.'},proto:{initAjax:function(){h.types.push(k),A=h.st.ajax.cursor,c(l+"."+k,j),c("BeforeChange."+k,j)},getAjax:function(o){A&&u(document.body).addClass(A),h.updateStatus("loading");var e=u.extend({url:o.src,success:function(e,t,i){var n={data:e,xhr:i};p("ParseAjax",n),h.appendContent(u(n.data),k),o.finished=!0,C(),h._setFocus(),setTimeout(function(){h.wrap.addClass(w)},16),h.updateStatus("ready"),p("AjaxContentAdded")},error:function(){C(),o.finished=o.loadError=!0,h.updateStatus("error",h.st.ajax.tError.replace("%url%",o.src))}},h.st.ajax.settings);return h.req=u.ajax(e),""}}});var M;u.magnificPopup.registerModule("image",{options:{markup:'<div class="mfp-figure"><div class="mfp-close"></div><figure><div class="mfp-img"></div><figcaption><div class="mfp-bottom-bar"><div class="mfp-title"></div><div class="mfp-counter"></div></div></figcaption></figure></div>',cursor:"mfp-zoom-out-cur",titleSrc:"title",verticalFit:!0,tError:'<a href="%url%">The image</a> could not be loaded.'},proto:{initImage:function(){var e=h.st.image,t=".image";h.types.push("image"),c(b+t,function(){"image"===h.currItem.type&&e.cursor&&u(document.body).addClass(e.cursor)}),c(l+t,function(){e.cursor&&u(document.body).removeClass(e.cursor),T.off("resize"+y)}),c("Resize"+t,h.resizeImage),h.isLowIE&&c("AfterChange",h.resizeImage)},resizeImage:function(){var e,t=h.currItem;t&&t.img&&h.st.image.verticalFit&&(e=0,h.isLowIE&&(e=parseInt(t.img.css("padding-top"),10)+parseInt(t.img.css("padding-bottom"),10)),t.img.css("max-height",h.wH-e))},_onImageHasSize:function(e){e.img&&(e.hasSize=!0,M&&clearInterval(M),e.isCheckingImgSize=!1,p("ImageHasSize",e),e.imgHidden&&(h.content&&h.content.removeClass("mfp-loading"),e.imgHidden=!1))},findImageSize:function(t){var i=0,n=t.img[0],o=function(e){M&&clearInterval(M),M=setInterval(function(){0<n.naturalWidth?h._onImageHasSize(t):(200<i&&clearInterval(M),3===++i?o(10):40===i?o(50):100===i&&o(500))},e)};o(1)},getImage:function(e,t){var i,n=0,o=function(){e&&(e.img[0].complete?(e.img.off(".mfploader"),e===h.currItem&&(h._onImageHasSize(e),h.updateStatus("ready")),e.hasSize=!0,e.loaded=!0,p("ImageLoadComplete")):++n<200?setTimeout(o,100):r())},r=function(){e&&(e.img.off(".mfploader"),e===h.currItem&&(h._onImageHasSize(e),h.updateStatus("error",s.tError.replace("%url%",e.src))),e.hasSize=!0,e.loaded=!0,e.loadError=!0)},s=h.st.image,a=t.find(".mfp-img");return a.length&&((i=document.createElement("img")).className="mfp-img",e.el&&e.el.find("img").length&&(i.alt=e.el.find("img").attr("alt")),e.img=u(i).on("load.mfploader",o).on("error.mfploader",r),i.src=e.src,a.is("img")&&(e.img=e.img.clone()),0<(i=e.img[0]).naturalWidth?e.hasSize=!0:i.width||(e.hasSize=!1)),h._parseMarkup(t,{title:function(e){if(e.data&&void 0!==e.data.title)return e.data.title;var t=h.st.image.titleSrc;if(t){if(u.isFunction(t))return t.call(h,e);if(e.el)return e.el.attr(t)||""}return""}(e),img_replaceWith:e.img},e),h.resizeImage(),e.hasSize?(M&&clearInterval(M),e.loadError?(t.addClass("mfp-loading"),h.updateStatus("error",s.tError.replace("%url%",e.src))):(t.removeClass("mfp-loading"),h.updateStatus("ready"))):(h.updateStatus("loading"),e.loading=!0,e.hasSize||(e.imgHidden=!0,t.addClass("mfp-loading"),h.findImageSize(e))),t}}});var O;u.magnificPopup.registerModule("zoom",{options:{enabled:!1,easing:"ease-in-out",duration:300,opener:function(e){return e.is("img")?e:e.find("img")}},proto:{initZoom:function(){var e,t,i,n,o,r,s=h.st.zoom,a=".zoom";s.enabled&&h.supportsTransition&&(t=s.duration,i=function(e){var t=e.clone().removeAttr("style").removeAttr("class").addClass("mfp-animated-image"),i="all "+s.duration/1e3+"s "+s.easing,n={position:"fixed",zIndex:9999,left:0,top:0,"-webkit-backface-visibility":"hidden"},o="transition";return n["-webkit-"+o]=n["-moz-"+o]=n["-o-"+o]=n[o]=i,t.css(n),t},n=function(){h.content.css("visibility","visible")},c("BuildControls"+a,function(){if(h._allowZoom()){if(clearTimeout(o),h.content.css("visibility","hidden"),!(e=h._getItemToZoom()))return void n();(r=i(e)).css(h._getOffset()),h.wrap.append(r),o=setTimeout(function(){r.css(h._getOffset(!0)),o=setTimeout(function(){n(),setTimeout(function(){r.remove(),e=r=null,p("ZoomAnimationEnded")},16)},t)},16)}}),c(d+a,function(){if(h._allowZoom()){if(clearTimeout(o),h.st.removalDelay=t,!e){if(!(e=h._getItemToZoom()))return;r=i(e)}r.css(h._getOffset(!0)),h.wrap.append(r),h.content.css("visibility","hidden"),setTimeout(function(){r.css(h._getOffset())},16)}}),c(l+a,function(){h._allowZoom()&&(n(),r&&r.remove(),e=null)}))},_allowZoom:function(){return"image"===h.currItem.type},_getItemToZoom:function(){return!!h.currItem.hasSize&&h.currItem.img},_getOffset:function(e){var t=e?h.currItem.img:h.st.zoom.opener(h.currItem.el||h.currItem),i=t.offset(),n=parseInt(t.css("padding-top"),10),o=parseInt(t.css("padding-bottom"),10);i.top-=u(window).scrollTop()-n;var r={width:t.width(),height:(a?t.innerHeight():t[0].offsetHeight)-o-n};return void 0===O&&(O=void 0!==document.createElement("p").style.MozTransform),O?r["-moz-transform"]=r.transform="translate("+i.left+"px,"+i.top+"px)":(r.left=i.left,r.top=i.top),r}}});function z(e){var t;!h.currTemplate[H]||(t=h.currTemplate[H].find("iframe")).length&&(e||(t[0].src="//about:blank"),h.isIE8&&t.css("display",e?"block":"none"))}var H="iframe";u.magnificPopup.registerModule(H,{options:{markup:'<div class="mfp-iframe-scaler"><div class="mfp-close"></div><iframe class="mfp-iframe" src="//about:blank" frameborder="0" allowfullscreen></iframe></div>',srcAction:"iframe_src",patterns:{youtube:{index:"youtube.com",id:"v=",src:"//www.youtube.com/embed/%id%?autoplay=1"},vimeo:{index:"vimeo.com/",id:"/",src:"//player.vimeo.com/video/%id%?autoplay=1"},gmaps:{index:"//maps.google.",src:"%id%&output=embed"}}},proto:{initIframe:function(){h.types.push(H),c("BeforeChange",function(e,t,i){t!==i&&(t===H?z():i===H&&z(!0))}),c(l+"."+H,function(){z()})},getIframe:function(e,t){var i=e.src,n=h.st.iframe;u.each(n.patterns,function(){if(-1<i.indexOf(this.index))return this.id&&(i="string"==typeof this.id?i.substr(i.lastIndexOf(this.id)+this.id.length,i.length):this.id.call(this,i)),i=this.src.replace("%id%",i),!1});var o={};return n.srcAction&&(o[n.srcAction]=i),h._parseMarkup(t,o,e),h.updateStatus("ready"),t}}});function L(e){var t=h.items.length;return t-1<e?e-t:e<0?t+e:e}function N(e,t,i){return e.replace(/%curr%/gi,t+1).replace(/%total%/gi,i)}u.magnificPopup.registerModule("gallery",{options:{enabled:!1,arrowMarkup:'<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir%"></button>',preload:[0,2],navigateByImgClick:!0,arrows:!0,tPrev:"Previous (Left arrow key)",tNext:"Next (Right arrow key)",tCounter:"%curr% of %total%"},proto:{initGallery:function(){var r=h.st.gallery,e=".mfp-gallery";if(h.direction=!0,!r||!r.enabled)return!1;f+=" mfp-gallery",c(b+e,function(){r.navigateByImgClick&&h.wrap.on("click"+e,".mfp-img",function(){if(1<h.items.length)return h.next(),!1}),m.on("keydown"+e,function(e){37===e.keyCode?h.prev():39===e.keyCode&&h.next()})}),c("UpdateStatus"+e,function(e,t){t.text&&(t.text=N(t.text,h.currItem.index,h.items.length))}),c(v+e,function(e,t,i,n){var o=h.items.length;i.counter=1<o?N(r.tCounter,n.index,o):""}),c("BuildControls"+e,function(){var e,t,i;1<h.items.length&&r.arrows&&!h.arrowLeft&&(e=r.arrowMarkup,t=h.arrowLeft=u(e.replace(/%title%/gi,r.tPrev).replace(/%dir%/gi,"left")).addClass(s),i=h.arrowRight=u(e.replace(/%title%/gi,r.tNext).replace(/%dir%/gi,"right")).addClass(s),t.click(function(){h.prev()}),i.click(function(){h.next()}),h.container.append(t.add(i)))}),c("Change"+e,function(){h._preloadTimeout&&clearTimeout(h._preloadTimeout),h._preloadTimeout=setTimeout(function(){h.preloadNearbyImages(),h._preloadTimeout=null},16)}),c(l+e,function(){m.off(e),h.wrap.off("click"+e),h.arrowRight=h.arrowLeft=null})},next:function(){h.direction=!0,h.index=L(h.index+1),h.updateItemHTML()},prev:function(){h.direction=!1,h.index=L(h.index-1),h.updateItemHTML()},goTo:function(e){h.direction=e>=h.index,h.index=e,h.updateItemHTML()},preloadNearbyImages:function(){for(var e=h.st.gallery.preload,t=Math.min(e[0],h.items.length),i=Math.min(e[1],h.items.length),n=1;n<=(h.direction?i:t);n++)h._preloadItem(h.index+n);for(n=1;n<=(h.direction?t:i);n++)h._preloadItem(h.index-n)},_preloadItem:function(e){var t;e=L(e),h.items[e].preloaded||((t=h.items[e]).parsed||(t=h.parseEl(e)),p("LazyLoad",t),"image"===t.type&&(t.img=u('<img class="mfp-img" />').on("load.mfploader",function(){t.hasSize=!0}).on("error.mfploader",function(){t.hasSize=!0,t.loadError=!0,p("LazyLoadError",t)}).attr("src",t.src)),t.preloaded=!0)}}});var R="retina";u.magnificPopup.registerModule(R,{options:{replaceSrc:function(e){return e.src.replace(/\.\w+$/,function(e){return"@2x"+e})},ratio:1},proto:{initRetina:function(){var i,n;1<window.devicePixelRatio&&(i=h.st.retina,n=i.ratio,1<(n=isNaN(n)?n():n)&&(c("ImageHasSize."+R,function(e,t){t.img.css({"max-width":t.img[0].naturalWidth/n,width:"100%"})}),c("ElementParse."+R,function(e,t){t.src=i.replaceSrc(t,n)})))}}}),r()});var g_ugFunctions=new UGFunctions;!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e:e(jQuery)}(function(d){function t(e){var t,i,n,o=e||window.event,r=_.call(arguments,1),s=0,a=0,l=0;if((e=d.event.fix(o)).type="mousewheel","detail"in o&&(l=-1*o.detail),"wheelDelta"in o&&(l=o.wheelDelta),"wheelDeltaY"in o&&(l=o.wheelDeltaY),"wheelDeltaX"in o&&(a=-1*o.wheelDeltaX),"axis"in o&&o.axis===o.HORIZONTAL_AXIS&&(a=-1*l,l=0),s=0===l?a:l,"deltaY"in o&&(s=l=-1*o.deltaY),"deltaX"in o&&(a=o.deltaX,0===l&&(s=-1*a)),0!==l||0!==a)return 1===o.deltaMode?(s*=i=d.data(this,"mousewheel-line-height"),l*=i,a*=i):2===o.deltaMode&&(s*=n=d.data(this,"mousewheel-page-height"),l*=n,a*=n),t=Math.max(Math.abs(l),Math.abs(a)),(!p||t<p)&&(c(o,p=t)&&(p/=40)),c(o,t)&&(s/=40,a/=40,l/=40),s=Math[1<=s?"floor":"ceil"](s/p),a=Math[1<=a?"floor":"ceil"](a/p),l=Math[1<=l?"floor":"ceil"](l/p),e.deltaX=a,e.deltaY=l,e.deltaFactor=p,e.deltaMode=0,r.unshift(e,s,a,l),g&&clearTimeout(g),g=setTimeout(u,200),(d.event.dispatch||d.event.handle).apply(this,r)}function u(){p=null}function c(e,t){return o.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120==0}var g,p,e=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],i="onwheel"in document||9<=document.documentMode?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],_=Array.prototype.slice;if(d.event.fixHooks)for(var n=e.length;n;)d.event.fixHooks[e[--n]]=d.event.mouseHooks;var o=d.event.special.mousewheel={version:"3.1.9",setup:function(){if(this.addEventListener)for(var e=i.length;e;)this.addEventListener(i[--e],t,!1);else this.onmousewheel=t;d.data(this,"mousewheel-line-height",o.getLineHeight(this)),d.data(this,"mousewheel-page-height",o.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var e=i.length;e;)this.removeEventListener(i[--e],t,!1);else this.onmousewheel=null},getLineHeight:function(e){return parseInt(d(e)["offsetParent"in d.fn?"offsetParent":"parent"]().css("fontSize"),10)},getPageHeight:function(e){return d(e).height()},settings:{adjustOldDeltas:!0}};d.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&"object"==typeof module.exports?exports=e(require("jquery")):e(jQuery)}(function(t){function i(e){var t=7.5625;return e<1/2.75?t*e*e:e<2/2.75?t*(e-=1.5/2.75)*e+.75:e<2.5/2.75?t*(e-=2.25/2.75)*e+.9375:t*(e-=2.625/2.75)*e+.984375}t.easing.jswing=t.easing.swing;var n=Math.pow,o=Math.sqrt,r=Math.sin,s=Math.cos,a=Math.PI,l=1.70158,d=2.5949095,u=2*a/3,c=2*a/4.5;t.extend(t.easing,{def:"easeOutQuad",swing:function(e){return t.easing[t.easing.def](e)},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return 1-(1-e)*(1-e)},easeInOutQuad:function(e){return e<.5?2*e*e:1-n(-2*e+2,2)/2},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return 1-n(1-e,3)},easeInOutCubic:function(e){return e<.5?4*e*e*e:1-n(-2*e+2,3)/2},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1-n(1-e,4)},easeInOutQuart:function(e){return e<.5?8*e*e*e*e:1-n(-2*e+2,4)/2},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1-n(1-e,5)},easeInOutQuint:function(e){return e<.5?16*e*e*e*e*e:1-n(-2*e+2,5)/2},easeInSine:function(e){return 1-s(e*a/2)},easeOutSine:function(e){return r(e*a/2)},easeInOutSine:function(e){return-(s(a*e)-1)/2},easeInExpo:function(e){return 0===e?0:n(2,10*e-10)},easeOutExpo:function(e){return 1===e?1:1-n(2,-10*e)},easeInOutExpo:function(e){return 0===e?0:1===e?1:e<.5?n(2,20*e-10)/2:(2-n(2,-20*e+10))/2},easeInCirc:function(e){return 1-o(1-n(e,2))},easeOutCirc:function(e){return o(1-n(e-1,2))},easeInOutCirc:function(e){return e<.5?(1-o(1-n(2*e,2)))/2:(o(1-n(-2*e+2,2))+1)/2},easeInElastic:function(e){return 0===e?0:1===e?1:-n(2,10*e-10)*r((10*e-10.75)*u)},easeOutElastic:function(e){return 0===e?0:1===e?1:n(2,-10*e)*r((10*e-.75)*u)+1},easeInOutElastic:function(e){return 0===e?0:1===e?1:e<.5?-(n(2,20*e-10)*r((20*e-11.125)*c))/2:n(2,-20*e+10)*r((20*e-11.125)*c)/2+1},easeInBack:function(e){return 2.70158*e*e*e-l*e*e},easeOutBack:function(e){return 1+2.70158*n(e-1,3)+l*n(e-1,2)},easeInOutBack:function(e){return e<.5?n(2*e,2)*(7.189819*e-d)/2:(n(2*e-2,2)*((1+d)*(2*e-2)+d)+2)/2},easeInBounce:function(e){return 1-i(1-e)},easeOutBounce:i,easeInOutBounce:function(e){return e<.5?(1-i(1-2*e))/2:(1+i(2*e-1))/2}})}),function(u,c){function g(e,t,i){var n=m[t.type]||{};return null==e?i||!t.def?null:t.def:(e=n.floor?~~e:parseFloat(e),isNaN(e)?t.def:n.mod?(e+n.mod)%n.mod:e<0?0:n.max<e?n.max:e)}function a(s){var a=_(),l=a._rgba=[];return s=s.toLowerCase(),f(e,function(e,t){var i,n=t.re.exec(s),o=n&&t.parse(n),r=t.space||"rgba";return o?(i=a[r](o),a[h[r].cache]=i[h[r].cache],l=a._rgba=i._rgba,!1):void 0}),l.length?("0,0,0,0"===l.join()&&u.extend(l,d.transparent),a):d[s]}function l(e,t,i){return 6*(i=(i+1)%1)<1?e+(t-e)*i*6:2*i<1?t:3*i<2?e+(t-e)*(2/3-i)*6:e}var d,p,e,_,h,m,s,t,f;void 0!==u.cssHooks&&(p=/^([\-+])=\s*(\d+\.?\d*)/,e=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],_=u.Color=function(e,t,i,n){return new u.Color.fn.parse(e,t,i,n)},h={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},m={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},s=_.support={},t=u("<p>")[0],f=u.each,t.style.cssText="background-color:rgba(1,1,1,.5)",s.rgba=-1<t.style.backgroundColor.indexOf("rgba"),f(h,function(e,t){t.cache="_"+e,t.props.alpha={idx:3,type:"percent",def:1}}),_.fn=u.extend(_.prototype,{parse:function(o,e,t,i){if(o===c)return this._rgba=[null,null,null,null],this;(o.jquery||o.nodeType)&&(o=u(o).css(e),e=c);var r=this,n=u.type(o),s=this._rgba=[];return e!==c&&(o=[o,e,t,i],n="array"),"string"===n?this.parse(a(o)||d._default):"array"===n?(f(h.rgba.props,function(e,t){s[t.idx]=g(o[t.idx],t)}),this):"object"===n?(f(h,o instanceof _?function(e,t){o[t.cache]&&(r[t.cache]=o[t.cache].slice())}:function(e,i){var n=i.cache;f(i.props,function(e,t){if(!r[n]&&i.to){if("alpha"===e||null==o[e])return;r[n]=i.to(r._rgba)}r[n][t.idx]=g(o[e],t,!0)}),r[n]&&u.inArray(null,r[n].slice(0,3))<0&&(r[n][3]=1,i.from&&(r._rgba=i.from(r[n])))}),this):void 0},is:function(e){var o=_(e),r=!0,s=this;return f(h,function(e,t){var i,n=o[t.cache];return n&&(i=s[t.cache]||t.to&&t.to(s._rgba)||[],f(t.props,function(e,t){return null!=n[t.idx]?r=n[t.idx]===i[t.idx]:void 0})),r}),r},_space:function(){var i=[],n=this;return f(h,function(e,t){n[t.cache]&&i.push(e)}),i.pop()},transition:function(e,s){var t=(d=_(e))._space(),i=h[t],n=0===this.alpha()?_("transparent"):this,a=n[i.cache]||i.to(n._rgba),l=a.slice(),d=d[i.cache];return f(i.props,function(e,t){var i=t.idx,n=a[i],o=d[i],r=m[t.type]||{};null!==o&&(null===n?l[i]=o:(r.mod&&(r.mod/2<o-n?n+=r.mod:r.mod/2<n-o&&(n-=r.mod)),l[i]=g((o-n)*s+n,t)))}),this[t](l)},blend:function(e){if(1===this._rgba[3])return this;var t=this._rgba.slice(),i=t.pop(),n=_(e)._rgba;return _(u.map(t,function(e,t){return(1-i)*n[t]+i*e}))},toRgbaString:function(){var e="rgba(",t=u.map(this._rgba,function(e,t){return null==e?2<t?1:0:e});return 1===t[3]&&(t.pop(),e="rgb("),e+t.join()+")"},toHslaString:function(){var e="hsla(",t=u.map(this.hsla(),function(e,t){return null==e&&(e=2<t?1:0),t&&t<3&&(e=Math.round(100*e)+"%"),e});return 1===t[3]&&(t.pop(),e="hsl("),e+t.join()+")"},toHexString:function(e){var t=this._rgba.slice(),i=t.pop();return e&&t.push(~~(255*i)),"#"+u.map(t,function(e){return 1===(e=(e||0).toString(16)).length?"0"+e:e}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),_.fn.parse.prototype=_.fn,h.hsla.to=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/255,i=e[1]/255,n=e[2]/255,o=e[3],r=Math.max(t,i,n),s=Math.min(t,i,n),a=r-s,l=r+s,d=.5*l,u=s===r?0:t===r?60*(i-n)/a+360:i===r?60*(n-t)/a+120:60*(t-i)/a+240,c=0==a?0:d<=.5?a/l:a/(2-l);return[Math.round(u)%360,c,d,null==o?1:o]},h.hsla.from=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/360,i=e[1],n=e[2],o=e[3],r=n<=.5?n*(1+i):n+i-n*i,s=2*n-r;return[Math.round(255*l(s,r,t+1/3)),Math.round(255*l(s,r,t)),Math.round(255*l(s,r,t-1/3)),o]},f(h,function(l,e){var i=e.props,s=e.cache,a=e.to,d=e.from;_.fn[l]=function(e){if(a&&!this[s]&&(this[s]=a(this._rgba)),e===c)return this[s].slice();var t,n=u.type(e),o="array"===n||"object"===n?e:arguments,r=this[s].slice();return f(i,function(e,t){var i=o["object"===n?e:t.idx];null==i&&(i=r[t.idx]),r[t.idx]=g(i,t)}),d?((t=_(d(r)))[s]=r,t):_(r)},f(i,function(s,a){_.fn[s]||(_.fn[s]=function(e){var t,i=u.type(e),n="alpha"===s?this._hsla?"hsla":"rgba":l,o=this[n](),r=o[a.idx];return"undefined"===i?r:("function"===i&&(e=e.call(this,r),i=u.type(e)),null==e&&a.empty?this:("string"===i&&((t=p.exec(e))&&(e=r+parseFloat(t[2])*("+"===t[1]?1:-1))),o[a.idx]=e,this[n](o)))})})}),_.hook=function(e){var t=e.split(" ");f(t,function(e,r){u.cssHooks[r]={set:function(e,t){var i,n,o="";if("transparent"!==t&&("string"!==u.type(t)||(i=a(t)))){if(t=_(i||t),!s.rgba&&1!==t._rgba[3]){for(n="backgroundColor"===r?e.parentNode:e;(""===o||"transparent"===o)&&n&&n.style;)try{o=u.css(n,"backgroundColor"),n=n.parentNode}catch(e){}t=t.blend(o&&"transparent"!==o?o:"_default")}t=t.toRgbaString()}try{e.style[r]=t}catch(e){}}},u.fx.step[r]=function(e){e.colorInit||(e.start=_(e.elem,r),e.end=_(e.end),e.colorInit=!0),u.cssHooks[r].set(e.elem,e.start.transition(e.end,e.pos))}})},_.hook("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor"),u.cssHooks.borderColor={expand:function(i){var n={};return f(["Top","Right","Bottom","Left"],function(e,t){n["border"+t+"Color"]=i}),n}},d=u.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"})}(jQuery),function(n){n.mlp={x:0,y:0},n(function e(){try{var t=this===document?n(this):n(this).contents()}catch(e){return!1}t.mousemove(function(e){n.mlp={x:e.pageX,y:e.pageY}}),t.find("iframe").on("load",e)}),n.fn.ismouseover=function(){var i=!1;return this.eq(0).each(function(){var e=n(this).is("iframe")?n(this).contents().find("body"):n(this),t=e.offset();i=t.left<=n.mlp.x&&t.left+e.outerWidth()>n.mlp.x&&t.top<=n.mlp.y&&t.top+e.outerHeight()>n.mlp.y}),i}}(jQuery);var g_ugYoutubeAPI=new UGYoutubeAPI,g_ugVimeoAPI=new UGVimeoAPI,g_ugHtml5MediaAPI=new UGHtml5MediaAPI,g_ugSoundCloudAPI=new UGSoundCloudAPI,g_ugWistiaAPI=new UGWistiaAPI;jQuery.fn.unitegallery=function(e){var t="#"+jQuery(this).attr("id");e=e||{};var i=new UniteGalleryMain;return i.run(t,e),new UG_API(i)};